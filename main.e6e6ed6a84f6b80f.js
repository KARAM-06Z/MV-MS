(self.webpackChunkMVMT_MANAGEMENT=self.webpackChunkMVMT_MANAGEMENT||[]).push([[179],{2011:(Ye,we,P)=>{"use strict";P.d(we,{hO:()=>Le,xv:()=>ne,Dh:()=>te,GT:()=>pe,cc:()=>Ie,on:()=>B,pX:()=>X});var l=P(5e3),Q=P(127),k=P(6351);Ye=P.hmd(Ye);const de=["ngOnDestroy"],X=(ue,Te,xe,le={})=>new Proxy(ue,{get:(ge,ve)=>xe.runOutsideAngular(()=>{var Be;if(ue[ve])return(null===(Be=null==le?void 0:le.spy)||void 0===Be?void 0:Be.get)&&le.spy.get(ve,ue[ve]),ue[ve];if(de.indexOf(ve)>-1)return()=>{};const je=Te.toPromise().then(re=>{const K=re&&re[ve];return"function"==typeof K?K.bind(re):K&&K.then?K.then(oe=>xe.run(()=>oe)):xe.run(()=>K)});return new Proxy(()=>{},{get:(re,K)=>je[K],apply:(re,K,oe)=>je.then(me=>{var ae;const Me=me&&me(...oe);return(null===(ae=null==le?void 0:le.spy)||void 0===ae?void 0:ae.apply)&&le.spy.apply(ve,oe,Me),Me})})})}),pe=(ue,Te)=>{Te.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach(le=>{Object.defineProperty(ue.prototype,le,Object.getOwnPropertyDescriptor(xe.prototype||xe,le))})})};class se{constructor(Te){return Te}}const te=new l.OlP("angularfire2.app.options"),ne=new l.OlP("angularfire2.app.name");function B(ue,Te,xe){const ge="object"==typeof xe&&xe||{};ge.name=ge.name||"string"==typeof xe&&xe||"[DEFAULT]";const Be=Q.Z.apps.filter(je=>je&&je.name===ge.name)[0]||Te.runOutsideAngular(()=>Q.Z.initializeApp(ue,ge));try{JSON.stringify(ue)!==JSON.stringify(Be.options)&&V("error",`${Be.name} Firebase App already initialized with different options${Ye.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new se(Be)}const V=(ue,...Te)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ue](...Te)},J={provide:se,useFactory:B,deps:[te,l.R0b,[new l.FiY,ne]]};let Le=(()=>{class ue{constructor(xe){Q.Z.registerVersion("angularfire",k.q4.full,"core"),Q.Z.registerVersion("angularfire",k.q4.full,"app-compat"),Q.Z.registerVersion("angular",l.q4F.full,xe.toString())}static initializeApp(xe,le){return{ngModule:ue,providers:[{provide:te,useValue:xe},{provide:ne,useValue:le}]}}}return ue.\u0275fac=function(xe){return new(xe||ue)(l.LFG(l.Lbi))},ue.\u0275mod=l.oAB({type:ue}),ue.\u0275inj=l.cJS({providers:[J]}),ue})();function Ie(ue,Te,xe,le,ge){const[,ve,Be]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===ue)||[];if(ve)return function Ae(ue,Te){try{return ue.toString()===Te.toString()}catch(xe){return ue===Te}}(ge,Be)||(W("error",`${Te} was already initialized on the ${xe} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:ge,was:Be})),ve;{const je=le();return globalThis.\u0275AngularfireInstanceCache.push([ue,je,ge]),je}}const Ne=!!Ye.hot,W=(ue,...Te)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ue](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Ye,we,P)=>{"use strict";P.d(we,{q4:()=>dr,iC:()=>da,fc:()=>Ml,HU:()=>bd,vb:()=>Al,JM:()=>Fg});var l=P(5e3),Q=P(5867),k=P(5861),de=P(9681),X=P(2090),pe=P(4859),se=P(1877),te=P(2940);const ne="@firebase/installations",B="0.5.5",J=`w:${B}`,Le="FIS_v2",Te=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xe(b){return b instanceof X.ZR&&b.code.includes("request-failed")}function le({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function ge(b){return{token:b.token,requestStatus:2,expiresIn:me(b.expiresIn),creationTime:Date.now()}}function ve(b,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,k.Z)(function*(b,I){const L=(yield I.json()).error;return Te.create("request-failed",{requestName:b,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function je({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function re(b,{refreshToken:I}){const x=je(b);return x.append("Authorization",function ae(b){return`${Le} ${b}`}(I)),x}function K(b){return oe.apply(this,arguments)}function oe(){return(oe=(0,k.Z)(function*(b){const I=yield b();return I.status>=500&&I.status<600?b():I})).apply(this,arguments)}function me(b){return Number(b.replace("s","000"))}function Me(b,I){return he.apply(this,arguments)}function he(){return(he=(0,k.Z)(function*(b,{fid:I}){const x=le(b),ie={method:"POST",headers:je(b),body:JSON.stringify({fid:I,authVersion:Le,appId:b.appId,sdkVersion:J})},Se=yield K(()=>fetch(x,ie));if(Se.ok){const $e=yield Se.json();return{fid:$e.fid||I,registrationStatus:2,refreshToken:$e.refreshToken,authToken:ge($e.authToken)}}throw yield ve("Create Installation",Se)})).apply(this,arguments)}function ct(b){return new Promise(I=>{setTimeout(I,b)})}const Rn=/^[cdef][\w-]{21}$/;function lt(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const x=function tn(b){return function Mt(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Rn.test(x)?x:""}catch(b){return""}}function Rt(b){return`${b.appName}!${b.appId}`}const On=new Map;function Bt(b,I){const x=Rt(b);Ct(x,I),function ti(b,I){const x=function jn(){return!xr&&"BroadcastChannel"in self&&(xr=new BroadcastChannel("[Firebase] FID Change"),xr.onmessage=b=>{Ct(b.data.key,b.data.fid)}),xr}();x&&x.postMessage({key:b,fid:I}),function nr(){0===On.size&&xr&&(xr.close(),xr=null)}()}(x,I)}function Ct(b,I){const x=On.get(b);if(x)for(const L of x)L(I)}let xr=null;const gr="firebase-installations-store";let ri=null;function it(){return ri||(ri=(0,te.openDb)("firebase-installations-database",1,b=>{0===b.oldVersion&&b.createObjectStore(gr)})),ri}function Mr(b,I){return nn.apply(this,arguments)}function nn(){return(nn=(0,k.Z)(function*(b,I){const x=Rt(b),Z=(yield it()).transaction(gr,"readwrite"),ie=Z.objectStore(gr),Se=yield ie.get(x);return yield ie.put(I,x),yield Z.complete,(!Se||Se.fid!==I.fid)&&Bt(b,I.fid),I})).apply(this,arguments)}function pn(b){return qi.apply(this,arguments)}function qi(){return(qi=(0,k.Z)(function*(b){const I=Rt(b),L=(yield it()).transaction(gr,"readwrite");yield L.objectStore(gr).delete(I),yield L.complete})).apply(this,arguments)}function mr(b,I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,k.Z)(function*(b,I){const x=Rt(b),Z=(yield it()).transaction(gr,"readwrite"),ie=Z.objectStore(gr),Se=yield ie.get(x),$e=I(Se);return void 0===$e?yield ie.delete(x):yield ie.put($e,x),yield Z.complete,$e&&(!Se||Se.fid!==$e.fid)&&Bt(b,$e.fid),$e})).apply(this,arguments)}function Qt(b){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,k.Z)(function*(b){let I;const x=yield mr(b,L=>{const Z=Ki(L),ie=Tt(b,Z);return I=ie.registrationPromise,ie.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function Ki(b){return wi(b||{fid:lt(),registrationStatus:0})}function Tt(b,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Te.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Qe(b,I){return st.apply(this,arguments)}(b,x);return{installationEntry:x,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Zn(b)}:{installationEntry:I}}function st(){return(st=(0,k.Z)(function*(b,I){try{return Mr(b,yield Me(b,I))}catch(x){throw xe(x)&&409===x.customData.serverCode?yield pn(b):yield Mr(b,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Zn(b){return zr.apply(this,arguments)}function zr(){return(zr=(0,k.Z)(function*(b){let I=yield _t(b);for(;1===I.registrationStatus;)yield ct(100),I=yield _t(b);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:L}=yield Qt(b);return L||x}return I})).apply(this,arguments)}function _t(b){return mr(b,I=>{if(!I)throw Te.create("installation-not-found");return wi(I)})}function wi(b){return function qn(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function rr(b,I){return U.apply(this,arguments)}function U(){return(U=(0,k.Z)(function*({appConfig:b,platformLoggerProvider:I},x){const L=$(b,x),Z=re(b,x),ie=I.getImmediate({optional:!0});ie&&Z.append("x-firebase-client",ie.getPlatformInfoString());const $e={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:J}})},Ge=yield K(()=>fetch(L,$e));if(Ge.ok)return ge(yield Ge.json());throw yield ve("Generate Auth Token",Ge)})).apply(this,arguments)}function $(b,{fid:I}){return`${le(b)}/${I}/authTokens:generate`}function G(b){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,k.Z)(function*(b,I=!1){let x;const L=yield mr(b.appConfig,ie=>{if(!We(ie))throw Te.create("not-registered");const Se=ie.authToken;if(!I&&ft(Se))return ie;if(1===Se.requestStatus)return x=ee(b,I),ie;{if(!navigator.onLine)throw Te.create("app-offline");const $e=kt(ie);return x=_e(b,$e),$e}});return x?yield x:L.authToken})).apply(this,arguments)}function ee(b,I){return He.apply(this,arguments)}function He(){return(He=(0,k.Z)(function*(b,I){let x=yield Ee(b.appConfig);for(;1===x.authToken.requestStatus;)yield ct(100),x=yield Ee(b.appConfig);const L=x.authToken;return 0===L.requestStatus?G(b,I):L})).apply(this,arguments)}function Ee(b){return mr(b,I=>{if(!We(I))throw Te.create("not-registered");return function qt(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function _e(b,I){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*(b,I){try{const x=yield rr(b,I),L=Object.assign(Object.assign({},I),{authToken:x});return yield Mr(b.appConfig,L),x}catch(x){if(!xe(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Mr(b.appConfig,L)}else yield pn(b.appConfig);throw x}})).apply(this,arguments)}function We(b){return void 0!==b&&2===b.registrationStatus}function ft(b){return 2===b.requestStatus&&!function et(b){const I=Date.now();return I<b.creationTime||b.creationTime+b.expiresIn<I+36e5}(b)}function kt(b){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:I})}function No(){return(No=(0,k.Z)(function*(b){const I=b,{installationEntry:x,registrationPromise:L}=yield Qt(I.appConfig);return L?L.catch(console.error):G(I).catch(console.error),x.fid})).apply(this,arguments)}function Fo(){return(Fo=(0,k.Z)(function*(b,I=!1){const x=b;return yield In(x.appConfig),(yield G(x,I)).token})).apply(this,arguments)}function In(b){return ir.apply(this,arguments)}function ir(){return(ir=(0,k.Z)(function*(b){const{registrationPromise:I}=yield Qt(b);I&&(yield I)})).apply(this,arguments)}function ro(b){return Te.create("missing-app-config-values",{valueName:b})}const yr="installations",mt=b=>{const I=b.getProvider("app").getImmediate(),x=function Hn(b){if(!b||!b.options)throw ro("App Configuration");if(!b.name)throw ro("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!b.options[x])throw ro(x);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(I);return{app:I,appConfig:x,platformLoggerProvider:(0,de._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},Gt=b=>{const I=b.getProvider("app").getImmediate(),x=(0,de._getProvider)(I,yr).getImmediate();return{getId:()=>function Sa(b){return No.apply(this,arguments)}(x),getToken:Z=>function Aa(b){return Fo.apply(this,arguments)}(x,Z)}};(function sr(){(0,de._registerComponent)(new pe.wA(yr,mt,"PUBLIC")),(0,de._registerComponent)(new pe.wA("installations-internal",Gt,"PRIVATE"))})(),(0,de.registerVersion)(ne,B),(0,de.registerVersion)(ne,B,"esm2017");const Ii="@firebase/remote-config",rn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ec{constructor(I,x,L,Z){this.client=I,this.storage=x,this.storageCache=L,this.logger=Z}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-x,Z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var x=this;return(0,k.Z)(function*(){const[L,Z]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Z&&x.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Z;I.eTag=Z&&Z.eTag;const ie=yield x.client.fetch(I),Se=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&Se.push(x.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(Se),ie})()}}function Ma(b=navigator){return b.languages&&b.languages[0]||b.language}class vn{constructor(I,x,L,Z,ie,Se){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=L,this.projectId=Z,this.apiKey=ie,this.appId=Se}fetch(I){var x=this;return(0,k.Z)(function*(){const[L,Z]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ge={sdk_version:x.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:x.appId,language_code:Ma()},wt={method:"POST",headers:$e,body:JSON.stringify(Ge)},Ht=fetch(Se,wt),Un=new Promise((Lr,Ur)=>{I.signal.addEventListener(()=>{const vo=new Error("The operation was aborted.");vo.name="AbortError",Ur(vo)})});let Ft;try{yield Promise.race([Ht,Un]),Ft=yield Ht}catch(Lr){let Ur="fetch-client-network";throw"AbortError"===Lr.name&&(Ur="fetch-timeout"),rn.create(Ur,{originalErrorMessage:Lr.message})}let Cn=Ft.status;const as=Ft.headers.get("ETag")||void 0;let js,di;if(200===Ft.status){let Lr;try{Lr=yield Ft.json()}catch(Ur){throw rn.create("fetch-client-parse",{originalErrorMessage:Ur.message})}js=Lr.entries,di=Lr.state}if("INSTANCE_STATE_UNSPECIFIED"===di?Cn=500:"NO_CHANGE"===di?Cn=304:("NO_TEMPLATE"===di||"EMPTY_CONFIG"===di)&&(js={}),304!==Cn&&200!==Cn)throw rn.create("fetch-status",{httpStatus:Cn});return{status:Cn,eTag:as,config:js}})()}}class Ti{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,k.Z)(function*(){const L=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:L}){var Z=this;return(0,k.Z)(function*(){yield function wc(b,I){return new Promise((x,L)=>{const Z=Math.max(I-Date.now(),0),ie=setTimeout(x,Z);b.addEventListener(()=>{clearTimeout(ie),L(rn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const ie=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function lf(b){if(!(b instanceof X.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ie))throw ie;const Se={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(Se),Z.attemptFetch(I,Se)}})()}}class uf{constructor(I,x,L,Z,ie){this.app=I,this._client=x,this._storageCache=L,this._storage=Z,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Uo(b,I){const x=b.target.error||void 0;return rn.create(I,{originalErrorMessage:x&&x.message})}const ao="app_namespace_store";class Dc{constructor(I,x,L,Z=function hf(){return new Promise((b,I)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=L=>{I(Uo(L,"storage-open"))},x.onsuccess=L=>{b(L.target.result)},x.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(ao,{keyPath:"compositeKey"})}}catch(x){I(rn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=I,this.appName=x,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((Z,ie)=>{const $e=L.transaction([ao],"readonly").objectStore(ao),Ge=x.createCompositeKey(I);try{const wt=$e.get(Ge);wt.onerror=Ht=>{ie(Uo(Ht,"storage-get"))},wt.onsuccess=Ht=>{const Un=Ht.target.result;Z(Un?Un.value:void 0)}}catch(wt){ie(rn.create("storage-get",{originalErrorMessage:wt&&wt.message}))}})})()}set(I,x){var L=this;return(0,k.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ie,Se)=>{const Ge=Z.transaction([ao],"readwrite").objectStore(ao),wt=L.createCompositeKey(I);try{const Ht=Ge.put({compositeKey:wt,value:x});Ht.onerror=Un=>{Se(Uo(Un,"storage-set"))},Ht.onsuccess=()=>{ie()}}catch(Ht){Se(rn.create("storage-set",{originalErrorMessage:Ht&&Ht.message}))}})})()}delete(I){var x=this;return(0,k.Z)(function*(){const L=yield x.openDbPromise;return new Promise((Z,ie)=>{const $e=L.transaction([ao],"readwrite").objectStore(ao),Ge=x.createCompositeKey(I);try{const wt=$e.delete(Ge);wt.onerror=Ht=>{ie(Uo(Ht,"storage-delete"))},wt.onsuccess=()=>{Z()}}catch(wt){ie(rn.create("storage-delete",{originalErrorMessage:wt&&wt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class lo{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,k.Z)(function*(){const x=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),ie=yield x;ie&&(I.lastFetchStatus=ie);const Se=yield L;Se&&(I.lastSuccessfulFetchTimestampMillis=Se);const $e=yield Z;$e&&(I.activeConfig=$e)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Rg(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,k.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(b){return!1}})).apply(this,arguments)}!function ff(){(0,de._registerComponent)(new pe.wA("remote-config",function b(I,{instanceIdentifier:x}){const L=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw rn.create("registration-window");if(!(0,X.hl)())throw rn.create("indexed-db-unavailable");const{projectId:ie,apiKey:Se,appId:$e}=L.options;if(!ie)throw rn.create("registration-project-id");if(!Se)throw rn.create("registration-api-key");if(!$e)throw rn.create("registration-app-id");const Ge=new Dc($e,L.name,x=x||"firebase"),wt=new lo(Ge),Ht=new se.Yd(Ii);Ht.logLevel=se.in.ERROR;const Un=new vn(Z,de.SDK_VERSION,x,ie,Se,$e),Ft=new Ti(Un,Ge),Cn=new Ec(Ft,Ge,wt,Ht),as=new uf(L,Cn,wt,Ge,Ht);return function Lt(b){const I=(0,X.m9)(b);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(as),as},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ii,"0.3.4"),(0,de.registerVersion)(Ii,"0.3.4","esm2017")}();const Xi="/firebase-messaging-sw.js",kr="/firebase-cloud-messaging-push-scope",xs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uo="google.c.a.c_id",Tc="google.c.a.c_l",pf="google.c.a.ts",Ms="google.c.a.e";var Ai=(()=>{return(b=Ai||(Ai={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Ai;var b})();function Nr(b){const I=new Uint8Array(b);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ac(b){const x=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(x),Z=new Uint8Array(L.length);for(let ie=0;ie<L.length;++ie)Z[ie]=L.charCodeAt(ie);return Z}const Kn="fcm_token_details_db",xc="fcm_token_object_Store";function Mc(b){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,k.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Kn))return null;let I=null;return(yield(0,te.openDb)(Kn,5,function(){var L=(0,k.Z)(function*(Z){var ie;if(Z.oldVersion<2||!Z.objectStoreNames.contains(xc))return;const Se=Z.transaction.objectStore(xc),$e=yield Se.index("fcmSenderId").get(b);if(yield Se.clear(),$e)if(2===Z.oldVersion){const Ge=$e;if(!Ge.auth||!Ge.p256dh||!Ge.endpoint)return;I={token:Ge.fcmToken,createTime:null!==(ie=Ge.createTime)&&void 0!==ie?ie:Date.now(),subscriptionOptions:{auth:Ge.auth,p256dh:Ge.p256dh,endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:"string"==typeof Ge.vapidKey?Ge.vapidKey:Nr(Ge.vapidKey)}}}else if(3===Z.oldVersion){const Ge=$e;I={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Nr(Ge.auth),p256dh:Nr(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Nr(Ge.vapidKey)}}}else if(4===Z.oldVersion){const Ge=$e;I={token:Ge.fcmToken,createTime:Ge.createTime,subscriptionOptions:{auth:Nr(Ge.auth),p256dh:Nr(Ge.p256dh),endpoint:Ge.endpoint,swScope:Ge.swScope,vapidKey:Nr(Ge.vapidKey)}}}});return function(Z){return L.apply(this,arguments)}}())).close(),yield(0,te.deleteDb)(Kn),yield(0,te.deleteDb)("fcm_vapid_details_db"),yield(0,te.deleteDb)("undefined"),Oa(I)?I:null}),Ra.apply(this,arguments)}function Oa(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:I}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const xi="firebase-messaging-store";let hl=null;function jt(){return hl||(hl=(0,te.openDb)("firebase-messaging-database",1,b=>{0===b.oldVersion&&b.createObjectStore(xi)})),hl}function Bo(b){return es.apply(this,arguments)}function es(){return(es=(0,k.Z)(function*(b){const I=kn(b),L=yield(yield jt()).transaction(xi).objectStore(xi).get(I);if(L)return L;{const Z=yield Mc(b.appConfig.senderId);if(Z)return yield Ut(b,Z),Z}})).apply(this,arguments)}function Ut(b,I){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(b,I){const x=kn(b),Z=(yield jt()).transaction(xi,"readwrite");return yield Z.objectStore(xi).put(I,x),yield Z.complete,I})).apply(this,arguments)}function jo(b){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,k.Z)(function*(b){const I=kn(b),L=(yield jt()).transaction(xi,"readwrite");yield L.objectStore(xi).delete(I),yield L.complete})).apply(this,arguments)}function kn({appConfig:b}){return b.appId}const on=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mi(b,I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(b,I){const x=yield ns(b),L=Ho(I),Z={method:"POST",headers:x,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(ts(b.appConfig),Z)).json()}catch(Se){throw on.create("token-subscribe-failed",{errorInfo:Se})}if(ie.error)throw on.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw on.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function ho(b,I){return ii.apply(this,arguments)}function ii(){return(ii=(0,k.Z)(function*(b,I){const x=yield ns(b),L=Ho(I.subscriptionOptions),Z={method:"PATCH",headers:x,body:JSON.stringify(L)};let ie;try{ie=yield(yield fetch(`${ts(b.appConfig)}/${I.token}`,Z)).json()}catch(Se){throw on.create("token-update-failed",{errorInfo:Se})}if(ie.error)throw on.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw on.create("token-update-no-token");return ie.token})).apply(this,arguments)}function fl(b,I){return vr.apply(this,arguments)}function vr(){return(vr=(0,k.Z)(function*(b,I){const L={method:"DELETE",headers:yield ns(b)};try{const ie=yield(yield fetch(`${ts(b.appConfig)}/${I}`,L)).json();if(ie.error)throw on.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Z){throw on.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function ts({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function ns(b){return nt.apply(this,arguments)}function nt(){return(nt=(0,k.Z)(function*({appConfig:b,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Ho({p256dh:b,auth:I,endpoint:x,vapidKey:L}){const Z={web:{endpoint:x,auth:I,p256dh:b}};return L!==xs&&(Z.web.applicationPubKey=L),Z}const $o=6048e5;function Rc(b){return Go.apply(this,arguments)}function Go(){return(Go=(0,k.Z)(function*(b){const I=yield an(b.swRegistration,b.vapidKey),x={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:I.endpoint,auth:Nr(I.getKey("auth")),p256dh:Nr(I.getKey("p256dh"))},L=yield Bo(b.firebaseDependencies);if(L){if(Zo(L.subscriptionOptions,x))return Date.now()>=L.createTime+$o?pd(b,{token:L.token,createTime:Date.now(),subscriptionOptions:x}):L.token;try{yield fl(b.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return yt(b.firebaseDependencies,x)}return yt(b.firebaseDependencies,x)})).apply(this,arguments)}function pl(b){return zo.apply(this,arguments)}function zo(){return(zo=(0,k.Z)(function*(b){const I=yield Bo(b.firebaseDependencies);I&&(yield fl(b.firebaseDependencies,I.token),yield jo(b.firebaseDependencies));const x=yield b.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function pd(b,I){return be.apply(this,arguments)}function be(){return(be=(0,k.Z)(function*(b,I){try{const x=yield ho(b.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield Ut(b.firebaseDependencies,L),x}catch(x){throw yield pl(b),x}})).apply(this,arguments)}function yt(b,I){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,k.Z)(function*(b,I){const L={token:yield Mi(b,I),createTime:Date.now(),subscriptionOptions:I};return yield Ut(b,L),L.token})).apply(this,arguments)}function an(b,I){return rs.apply(this,arguments)}function rs(){return(rs=(0,k.Z)(function*(b,I){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ac(I)})})).apply(this,arguments)}function Zo(b,I){return I.vapidKey===b.vapidKey&&I.endpoint===b.endpoint&&I.auth===b.auth&&I.p256dh===b.p256dh}function ar(b){const I={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function gl(b,I){if(!I.notification)return;b.notification={};const x=I.notification.title;x&&(b.notification.title=x);const L=I.notification.body;L&&(b.notification.body=L);const Z=I.notification.image;Z&&(b.notification.image=Z)}(I,b),function ml(b,I){!I.data||(b.data=I.data)}(I,b),function Oc(b,I){if(!I.fcmOptions)return;b.fcmOptions={};const x=I.fcmOptions.link;x&&(b.fcmOptions.link=x);const L=I.fcmOptions.analytics_label;L&&(b.fcmOptions.analyticsLabel=L)}(I,b),I}function Pc(b){return"object"==typeof b&&!!b&&uo in b}function qo(b,I){const x=[];for(let L=0;L<b.length;L++)x.push(b.charAt(L)),L<I.length&&x.push(I.charAt(L));return x.join("")}function Tn(b){return on.create("missing-app-config-values",{valueName:b})}qo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zr{constructor(I,x,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function fo(b){if(!b||!b.options)throw Tn("App Configuration Object");if(!b.name)throw Tn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=b;for(const L of I)if(!x[L])throw Tn(L);return{appName:b.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:x,analyticsProvider:L}}_delete(){return Promise.resolve()}}function _l(b){return si.apply(this,arguments)}function si(){return(si=(0,k.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Xi,{scope:kr}),b.swRegistration.update().catch(()=>{})}catch(I){throw on.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Ri(b,I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,k.Z)(function*(b,I){if(!I&&!b.swRegistration&&(yield _l(b)),I||!b.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");b.swRegistration=I}})).apply(this,arguments)}function kc(b,I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,k.Z)(function*(b,I){I?b.vapidKey=I:b.vapidKey||(b.vapidKey=xs)})).apply(this,arguments)}function Os(){return(Os=(0,k.Z)(function*(b,I){if(!navigator)throw on.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw on.create("permission-blocked");return yield kc(b,null==I?void 0:I.vapidKey),yield Ri(b,null==I?void 0:I.serviceWorkerRegistration),Rc(b)})).apply(this,arguments)}function yl(b,I,x){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,k.Z)(function*(b,I,x){const L=vl(I);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:x[uo],message_name:x[Tc],message_time:x[pf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vl(b){switch(b){case Ai.NOTIFICATION_CLICKED:return"notification_open";case Ai.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fa(){return(Fa=(0,k.Z)(function*(b,I){const x=I.data;if(!x.isFirebaseMessaging)return;b.onMessageHandler&&x.messageType===Ai.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(ar(x)):b.onMessageHandler.next(ar(x)));const L=x.data;Pc(L)&&"1"===L[Ms]&&(yield yl(b,x.messageType,L))})).apply(this,arguments)}const Ps="@firebase/messaging",ks=b=>{const I=new Zr(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function gf(b,I){return Fa.apply(this,arguments)}(I,x)),I},Fc=b=>{const I=b.getProvider("messaging").getImmediate();return{getToken:L=>function Nc(b,I){return Os.apply(this,arguments)}(I,L)}};function po(){return oi.apply(this,arguments)}function oi(){return(oi=(0,k.Z)(function*(){try{yield(0,X.eu)()}catch(b){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function gd(){(0,de._registerComponent)(new pe.wA("messaging",ks,"PUBLIC")),(0,de._registerComponent)(new pe.wA("messaging-internal",Fc,"PRIVATE")),(0,de.registerVersion)(Ps,"0.9.9"),(0,de.registerVersion)(Ps,"0.9.9","esm2017")}();const Lc="analytics",El="firebase_id",wl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",La="https://www.googletagmanager.com/gtag/js",Ln=new se.Yd("@firebase/analytics");function yd(b){return Promise.all(b.map(I=>I.catch(x=>x)))}function ki(b,I){const x=document.createElement("script");x.src=`${La}?l=${b}&id=${I}`,x.async=!0,document.head.appendChild(x)}function mf(b,I,x,L,Z,ie){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,k.Z)(function*(b,I,x,L,Z,ie){const Se=L[Z];try{if(Se)yield I[Se];else{const Ge=(yield yd(x)).find(wt=>wt.measurementId===Z);Ge&&(yield I[Ge.appId])}}catch($e){Ln.error($e)}b("config",Z,ie)})).apply(this,arguments)}function ea(b,I,x,L,Z){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,k.Z)(function*(b,I,x,L,Z){try{let ie=[];if(Z&&Z.send_to){let Se=Z.send_to;Array.isArray(Se)||(Se=[Se]);const $e=yield yd(x);for(const Ge of Se){const wt=$e.find(Un=>Un.measurementId===Ge),Ht=wt&&I[wt.appId];if(!Ht){ie=[];break}ie.push(Ht)}}0===ie.length&&(ie=Object.values(I)),yield Promise.all(ie),b("event",L,Z||{})}catch(ie){Ln.error(ie)}})).apply(this,arguments)}function mn(){const b=window.document.getElementsByTagName("script");for(const I of Object.values(b))if(I.src&&I.src.includes(La))return I;return null}const Yn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),is=new class Va{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Uc(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function At(b){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,k.Z)(function*(b){var I;const{appId:x,apiKey:L}=b,Z={method:"GET",headers:Uc(L)},ie=wl.replace("{app-id}",x),Se=yield fetch(ie,Z);if(200!==Se.status&&304!==Se.status){let $e="";try{const Ge=yield Se.json();(null===(I=Ge.error)||void 0===I?void 0:I.message)&&($e=Ge.error.message)}catch(Ge){}throw Yn.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:$e})}return Se.json()})).apply(this,arguments)}function xt(b){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,k.Z)(function*(b,I=is,x){const{appId:L,apiKey:Z,measurementId:ie}=b.options;if(!L)throw Yn.create("no-app-id");if(!Z){if(ie)return{measurementId:ie,appId:L};throw Yn.create("no-api-key")}const Se=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Cd;return setTimeout((0,k.Z)(function*(){$e.abort()}),void 0!==x?x:6e4),Ns({appId:L,apiKey:Z,measurementId:ie},Se,$e,I)})).apply(this,arguments)}function Ns(b,I,x){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,k.Z)(function*(b,{throttleEndTimeMillis:I,backoffCount:x},L,Z=is){const{appId:ie,measurementId:Se}=b;try{yield Il(L,I)}catch($e){if(Se)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:ie,measurementId:Se};throw $e}try{const $e=yield At(b);return Z.deleteThrottleMetadata(ie),$e}catch($e){if(!Ba($e)){if(Z.deleteThrottleMetadata(ie),Se)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:ie,measurementId:Se};throw $e}const Ge=503===Number($e.customData.httpStatus)?(0,X.$s)(x,Z.intervalMillis,30):(0,X.$s)(x,Z.intervalMillis),wt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:x+1};return Z.setThrottleMetadata(ie,wt),Ln.debug(`Calling attemptFetch again in ${Ge} millis`),Ns(b,wt,L,Z)}})).apply(this,arguments)}function Il(b,I){return new Promise((x,L)=>{const Z=Math.max(I-Date.now(),0),ie=setTimeout(x,Z);b.addEventListener(()=>{clearTimeout(ie),L(Yn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Ba(b){if(!(b instanceof X.ZR&&b.customData))return!1;const I=Number(b.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Cd{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function ta(){return lr.apply(this,arguments)}function lr(){return(lr=(0,k.Z)(function*(){if(!(0,X.hl)())return Ln.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(b){return Ln.warn(Yn.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function ss(){return(ss=(0,k.Z)(function*(b,I,x,L,Z,ie,Se){var $e;const Ge=xt(b);Ge.then(Cn=>{x[Cn.measurementId]=Cn.appId,b.options.measurementId&&Cn.measurementId!==b.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${Cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cn=>Ln.error(Cn)),I.push(Ge);const wt=ta().then(Cn=>{if(Cn)return L.getId()}),[Ht,Un]=yield Promise.all([Ge,wt]);mn()||ki(ie,Ht.measurementId),Z("js",new Date);const Ft=null!==($e=null==Se?void 0:Se.config)&&void 0!==$e?$e:{};return Ft.origin="firebase",Ft.update=!0,null!=Un&&(Ft[El]=Un),Z("config",Ht.measurementId,Ft),Ht.measurementId})).apply(this,arguments)}class na{constructor(I){this.app=I}_delete(){return delete cr[this.app.options.appId],Promise.resolve()}}let cr={},Dl=[];const ra={};let ia,_n,ai="dataLayer",li=!1;function jc(b,I,x){!function Li(){const b=[];if((0,X.ru)()&&b.push("This is a browser extension environment."),(0,X.zI)()||b.push("Cookies are not available."),b.length>0){const I=b.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),x=Yn.create("invalid-analytics-context",{errorInfo:I});Ln.warn(x.message)}}();const L=b.options.appId;if(!L)throw Yn.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Yn.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cr[L])throw Yn.create("already-exists",{id:L});if(!li){!function go(b){let I=[];Array.isArray(window[b])?I=window[b]:window[b]=I}(ai);const{wrappedGtag:ie,gtagCore:Se}=function _f(b,I,x,L,Z){let ie=function(...Se){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ie=window[Z]),window[Z]=function vd(b,I,x,L){function ie(){return(ie=(0,k.Z)(function*(Se,$e,Ge){try{"event"===Se?yield ea(b,I,x,$e,Ge):"config"===Se?yield mf(b,I,x,L,$e,Ge):b("set",$e)}catch(wt){Ln.error(wt)}})).apply(this,arguments)}return function Z(Se,$e,Ge){return ie.apply(this,arguments)}}(ie,b,I,x),{gtagCore:ie,wrappedGtag:window[Z]}}(cr,Dl,ra,ai,"gtag");_n=ie,ia=Se,li=!0}return cr[L]=function $n(b,I,x,L,Z,ie,Se){return ss.apply(this,arguments)}(b,Dl,ra,I,ia,ai,x),new na(b)}function sa(){return(sa=(0,k.Z)(function*(b,I,x,L,Z){if(Z&&Z.global)b("event",x,L);else{const ie=yield I;b("event",x,Object.assign(Object.assign({},L),{send_to:ie}))}})).apply(this,arguments)}function Hc(){return ja.apply(this,arguments)}function ja(){return(ja=(0,k.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(b){return!1}})).apply(this,arguments)}const zc="@firebase/analytics";!function Zc(){(0,de._registerComponent)(new pe.wA(Lc,(I,{options:x})=>jc(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,de._registerComponent)(new pe.wA("analytics-internal",function b(I){try{const x=I.getProvider(Lc).getImmediate();return{logEvent:(L,Z,ie)=>function Gc(b,I,x,L){b=(0,X.m9)(b),function Tl(b,I,x,L,Z){return sa.apply(this,arguments)}(_n,cr[b.app.options.appId],I,x,L).catch(Z=>Ln.error(Z))}(x,L,Z,ie)}}catch(x){throw Yn.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,de.registerVersion)(zc,"0.7.5"),(0,de.registerVersion)(zc,"0.7.5","esm2017")}();var ui=P(233),wd=P(4986),Xt=P(8505),ca=P(5363),ur=P(9468);const dr=new l.GfV("7.2.1"),mo="__angularfire_symbol__analyticsIsSupportedValue",Gn="__angularfire_symbol__analyticsIsSupported",Cr="__angularfire_symbol__remoteConfigIsSupportedValue",Vs="__angularfire_symbol__remoteConfigIsSupported",Kr="__angularfire_symbol__messagingIsSupportedValue",Er="__angularfire_symbol__messagingIsSupported";function Fg(b,I,x){if(I){if(1===I.length)return I[0];const ie=I.filter(Se=>Se.app===x);if(1===ie.length)return ie[0]}return x.container.getProvider(b).getImmediate({optional:!0})}globalThis[Gn]||(globalThis[Gn]=Hc().then(b=>globalThis[mo]=b).catch(()=>globalThis[mo]=!1)),globalThis[Er]||(globalThis[Er]=po().then(b=>globalThis[Kr]=b).catch(()=>globalThis[Kr]=!1)),globalThis[Vs]||(globalThis[Vs]=Rg().then(b=>globalThis[Cr]=b).catch(()=>globalThis[Cr]=!1));const Al=(b,I)=>{const x=I?[I]:(0,Q.C6)(),L=[];return x.forEach(Z=>{Z.container.getProvider(b).instances.forEach(Se=>{L.includes(Se)||L.push(Se)})}),L};function An(){}class xl{constructor(I,x=ui.N){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,L){const Z=this.zone;return this.delegate.schedule(function(Se){Z.runGuarded(()=>{I.apply(this,[Se])})},x,L)}}class ua{constructor(I){this.zone=I,this.task=null}call(I,x){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",An,{},An,An)),x.pipe((0,Xt.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bd=(()=>{class b{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new xl(Zone.current)),this.insideAngular=x.run(()=>new xl(Zone.current,wd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(x){return new(x||b)(l.LFG(l.R0b))},b.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function os(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ml(b){return b.pipe((0,ca.Q)(os().outsideAngular))}function da(b){return os(),function Vi(b){return function(x){return(x=x.lift(new ua(b.ngZone))).pipe((0,ur.R)(b.outsideAngular),(0,ca.Q)(b.insideAngular))}}(os())(b)}},2090:(Ye,we,P)=>{"use strict";P.d(we,{BH:()=>Le,LL:()=>he,ZR:()=>Me,gQ:()=>gr,zI:()=>oe,hu:()=>Q,g5:()=>k,US:()=>pe,tV:()=>ne,h$:()=>se,$s:()=>_t,r3:()=>Ar,Sg:()=>Ie,ne:()=>ri,p$:()=>B,vZ:()=>xr,ZB:()=>V,gK:()=>mr,pd:()=>Zi,m9:()=>rr,z$:()=>Ae,GJ:()=>Bt,jU:()=>ue,ru:()=>Te,xb:()=>Ct,w1:()=>ge,hl:()=>re,uI:()=>Ne,UG:()=>W,Yr:()=>Be,b$:()=>xe,w9:()=>On,cI:()=>Rn,UI:()=>ti,xO:()=>nr,zd:()=>ni,DV:()=>Ot,ug:()=>Tt,dS:()=>Ki,Pz:()=>Ke,Dv:()=>qi,Wj:()=>Qt,lb:()=>Rr,eu:()=>K});const Q=function(U,$){if(!U)throw k($)},k=function(U){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+U)},de=function(U){const $=[];let G=0;for(let Ce=0;Ce<U.length;Ce++){let ee=U.charCodeAt(Ce);ee<128?$[G++]=ee:ee<2048?($[G++]=ee>>6|192,$[G++]=63&ee|128):55296==(64512&ee)&&Ce+1<U.length&&56320==(64512&U.charCodeAt(Ce+1))?(ee=65536+((1023&ee)<<10)+(1023&U.charCodeAt(++Ce)),$[G++]=ee>>18|240,$[G++]=ee>>12&63|128,$[G++]=ee>>6&63|128,$[G++]=63&ee|128):($[G++]=ee>>12|224,$[G++]=ee>>6&63|128,$[G++]=63&ee|128)}return $},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,$){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ee=0;ee<U.length;ee+=3){const He=U[ee],Ee=ee+1<U.length,_e=Ee?U[ee+1]:0,Pe=ee+2<U.length,We=Pe?U[ee+2]:0;let kt=(15&_e)<<2|We>>6,qt=63&We;Pe||(qt=64,Ee||(kt=64)),Ce.push(G[He>>2],G[(3&He)<<4|_e>>4],G[kt],G[qt])}return Ce.join("")},encodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(U):this.encodeByteArray(de(U),$)},decodeString(U,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(U):function(U){const $=[];let G=0,Ce=0;for(;G<U.length;){const ee=U[G++];if(ee<128)$[Ce++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const He=U[G++];$[Ce++]=String.fromCharCode((31&ee)<<6|63&He)}else if(ee>239&&ee<365){const Pe=((7&ee)<<18|(63&U[G++])<<12|(63&U[G++])<<6|63&U[G++])-65536;$[Ce++]=String.fromCharCode(55296+(Pe>>10)),$[Ce++]=String.fromCharCode(56320+(1023&Pe))}else{const He=U[G++],Ee=U[G++];$[Ce++]=String.fromCharCode((15&ee)<<12|(63&He)<<6|63&Ee)}}return $.join("")}(this.decodeStringToByteArray(U,$))},decodeStringToByteArray(U,$){this.init_();const G=$?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ee=0;ee<U.length;){const He=G[U.charAt(ee++)],_e=ee<U.length?G[U.charAt(ee)]:0;++ee;const We=ee<U.length?G[U.charAt(ee)]:64;++ee;const et=ee<U.length?G[U.charAt(ee)]:64;if(++ee,null==He||null==_e||null==We||null==et)throw Error();Ce.push(He<<2|_e>>4),64!==We&&(Ce.push(_e<<4&240|We>>2),64!==et&&Ce.push(We<<6&192|et))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},se=function(U){const $=de(U);return pe.encodeByteArray($,!0)},te=function(U){return se(U).replace(/\./g,"")},ne=function(U){try{return pe.decodeString(U,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function B(U){return V(void 0,U)}function V(U,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return $}for(const G in $)!$.hasOwnProperty(G)||!J(G)||(U[G]=V(U[G],$[G]));return U}function J(U){return"__proto__"!==U}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,G)=>{this.resolve=$,this.reject=G})}wrapCallback($){return(G,Ce)=>{G?this.reject(G):this.resolve(Ce),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(G):$(G,Ce))}}}function Ie(U,$){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=$||"demo-project",ee=U.iat||0,He=U.sub||U.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ee,exp:ee+3600,auth_time:ee,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},U);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(Ee)),""].join(".")}function Ae(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function W(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function ue(){return"object"==typeof self&&self.self===self}function Te(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ge(){const U=Ae();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Be(){return!1}function re(){return"object"==typeof indexedDB}function K(){return new Promise((U,$)=>{try{let G=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(Ce);ee.onsuccess=()=>{ee.result.close(),G||self.indexedDB.deleteDatabase(Ce),U(!0)},ee.onupgradeneeded=()=>{G=!1},ee.onerror=()=>{var He;$((null===(He=ee.error)||void 0===He?void 0:He.message)||"")}}catch(G){$(G)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Me extends Error{constructor($,G,Ce){super(G),this.code=$,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor($,G,Ce){this.service=$,this.serviceName=G,this.errors=Ce}create($,...G){const Ce=G[0]||{},ee=`${this.service}/${$}`,He=this.errors[$],Ee=He?function ct(U,$){return U.replace(Mt,(G,Ce)=>{const ee=$[Ce];return null!=ee?String(ee):`<${Ce}?>`})}(He,Ce):"Error";return new Me(ee,`${this.serviceName}: ${Ee} (${ee}).`,Ce)}}const Mt=/\{\$([^}]+)}/g;function Rn(U){return JSON.parse(U)}function Ke(U){return JSON.stringify(U)}const lt=function(U){let $={},G={},Ce={},ee="";try{const He=U.split(".");$=Rn(ne(He[0])||""),G=Rn(ne(He[1])||""),ee=He[2],Ce=G.d||{},delete G.d}catch(He){}return{header:$,claims:G,data:Ce,signature:ee}},On=function(U){const G=lt(U).claims;return!!G&&"object"==typeof G&&G.hasOwnProperty("iat")},Bt=function(U){const $=lt(U).claims;return"object"==typeof $&&!0===$.admin};function Ar(U,$){return Object.prototype.hasOwnProperty.call(U,$)}function Ot(U,$){if(Object.prototype.hasOwnProperty.call(U,$))return U[$]}function Ct(U){for(const $ in U)if(Object.prototype.hasOwnProperty.call(U,$))return!1;return!0}function ti(U,$,G){const Ce={};for(const ee in U)Object.prototype.hasOwnProperty.call(U,ee)&&(Ce[ee]=$.call(G,U[ee],ee,U));return Ce}function xr(U,$){if(U===$)return!0;const G=Object.keys(U),Ce=Object.keys($);for(const ee of G){if(!Ce.includes(ee))return!1;const He=U[ee],Ee=$[ee];if(jn(He)&&jn(Ee)){if(!xr(He,Ee))return!1}else if(He!==Ee)return!1}for(const ee of Ce)if(!G.includes(ee))return!1;return!0}function jn(U){return null!==U&&"object"==typeof U}function nr(U){const $=[];for(const[G,Ce]of Object.entries(U))Array.isArray(Ce)?Ce.forEach(ee=>{$.push(encodeURIComponent(G)+"="+encodeURIComponent(ee))}):$.push(encodeURIComponent(G)+"="+encodeURIComponent(Ce));return $.length?"&"+$.join("&"):""}function ni(U){const $={};return U.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ee,He]=Ce.split("=");$[decodeURIComponent(ee)]=decodeURIComponent(He)}}),$}function Zi(U){const $=U.indexOf("?");if(!$)return"";const G=U.indexOf("#",$);return U.substring($,G>0?G:void 0)}class gr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,G){G||(G=0);const Ce=this.W_;if("string"==typeof $)for(let et=0;et<16;et++)Ce[et]=$.charCodeAt(G)<<24|$.charCodeAt(G+1)<<16|$.charCodeAt(G+2)<<8|$.charCodeAt(G+3),G+=4;else for(let et=0;et<16;et++)Ce[et]=$[G]<<24|$[G+1]<<16|$[G+2]<<8|$[G+3],G+=4;for(let et=16;et<80;et++){const kt=Ce[et-3]^Ce[et-8]^Ce[et-14]^Ce[et-16];Ce[et]=4294967295&(kt<<1|kt>>>31)}let We,ft,ee=this.chain_[0],He=this.chain_[1],Ee=this.chain_[2],_e=this.chain_[3],Pe=this.chain_[4];for(let et=0;et<80;et++){et<40?et<20?(We=_e^He&(Ee^_e),ft=1518500249):(We=He^Ee^_e,ft=1859775393):et<60?(We=He&Ee|_e&(He|Ee),ft=2400959708):(We=He^Ee^_e,ft=3395469782);const kt=(ee<<5|ee>>>27)+We+Pe+ft+Ce[et]&4294967295;Pe=_e,_e=Ee,Ee=4294967295&(He<<30|He>>>2),He=ee,ee=kt}this.chain_[0]=this.chain_[0]+ee&4294967295,this.chain_[1]=this.chain_[1]+He&4294967295,this.chain_[2]=this.chain_[2]+Ee&4294967295,this.chain_[3]=this.chain_[3]+_e&4294967295,this.chain_[4]=this.chain_[4]+Pe&4294967295}update($,G){if(null==$)return;void 0===G&&(G=$.length);const Ce=G-this.blockSize;let ee=0;const He=this.buf_;let Ee=this.inbuf_;for(;ee<G;){if(0===Ee)for(;ee<=Ce;)this.compress_($,ee),ee+=this.blockSize;if("string"==typeof $){for(;ee<G;)if(He[Ee]=$.charCodeAt(ee),++Ee,++ee,Ee===this.blockSize){this.compress_(He),Ee=0;break}}else for(;ee<G;)if(He[Ee]=$[ee],++Ee,++ee,Ee===this.blockSize){this.compress_(He),Ee=0;break}}this.inbuf_=Ee,this.total_+=G}digest(){const $=[];let G=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&G,G/=256;this.compress_(this.buf_);let Ce=0;for(let ee=0;ee<5;ee++)for(let He=24;He>=0;He-=8)$[Ce]=this.chain_[ee]>>He&255,++Ce;return $}}function ri(U,$){const G=new it(U,$);return G.subscribe.bind(G)}class it{constructor($,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{$(this)}).catch(Ce=>{this.error(Ce)})}next($){this.forEachObserver(G=>{G.next($)})}error($){this.forEachObserver(G=>{G.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,G,Ce){let ee;if(void 0===$&&void 0===G&&void 0===Ce)throw new Error("Missing Observer.");ee=function nn(U,$){if("object"!=typeof U||null===U)return!1;for(const G of $)if(G in U&&"function"==typeof U[G])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:G,complete:Ce},void 0===ee.next&&(ee.next=pn),void 0===ee.error&&(ee.error=pn),void 0===ee.complete&&(ee.complete=pn);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch(Ee){}}),this.observers.push(ee),He}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,$)}sendOne($,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{G(this.observers[$])}catch(Ce){"undefined"!=typeof console&&console.error&&console.error(Ce)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}const qi=function(U,$,G,Ce){let ee;if(Ce<$?ee="at least "+$:Ce>G&&(ee=0===G?"none":"no more than "+G),ee)throw new Error(U+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+ee+".")};function mr(U,$){return`${U} failed: ${$} argument `}function Qt(U,$,G,Ce){if((!Ce||G)&&"function"!=typeof G)throw new Error(mr(U,$)+"must be a valid function.")}function Rr(U,$,G,Ce){if((!Ce||G)&&("object"!=typeof G||null===G))throw new Error(mr(U,$)+"must be a valid context object.")}const Ki=function(U){const $=[];let G=0;for(let Ce=0;Ce<U.length;Ce++){let ee=U.charCodeAt(Ce);if(ee>=55296&&ee<=56319){const He=ee-55296;Ce++,Q(Ce<U.length,"Surrogate pair missing trail surrogate."),ee=65536+(He<<10)+(U.charCodeAt(Ce)-56320)}ee<128?$[G++]=ee:ee<2048?($[G++]=ee>>6|192,$[G++]=63&ee|128):ee<65536?($[G++]=ee>>12|224,$[G++]=ee>>6&63|128,$[G++]=63&ee|128):($[G++]=ee>>18|240,$[G++]=ee>>12&63|128,$[G++]=ee>>6&63|128,$[G++]=63&ee|128)}return $},Tt=function(U){let $=0;for(let G=0;G<U.length;G++){const Ce=U.charCodeAt(G);Ce<128?$++:Ce<2048?$+=2:Ce>=55296&&Ce<=56319?($+=4,G++):$+=3}return $};function _t(U,$=1e3,G=2){const Ce=$*Math.pow(G,U),ee=Math.round(.5*Ce*(Math.random()-.5)*2);return Math.min(144e5,Ce+ee)}function rr(U){return U&&U._delegate?U._delegate:U}},9582:(Ye,we,P)=>{"use strict";var l=P(5e3);let Q=null;function k(){return Q}const se=new l.OlP("DocumentToken");let te=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ne(){return(0,l.LFG)(V)}()},providedIn:"platform"}),n})();const B=new l.OlP("Location Initialized");let V=(()=>{class n extends te{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(e){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,a){J()?this._history.pushState(e,r,a):this.location.hash=a}replaceState(e,r,a){J()?this._history.replaceState(e,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Le(){return new V((0,l.LFG)(se))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Ie(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ne(n){return n&&"?"!==n[0]?"?"+n:n}let W=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ue(n){const t=(0,l.LFG)(se).location;return new xe((0,l.LFG)(te),t&&t.origin||"")}()},providedIn:"root"}),n})();const Te=new l.OlP("appBaseHref");let xe=(()=>{class n extends W{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ne(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${r}${a}`:r}pushState(e,r,a,u){const f=this.prepareExternalUrl(a+Ne(u));this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,u){const f=this.prepareExternalUrl(a+Ne(u));this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(te),l.LFG(Te,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),le=(()=>{class n extends W{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ie(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,a,u){let f=this.prepareExternalUrl(a+Ne(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,r,f)}replaceState(e,r,a,u){let f=this.prepareExternalUrl(a+Ne(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(te),l.LFG(Te,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ge=(()=>{class n{constructor(e,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ae(je(a)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ne(r))}normalize(e){return n.stripTrailingSlash(function Be(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,je(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",a=null){this._platformStrategy.pushState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(r)),a)}replaceState(e,r="",a=null){this._platformStrategy.replaceState(a,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(a=>a(e,r))}subscribe(e,r,a){return this._subject.subscribe({next:e,error:r,complete:a})}}return n.normalizeQueryParams=Ne,n.joinWithSlash=Ie,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(l.LFG(W),l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return new ge((0,l.LFG)(W),(0,l.LFG)(te))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}function Ts(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[a,u]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(a.trim()===t)return decodeURIComponent(u)}return null}class oo{constructor(t,e,r,a){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jt=(()=>{class n{constructor(e,r,a){this._viewContainer=e,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((a,u,f)=>{if(null==a.previousIndex)r.createEmbeddedView(this._template,new oo(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===u?void 0:u);else if(null!==u){const y=r.get(u);r.move(y,f),Qi(y,a)}});for(let a=0,u=r.length;a<u;a++){const y=r.get(a).context;y.index=a,y.count=u,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Qi(r.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Qi(n,t){n.context.$implicit=t.item}let sn=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){vc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){vc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Lt{constructor(){this.$implicit=null,this.ngIf=null}}function vc(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}let Ms=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();let Oa=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Pa((0,l.LFG)(se),window)}),n})();class Pa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const u=a.shadowRoot;if(u){const f=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(f)return f}a=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],a-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=dl(this.window.history)||dl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function dl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jt{}class es extends class Bo extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Q||(Q=n)}(new es)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ka(){return Ut=Ut||document.querySelector("base"),Ut?Ut.getAttribute("href"):null}();return null==e?null:function Rs(n){jo=jo||document.createElement("a"),jo.setAttribute("href",n);const t=jo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ut=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ts(document.cookie,t)}}let jo,Ut=null;const kn=new l.OlP("TRANSITION_ID"),on=[{provide:l.ip1,useFactory:function Na(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const r=k(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<a.length;u++)r.remove(a[u])})}},deps:[kn,se,l.zs3],multi:!0}];class Mi{static init(){(0,l.VLi)(new Mi)}addToWindow(t){l.dqk.getAngularTestability=(r,a=!0)=>{const u=t.findTestabilityInTree(r,a);if(null==u)throw new Error("Could not find testability for element.");return u},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const a=l.dqk.getAllAngularTestabilities();let u=a.length,f=!1;const y=function(E){f=f||E,u--,0==u&&r(f)};a.forEach(function(E){E.whenStable(y)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:r?k().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Nn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ho=new l.OlP("EventManagerPlugins");let ii=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,a){return this._findPluginFor(r).addEventListener(e,r,a)}addGlobalEventListener(e,r,a){return this._findPluginFor(r).addGlobalEventListener(e,r,a)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const a=this._plugins;for(let u=0;u<a.length;u++){const f=a[u];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ho),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fl{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const a=k().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,r)}}let vr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ts=(()=>{class n extends vr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,a){e.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,a.push(r.appendChild(f))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(ns),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(e,a,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ns))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ns(n){k().remove(n)}const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ho=/%COMP%/g;function be(n,t,e){for(let r=0;r<t.length;r++){let a=t[r];Array.isArray(a)?be(n,a,e):(a=a.replace(Ho,n),e.push(a))}return e}function yt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let an=(()=>{class n{constructor(e,r,a){this.eventManager=e,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new rs(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new gl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(e),a}case 1:case l.ifc.ShadowDom:return new ml(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const a=be(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ii),l.LFG(ts),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class rs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(nt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,a){if(a){e=a+":"+e;const u=nt[a];u?t.setAttributeNS(u,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const a=nt[r];a?t.removeAttributeNS(a,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,a){a&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,r,a&l.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,yt(r)):this.eventManager.addEventListener(t,e,yt(r))}}class gl extends rs{constructor(t,e,r,a){super(t),this.component=r;const u=be(a+"-"+r.id,r.styles,[]);e.addStyles(u),this.contentAttr=function zo(n){return"_ngcontent-%COMP%".replace(Ho,n)}(a+"-"+r.id),this.hostAttr=function pd(n){return"_nghost-%COMP%".replace(Ho,n)}(a+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class ml extends rs{constructor(t,e,r,a){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=be(a.id,a.styles,[]);for(let f=0;f<u.length;f++){const y=document.createElement("style");y.textContent=u[f],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Oc=(()=>{class n extends fl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,a){return e.addEventListener(r,a,!1),()=>this.removeEventListener(e,r,a)}removeEventListener(e,r,a){return e.removeEventListener(r,a)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Pc=["alt","control","meta","shift"],fo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _l=(()=>{class n extends fl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,a){const u=n.parseEventName(r),f=n.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(e,u.domEventName,f))}static parseEventName(e){const r=e.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const u=n._normalizeKey(r.pop());let f="";if(Pc.forEach(E=>{const S=r.indexOf(E);S>-1&&(r.splice(S,1),f+=E+".")}),f+=u,0!=r.length||0===u.length)return null;const y={};return y.domEventName=a,y.fullKey=f,y}static getEventFullKey(e){let r="",a=function si(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Tn.hasOwnProperty(t)&&(t=Tn[t]))}return fo[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Pc.forEach(u=>{u!=a&&Zr[u](e)&&(r+=u+".")}),r+=a,r}static eventCallback(e,r,a){return u=>{n.getEventFullKey(u)===e&&a.runGuarded(()=>r(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Nc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function Ri(){es.makeCurrent(),Mi.init()},multi:!0},{provide:se,useFactory:function kc(){return(0,l.RDi)(document),document},deps:[]}]),Os=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ko(){return new l.qLn},deps:[]},{provide:ho,useClass:Oc,multi:!0,deps:[se,l.R0b,l.Lbi]},{provide:ho,useClass:_l,multi:!0,deps:[se]},{provide:an,useClass:an,deps:[ii,ts,l.AFp]},{provide:l.FYo,useExisting:an},{provide:vr,useExisting:ts},{provide:ts,useClass:ts,deps:[se]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:ii,useClass:ii,deps:[ho,l.R0b]},{provide:jt,useClass:Nn,deps:[]}];let yl=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:kn,useExisting:l.AFp},on]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Os,imports:[Ms,l.hGG]}),n})();"undefined"!=typeof window&&window;var mn=P(8996),Sn=P(8306);const{isArray:Yn}=Array,{getPrototypeOf:Ni,prototype:bl,keys:Va}=Object;function is(n){if(1===n.length){const t=n[0];if(Yn(t))return{args:t,keys:null};if(function Uc(n){return n&&"object"==typeof n&&Ni(n)===bl}(t)){const e=Va(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var At=P(8421),Fi=P(7669),xt=P(5403),Ze=P(4004);const{isArray:Ns}=Array;function Il(n){return(0,Ze.U)(t=>function Vc(n,t){return Ns(t)?n(...t):n(t)}(n,t))}function Ba(n,t){return n.reduce((e,r,a)=>(e[r]=t[a],e),{})}let ta=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),lr=(()=>{class n extends ta{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const $n=new l.OlP("NgValueAccessor"),cr={provide:$n,useExisting:(0,l.Gpc)(()=>ai),multi:!0},ra=new l.OlP("CompositionEventMode");let ai=(()=>{class n extends ta{constructor(e,r,a){super(e,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dl(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ra,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([cr]),l.qOj]}),n})();function Fr(n){return null==n||0===n.length}const _n=new l.OlP("NgValidators"),li=new l.OlP("NgAsyncValidators"),Bc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function sa(n){return Fr(n.value)?{required:!0}:null}function oa(n){return Fr(n.value)||Bc.test(n.value)?null:{email:!0}}function qr(n){return null}function ci(n){return null!=n}function la(n){const t=(0,l.QGY)(n)?(0,mn.D)(n):n;return(0,l.CqO)(t),t}function Sl(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Us(n,t){return t.map(e=>e(n))}function ja(n){return n.map(t=>function Hc(n){return!n.validate}(t)?t:e=>t.validate(e))}function $c(n){return null!=n?function cn(n){if(!n)return null;const t=n.filter(ci);return 0==t.length?null:function(e){return Sl(Us(e,t))}}(ja(n)):null}function Ed(n){return null!=n?function yf(n){if(!n)return null;const t=n.filter(ci);return 0==t.length?null:function(e){return function Cd(...n){const t=(0,Fi.jO)(n),{args:e,keys:r}=is(n),a=new Sn.y(u=>{const{length:f}=e;if(!f)return void u.complete();const y=new Array(f);let E=f,S=f;for(let R=0;R<f;R++){let O=!1;(0,At.Xf)(e[R]).subscribe((0,xt.x)(u,j=>{O||(O=!0,S--),y[R]=j},()=>E--,void 0,()=>{(!E||!O)&&(S||u.next(r?Ba(r,y):y),u.complete())}))}});return t?a.pipe(Il(t)):a}(Us(e,t).map(la)).pipe((0,Ze.U)(Sl))}}(ja(n)):null}function Gc(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Zc(n){return n?Array.isArray(n)?n:[n]:[]}function ui(n,t){return Array.isArray(n)?n.includes(t):n===t}function wd(n,t){const e=Zc(t);return Zc(n).forEach(a=>{ui(e,a)||e.push(a)}),e}function Xt(n,t){return Zc(t).filter(e=>!ui(n,e))}class ca{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$c(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ed(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ur extends ca{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dr extends ca{get formDirective(){return null}get path(){return null}}class mo{constructor(t){this._cd=t}is(t){var e,r,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[t])}}let Vs=(()=>{class n extends mo{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ur,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),Kr=(()=>{class n extends mo{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(dr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function Vi(n,t){I(n,t),t.valueAccessor.writeValue(n.value),function L(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ie(n,t)})}(n,t),function Se(n,t){const e=(r,a)=>{t.valueAccessor.writeValue(r),a&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Z(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ie(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function b(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function yo(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function I(n,t){const e=function zc(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(Gc(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=function Wc(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(Gc(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();yo(t._rawValidators,a),yo(t._rawAsyncValidators,a)}function ie(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function js(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ur="VALID",vo="INVALID",Bi="PENDING",Hs="DISABLED";function Co(n){return($s(n)?n.validators:n)||null}function Id(n){return Array.isArray(n)?$c(n):n||null}function Jc(n,t){return($s(t)?t.asyncValidators:n)||null}function Rl(n){return Array.isArray(n)?Ed(n):n||null}function $s(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Td=n=>n instanceof Ga;function Gs(n){return(n=>n instanceof Ad)(n)?n.value:n.getRawValue()}function $a(n,t){const e=Td(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function vf(n,t){Td(n),n._forEachChild((r,a)=>{if(void 0===t[a])throw new l.vHH(1002,"")})}class Sd{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Id(this._rawValidators),this._composedAsyncValidatorFn=Rl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ur}get invalid(){return this.status===vo}get pending(){return this.status==Bi}get disabled(){return this.status===Hs}get enabled(){return this.status!==Hs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Id(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Rl(t)}addValidators(t){this.setValidators(wd(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wd(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Xt(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Xt(t,this._rawAsyncValidators))}hasValidator(t){return ui(this._rawValidators,t)}hasAsyncValidator(t){return ui(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Bi,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hs,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ur,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ur||this.status===Bi)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hs:Ur}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Bi,this._hasOwnPendingAsyncValidator=!0;const e=la(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Qc(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(a=>{r=Td(r)?r.controls.hasOwnProperty(a)?r.controls[a]:null:(n=>n instanceof Py)(r)&&r.at(a)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Hs:this.errors?vo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bi)?Bi:this._anyControlsHaveStatus(vo)?vo:Ur}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$s(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ad extends Sd{constructor(t=null,e,r){super(Co(e),Jc(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$s(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){js(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){js(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ga extends Sd{constructor(t,e,r){super(Co(e),Jc(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){vf(this,t),Object.keys(t).forEach(r=>{$a(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=Gs(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((a,u)=>{r=e(r,a,u)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Py extends Sd{constructor(t,e,r){super(Co(e),Jc(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){vf(this,t),t.forEach((r,a)=>{$a(this,a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,a)=>{r.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Gs(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ug={provide:dr,useExisting:(0,l.Gpc)(()=>za)},Ol=(()=>Promise.resolve(null))();let za=(()=>{class n extends dr{constructor(e,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Ga({},$c(e),Ed(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ol.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),Vi(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ol.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ol.then(()=>{const r=this._findContainer(e.path),a=new Ga({});(function $e(n,t){I(n,t)})(a,e),r.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ol.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Ol.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Cn(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(_n,10),l.Y36(li,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Ug]),l.qOj]}),n})();const xd={provide:ur,useExisting:(0,l.Gpc)(()=>Wa)},Md=(()=>Promise.resolve(null))();let Wa=(()=>{class n extends ur{constructor(e,r,a,u,f){super(),this._changeDetectorRef=f,this.control=new Ad,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function as(n,t){if(!t)return null;let e,r,a;return Array.isArray(t),t.forEach(u=>{u.constructor===ai?e=u:function Ft(n){return Object.getPrototypeOf(n.constructor)===lr}(u)?r=u:a=u}),a||r||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Un(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Md.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,a=""===r||r&&"false"!==r;Md.then(()=>{var u;a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(e){return this._parent?function da(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(dr,9),l.Y36(_n,10),l.Y36(li,10),l.Y36($n,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([xd]),l.qOj,l.TTD]}),n})(),Za=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Vg={provide:$n,useExisting:(0,l.Gpc)(()=>Yr),multi:!0};let Xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Bg=(()=>{class n{constructor(){this._accessors=[]}add(e,r){this._accessors.push([e,r])}remove(e){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===e)return void this._accessors.splice(r,1)}select(e){this._accessors.forEach(r=>{this._isSameGroup(r,e)&&r[1]!==e&&r[1].fireUncheck(e.value)})}_isSameGroup(e,r){return!!e[0].control&&e[0]._parent===r._control._parent&&e[1].name===r.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Xc}),n})(),Yr=(()=>{class n extends lr{constructor(e,r,a,u){super(e,r),this._registry=a,this._injector=u,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ur),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Bg),l.Y36(l.zs3))},n.\u0275dir=l.lG2({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,r){1&e&&l.NdJ("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l._Bn([Vg]),l.qOj]}),n})();const If=new l.OlP("NgModelWithFormControlWarning");let fa=(()=>{class n{constructor(){this._validator=qr}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qr,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const Ud={provide:_n,useExisting:(0,l.Gpc)(()=>zs),multi:!0};let zs=(()=>{class n extends fa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function Ld(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>sa}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Ud]),l.qOj]}),n})();const Vd={provide:_n,useExisting:(0,l.Gpc)(()=>Bd),multi:!0};let Bd=(()=>{class n extends fa{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=e=>""===e||!0===e||"true"===e,this.createValidator=e=>oa}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([Vd]),l.qOj]}),n})();const xn={provide:_n,useExisting:(0,l.Gpc)(()=>iu),multi:!0};let iu=(()=>{class n extends fa{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>function tu(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function aa(n){return t=>Fr(t.value)||!function ia(n){return null!=n&&"number"==typeof n.length}(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&l.uIk("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},features:[l._Bn([xn]),l.qOj]}),n})();const Pf={provide:_n,useExisting:(0,l.Gpc)(()=>ou),multi:!0};let ou=(()=>{class n extends fa{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>function Ls(n){if(!n)return qr;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Fr(r.value))return null;const a=r.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(e)}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&l.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([Pf]),l.qOj]}),n})(),kf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xc]]}),n})(),By=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kf]}),n})(),jy=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:If,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[kf]}),n})();function Je(...n){const t=(0,Fi.yG)(n);return(0,mn.D)(n,t)}var Mn=P(5577),Vn=P(576);function fi(n,t){return(0,Vn.m)(t)?(0,Mn.z)(n,t,1):(0,Mn.z)(n,1)}var yn=P(4482);function un(n,t){return(0,yn.e)((e,r)=>{let a=0;e.subscribe((0,xt.x)(r,u=>n.call(t,u,a++)&&r.next(u)))})}class Ka{}class cu{}class Ws{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const a=e.slice(0,r),u=a.toLowerCase(),f=e.slice(r+1).trim();this.maybeSetNormalizedName(a,u),this.headers.has(u)?this.headers.get(u).push(f):this.headers.set(u,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const a=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(a,r),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ws?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ws;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ws?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...r),this.headers.set(e,a);break;case"d":const u=t.value;if(u){let f=this.headers.get(e);if(!f)return;f=f.filter(y=>-1===u.indexOf(y)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class uu{encodeKey(t){return Lf(t)}encodeValue(t){return Lf(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Nf=/%(\d[a-f0-9])/gi,Ff={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Lf(n){return encodeURIComponent(n).replace(Nf,(t,e)=>{var r;return null!==(r=Ff[e])&&void 0!==r?r:t})}function ji(n){return`${n}`}class ls{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new uu,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Hd(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const u=a.indexOf("="),[f,y]=-1==u?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,u)),t.decodeValue(a.slice(u+1))],E=e.get(f)||[];E.push(y),e.set(f,E)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const a=t[r];Array.isArray(a)?a.forEach(u=>{e.push({param:r,value:u,op:"a"})}):e.push({param:r,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ls({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ji(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const a=r.indexOf(ji(t.value));-1!==a&&r.splice(a,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $d{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Gd(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zn(n){return"undefined"!=typeof Blob&&n instanceof Blob}function du(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ul{constructor(t,e,r,a){let u;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Kg(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==r?r:null,u=a):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Ws),this.context||(this.context=new $d),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+f}}else this.params=new ls,this.urlWithParams=e}serializeBody(){return null===this.body?null:Gd(this.body)||zn(this.body)||du(this.body)||function zd(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ls?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||du(this.body)?null:zn(this.body)?this.body.type||null:Gd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ls?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,a=t.url||this.url,u=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,y=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,E=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let S=t.headers||this.headers,R=t.params||this.params;const O=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(S=Object.keys(t.setHeaders).reduce((j,q)=>j.set(q,t.setHeaders[q]),S)),t.setParams&&(R=Object.keys(t.setParams).reduce((j,q)=>j.set(q,t.setParams[q]),R)),new Ul(r,a,f,{params:R,headers:S,context:O,reportProgress:E,responseType:u,withCredentials:y})}}var zt=(()=>((zt=zt||{})[zt.Sent=0]="Sent",zt[zt.UploadProgress=1]="UploadProgress",zt[zt.ResponseHeader=2]="ResponseHeader",zt[zt.DownloadProgress=3]="DownloadProgress",zt[zt.Response=4]="Response",zt[zt.User=5]="User",zt))();class pa{constructor(t,e=200,r="OK"){this.headers=t.headers||new Ws,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Vl extends pa{constructor(t={}){super(t),this.type=zt.ResponseHeader}clone(t={}){return new Vl({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bl extends pa{constructor(t={}){super(t),this.type=zt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uf extends pa{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function jl(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Wd=(()=>{class n{constructor(e){this.handler=e}request(e,r,a={}){let u;if(e instanceof Ul)u=e;else{let E,S;E=a.headers instanceof Ws?a.headers:new Ws(a.headers),a.params&&(S=a.params instanceof ls?a.params:new ls({fromObject:a.params})),u=new Ul(e,r,void 0!==a.body?a.body:null,{headers:E,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const f=Je(u).pipe(fi(E=>this.handler.handle(E)));if(e instanceof Ul||"events"===a.observe)return f;const y=f.pipe(un(E=>E instanceof Bl));switch(a.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return y.pipe((0,Ze.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return y.pipe((0,Ze.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return y.pipe((0,Ze.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return y.pipe((0,Ze.U)(E=>E.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new ls).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,a={}){return this.request("PATCH",e,jl(a,r))}post(e,r,a={}){return this.request("POST",e,jl(a,r))}put(e,r,a={}){return this.request("PUT",e,jl(a,r))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ka))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Vf{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Zd=new l.OlP("HTTP_INTERCEPTORS");let Yg=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Fe=/^\)\]\}',?\n/;let at=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Sn.y(r=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((q,ce)=>a.setRequestHeader(q,ce.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const q=e.detectContentTypeHeader();null!==q&&a.setRequestHeader("Content-Type",q)}if(e.responseType){const q=e.responseType.toLowerCase();a.responseType="json"!==q?q:"text"}const u=e.serializeBody();let f=null;const y=()=>{if(null!==f)return f;const q=a.statusText||"OK",ce=new Ws(a.getAllResponseHeaders()),Ue=function qe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return f=new Vl({headers:ce,status:a.status,statusText:q,url:Ue}),f},E=()=>{let{headers:q,status:ce,statusText:Ue,url:ke}=y(),tt=null;204!==ce&&(tt=void 0===a.response?a.responseText:a.response),0===ce&&(ce=tt?200:0);let ut=ce>=200&&ce<300;if("json"===e.responseType&&"string"==typeof tt){const Dt=tt;tt=tt.replace(Fe,"");try{tt=""!==tt?JSON.parse(tt):null}catch(dt){tt=Dt,ut&&(ut=!1,tt={error:dt,text:tt})}}ut?(r.next(new Bl({body:tt,headers:q,status:ce,statusText:Ue,url:ke||void 0})),r.complete()):r.error(new Uf({error:tt,headers:q,status:ce,statusText:Ue,url:ke||void 0}))},S=q=>{const{url:ce}=y(),Ue=new Uf({error:q,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ce||void 0});r.error(Ue)};let R=!1;const O=q=>{R||(r.next(y()),R=!0);let ce={type:zt.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(ce.total=q.total),"text"===e.responseType&&!!a.responseText&&(ce.partialText=a.responseText),r.next(ce)},j=q=>{let ce={type:zt.UploadProgress,loaded:q.loaded};q.lengthComputable&&(ce.total=q.total),r.next(ce)};return a.addEventListener("load",E),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),e.reportProgress&&(a.addEventListener("progress",O),null!==u&&a.upload&&a.upload.addEventListener("progress",j)),a.send(u),r.next({type:zt.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",E),a.removeEventListener("timeout",S),e.reportProgress&&(a.removeEventListener("progress",O),null!==u&&a.upload&&a.upload.removeEventListener("progress",j)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(jt))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Xe=new l.OlP("XSRF_COOKIE_NAME"),Kt=new l.OlP("XSRF_HEADER_NAME");class Qr{}let Hl=(()=>{class n{constructor(e,r,a){this.doc=e,this.platform=r,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ts(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se),l.LFG(l.Lbi),l.LFG(Xe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ya=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return r.handle(e);const u=this.tokenService.getToken();return null!==u&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,u)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Qr),l.LFG(Kt))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),$l=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(Zd,[]);this.chain=r.reduceRight((a,u)=>new Vf(a,u),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cu),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),wo=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ya,useClass:Yg}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Xe,useValue:e.cookieName}:[],e.headerName?{provide:Kt,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ya,{provide:Zd,useExisting:Ya,multi:!0},{provide:Qr,useClass:Hl},{provide:Xe,useValue:"XSRF-TOKEN"},{provide:Kt,useValue:"X-XSRF-TOKEN"}]}),n})(),hu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Wd,{provide:Ka,useClass:$l},at,{provide:cu,useExisting:at}],imports:[[wo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Wn=P(2011),$f=P(4986);function dn(n,t){return(0,yn.e)((e,r)=>{let a=null,u=0,f=!1;const y=()=>f&&!a&&r.complete();e.subscribe((0,xt.x)(r,E=>{null==a||a.unsubscribe();let S=0;const R=u++;(0,At.Xf)(n(E,R)).subscribe(a=(0,xt.x)(r,O=>r.next(t?t(E,O,R,S++):O),()=>{a=null,y()}))},()=>{f=!0,y()}))})}var hr=P(6351),Gy=P(3942),Zs=P(5861),cs=P(9681),F=P(2090),bo=P(4859);const Gf="firebasestorage.googleapis.com",zy="storageBucket";class En extends F.ZR{constructor(t,e){super(ga(t),`Firebase Storage: ${e} (${ga(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,En.prototype)}_codeEquals(t){return ga(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ga(n){return"storage/"+n}function zf(){return new En("unknown","An unknown error occurred, please check the error payload for server response.")}function Qg(){return new En("canceled","User canceled the upload/download.")}function Kd(){return new En("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Gl(n){return new En("invalid-argument",n)}function qf(){return new En("app-deleted","The Firebase app was deleted.")}function fu(n){return new En("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yd(n,t){return new En("invalid-format","String does not match format '"+n+"': "+t)}function pu(n){throw new En("internal-error","Internal error: "+n)}class Vr{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let r;try{r=Vr.makeFromUrl(t,e)}catch(a){return new Vr(t,"")}if(""===r.path)return r;throw function Yy(n){return new En("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let r=null;const a="([A-Za-z0-9.\\-_]+)",y=new RegExp("^gs://"+a+"(/(.*))?$","i");function S(dt){dt.path_=decodeURIComponent(dt.path)}const O=e.replace(/[.]/g,"\\."),Dt=[{regex:y,indices:{bucket:1,path:3},postModify:function u(dt){"/"===dt.path.charAt(dt.path.length-1)&&(dt.path_=dt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${a}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${e===Gf?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${a}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let dt=0;dt<Dt.length;dt++){const tr=Dt[dt],bs=tr.regex.exec(t);if(bs){let Oy=bs[tr.indices.path];Oy||(Oy=""),r=new Vr(bs[tr.indices.bucket],Oy),tr.postModify(r);break}}if(null==r)throw function Jg(n){return new En("invalid-url","Invalid URL '"+n+"'.")}(t);return r}}class $E{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Kf(n){return"string"==typeof n||n instanceof String}function tm(n){return nm()&&n instanceof Blob}function nm(){return"undefined"!=typeof Blob}function rm(n,t,e,r){if(r<t)throw Gl(`Invalid value for '${n}'. Expected ${t} or greater.`);if(r>e)throw Gl(`Invalid value for '${n}'. Expected ${e} or less.`)}function Qn(n,t,e){let r=t;return null==e&&(r=`https://${t}`),`${e}://${r}/v0${n}`}function tv(n){const t=encodeURIComponent;let e="?";for(const r in n)n.hasOwnProperty(r)&&(e=e+(t(r)+"=")+t(n[r])+"&");return e=e.slice(0,-1),e}var ma=(()=>{return(n=ma||(ma={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",ma;var n})();class GE{constructor(t,e,r,a,u,f,y,E,S,R,O){this.url_=t,this.method_=e,this.headers_=r,this.body_=a,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=y,this.errorCallback_=E,this.timeout_=S,this.progressCallback_=R,this.connectionFactory_=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,q)=>{this.resolve_=j,this.reject_=q,this.start_()})}start_(){const e=(r,a)=>{const u=this.resolve_,f=this.reject_,y=a.connection;if(a.wasSuccessCode)try{const E=this.callback_(y,y.getResponse());!function Xy(n){return void 0!==n}(E)?u():u(E)}catch(E){f(E)}else if(null!==y){const E=zf();E.serverResponse=y.getErrorText(),f(this.errorCallback_?this.errorCallback_(y,E):E)}else f(a.canceled?this.appDelete_?qf():Qg():function Ky(){return new En("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new Yf(!1,null,!0)):this.backoffId_=function Jy(n,t,e){let r=1,a=null,u=null,f=!1,y=0;function E(){return 2===y}let S=!1;function R(...ke){S||(S=!0,t.apply(null,ke))}function O(ke){a=setTimeout(()=>{a=null,n(q,E())},ke)}function j(){u&&clearTimeout(u)}function q(ke,...tt){if(S)return void j();if(ke)return j(),void R.call(null,ke,...tt);if(E()||f)return j(),void R.call(null,ke,...tt);let Dt;r<64&&(r*=2),1===y?(y=2,Dt=0):Dt=1e3*(r+Math.random()),O(Dt)}let ce=!1;function Ue(ke){ce||(ce=!0,j(),!S&&(null!==a?(ke||(y=2),clearTimeout(a),O(0)):ke||(y=1)))}return O(0),u=setTimeout(()=>{f=!0,Ue(!0)},e),Ue}((r,a)=>{if(a)return void r(!1,new Yf(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const f=y=>{null!==this.progressCallback_&&this.progressCallback_(y.loaded,y.lengthComputable?y.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const y=u.getErrorCode()===ma.NO_ERROR,E=u.getStatus();if(!y||this.isRetryStatusCode_(E)){const R=u.getErrorCode()===ma.ABORT;return void r(!1,new Yf(!1,null,R))}const S=-1!==this.successCodes_.indexOf(E);r(!0,new Yf(S,u))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function em(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,a=-1!==[408,429].indexOf(t),u=-1!==this.additionalRetryCodes_.indexOf(t);return e||a||u}}class Yf{constructor(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r}}function pt(...n){const t=function KE(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let r=0;r<n.length;r++)e.append(n[r]);return e.getBlob()}if(nm())return new Blob(n);throw new En("unsupported-environment","This browser doesn't seem to support creating Blobs")}const pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gu{constructor(t,e){this.data=t,this.contentType=e||null}}function Hi(n,t){switch(n){case pi.RAW:return new gu(im(t));case pi.BASE64:case pi.BASE64URL:return new gu(Qf(n,t));case pi.DATA_URL:return new gu(function sm(n){const t=new Io(n);return t.base64?Qf(pi.BASE64,t.rest):function YE(n){let t;try{t=decodeURIComponent(n)}catch(e){throw Yd(pi.DATA_URL,"Malformed data URL.")}return im(t)}(t.rest)}(t),function sv(n){return new Io(n).contentType}(t))}throw zf()}function im(n){const t=[];for(let e=0;e<n.length;e++){let r=n.charCodeAt(e);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++e),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Qf(n,t){switch(n){case pi.BASE64:{const a=-1!==t.indexOf("-"),u=-1!==t.indexOf("_");if(a||u)throw Yd(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case pi.BASE64URL:{const a=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(a||u)throw Yd(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function iv(n){return atob(n)}(t)}catch(a){throw Yd(n,"Invalid character found")}const r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);return r}class Io{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Yd(pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=e[1]||null;null!=r&&(this.base64=function om(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}class _a{constructor(t,e){let r=0,a="";tm(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,e){if(tm(this.data_)){const a=function rv(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===a?null:new _a(a)}{const r=new Uint8Array(this.data_.buffer,t,e-t);return new _a(r,!0)}}static getBlob(...t){if(nm()){const e=t.map(r=>r instanceof _a?r.data_:r);return new _a(pt.apply(null,e))}{const e=t.map(f=>Kf(f)?Hi(pi.RAW,f).data:f.data_);let r=0;e.forEach(f=>{r+=f.byteLength});const a=new Uint8Array(r);let u=0;return e.forEach(f=>{for(let y=0;y<f.length;y++)a[u++]=f[y]}),new _a(a,!0)}}uploadData(){return this.data_}}function Jf(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function ev(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Qd(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function am(n,t){return t}class Ir{constructor(t,e,r,a){this.server=t,this.local=e||t,this.writable=!!r,this.xform=a||am}}let mu=null;function Jd(){if(mu)return mu;const n=[];n.push(new Ir("bucket")),n.push(new Ir("generation")),n.push(new Ir("metageneration")),n.push(new Ir("name","fullPath",!0));const e=new Ir("name");e.xform=function t(u,f){return function tT(n){return!Kf(n)||n.length<2?n:Qd(n)}(f)},n.push(e);const a=new Ir("size");return a.xform=function r(u,f){return void 0!==f?Number(f):f},n.push(a),n.push(new Ir("timeCreated")),n.push(new Ir("updated")),n.push(new Ir("md5Hash",null,!0)),n.push(new Ir("cacheControl",null,!0)),n.push(new Ir("contentDisposition",null,!0)),n.push(new Ir("contentEncoding",null,!0)),n.push(new Ir("contentLanguage",null,!0)),n.push(new Ir("contentType",null,!0)),n.push(new Ir("metadata","customMetadata",!0)),mu=n,mu}function ov(n,t,e){const r=Jf(t);return null===r?null:function JE(n,t,e){const r={type:"file"},a=e.length;for(let u=0;u<a;u++){const f=e[u];r[f.local]=f.xform(r,t[f.server])}return function QE(n,t){Object.defineProperty(n,"ref",{get:function e(){const u=new Vr(n.bucket,n.fullPath);return t._makeStorageReference(u)}})}(r,n),r}(n,r,e)}function lv(n,t){const e={},r=t.length;for(let a=0;a<r;a++){const u=t[a];u.writable&&(e[u.server]=n[u.local])}return JSON.stringify(e)}const cv="prefixes";class Do{constructor(t,e,r,a){this.url=t,this.method=e,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function us(n){if(!n)throw zf()}function lm(n,t){return function e(r,a){const u=ov(n,a,t);return us(null!==u),u}}function Xd(n){return function t(e,r){let a;return a=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function HE(){return new En("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Wf(){return new En("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function jE(n){return new En("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function qy(n){return new En("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,a.serverResponse=r.serverResponse,a}}function ep(n){const t=Xd(n);return function e(r,a){let u=t(r,a);return 404===r.getStatus()&&(u=function Zy(n){return new En("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=a.serverResponse,u}}function ew(n,t,e){const a=Qn(t.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new Do(a,"GET",lm(n,e),f);return y.errorHandler=ep(t),y}function iT(n,t,e,r,a){const u={};u.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(u.delimiter=e),r&&(u.pageToken=r),a&&(u.maxResults=a);const y=Qn(t.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,R=new Do(y,"GET",function nT(n,t){return function e(r,a){const u=function dv(n,t,e){const r=Jf(e);return null===r?null:function uv(n,t,e){const r={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[cv])for(const a of e[cv]){const u=a.replace(/\/$/,""),f=n._makeStorageReference(new Vr(t,u));r.prefixes.push(f)}if(e.items)for(const a of e.items){const u=n._makeStorageReference(new Vr(t,a.name));r.items.push(u)}return r}(n,t,r)}(n,t,a);return us(null!==u),u}}(n,t.bucket),S);return R.urlParams=u,R.errorHandler=Xd(t),R}function hv(n,t,e){const r=Object.assign({},e);return r.fullPath=n.path,r.size=t.size(),r.contentType||(r.contentType=function cm(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}class _u{constructor(t,e,r,a){this.current=t,this.total=e,this.finalized=!!r,this.metadata=a||null}}function tp(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(a){us(!1)}return us(!!e&&-1!==(t||["active"]).indexOf(e)),e}const rw={STATE_CHANGED:"state_changed"},Dr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hm(n){switch(n){case"running":case"pausing":case"canceling":return Dr.RUNNING;case"paused":return Dr.PAUSED;case"success":return Dr.SUCCESS;case"canceled":return Dr.CANCELED;default:return Dr.ERROR}}class pv{constructor(t,e,r){if(function XD(n){return"function"==typeof n}(t)||null!=e||null!=r)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=r?r:void 0;else{const u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function yu(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class vu extends class eh{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ma.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ma.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ma.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,r,a){if(this.sent_)throw pu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==a)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function $i(){return new vu}class fm{constructor(t,e,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=Jd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{this._request=void 0,this._chunkMultiplier=1,a._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=a,this._transition("error"))},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals("canceled")?this.completeTransitions_():(this._error=a,this._transition("error"))},this._promise=new Promise((a,u)=>{this._resolve=a,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,r])=>{switch(this._state){case"running":t(e,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const r=function dm(n,t,e,r,a){const u=t.bucketOnlyServerUrl(),f=hv(t,r,a),y={name:f.fullPath},E=Qn(u,n.host,n._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},O=lv(f,e),ce=new Do(E,"POST",function q(Ue){let ke;tp(Ue);try{ke=Ue.getResponseHeader("X-Goog-Upload-URL")}catch(tt){us(!1)}return us(Kf(ke)),ke},n.maxUploadRetryTime);return ce.urlParams=y,ce.headers=R,ce.body=O,ce.errorHandler=Xd(t),ce}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,$i,t,e);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,r)=>{const a=function nw(n,t,e,r){const E=new Do(e,"POST",function u(S){const R=tp(S,["active","final"]);let O=null;try{O=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(q){us(!1)}O||us(!1);const j=Number(O);return us(!isNaN(j)),new _u(j,r.size(),"final"===R)},n.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=Xd(t),E}(this._ref.storage,this._ref._location,t,this._blob),u=this._ref.storage._makeRequest(a,$i,e,r);this._request=u,u.getPromise().then(f=>{f=f,this._request=void 0,this._updateProgress(f.current),this._needToFetchStatus=!1,f.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new _u(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,u)=>{let f;try{f=function fv(n,t,e,r,a,u,f,y){const E=new _u(0,0);if(f?(E.current=f.current,E.total=f.total):(E.current=0,E.total=r.size()),r.size()!==E.total)throw function Qy(){return new En("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const S=E.total-E.current;let R=S;a>0&&(R=Math.min(R,a));const O=E.current,ce={"X-Goog-Upload-Command":R===S?"upload, finalize":"upload","X-Goog-Upload-Offset":`${E.current}`},Ue=r.slice(O,O+R);if(null===Ue)throw Kd();const Dt=new Do(e,"POST",function ke(dt,tr){const bs=tp(dt,["active","final"]),QD=E.current+R,Oy=r.size();let JD;return JD="final"===bs?lm(t,u)(dt,tr):null,new _u(QD,Oy,"final"===bs,JD)},t.maxUploadRetryTime);return Dt.headers=ce,Dt.body=Ue.uploadData(),Dt.progressCallback=y||null,Dt.errorHandler=Xd(n),Dt}(this._ref._location,this._ref.storage,r,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const y=this._ref.storage._makeRequest(f,$i,a,u);this._request=y,y.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const r=ew(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,$i,t,e);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const r=function um(n,t,e,r,a){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},E=function y(){let Dt="";for(let dt=0;dt<2;dt++)Dt+=Math.random().toString().slice(2);return Dt}();f["Content-Type"]="multipart/related; boundary="+E;const S=hv(t,r,a),R=lv(S,e),q=_a.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+E+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",r,"\r\n--"+E+"--");if(null===q)throw Kd();const ce={name:S.fullPath},Ue=Qn(u,n.host,n._protocol),tt=n.maxUploadRetryTime,ut=new Do(Ue,"POST",lm(n,e),tt);return ut.urlParams=ce,ut.headers=f,ut.body=q.uploadData(),ut.errorHandler=Xd(t),ut}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,$i,t,e);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=Qg(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=hm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,r,a){const u=new pv(e||void 0,r||void 0,a||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(hm(this._state)){case Dr.SUCCESS:yu(this._resolve.bind(null,this.snapshot))();break;case Dr.CANCELED:case Dr.ERROR:yu(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(hm(this._state)){case Dr.RUNNING:case Dr.PAUSED:t.next&&yu(t.next.bind(t,this.snapshot))();break;case Dr.SUCCESS:t.complete&&yu(t.complete.bind(t))();break;default:t.error&&yu(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Ja{constructor(t,e){this._service=t,this._location=e instanceof Vr?e:Vr.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ja(t,e)}get root(){const t=new Vr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qd(this._location.path)}get storage(){return this._service}get parent(){const t=function eT(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Vr(this._location.bucket,t);return new Ja(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw fu(t)}}function ow(n,t,e){return rp.apply(this,arguments)}function rp(){return(rp=(0,Zs.Z)(function*(n,t,e){const a=yield _m(n,{pageToken:e});t.prefixes.push(...a.prefixes),t.items.push(...a.items),null!=a.nextPageToken&&(yield ow(n,t,a.nextPageToken))})).apply(this,arguments)}function _m(n,t){null!=t&&"number"==typeof t.maxResults&&rm("options.maxResults",1,1e3,t.maxResults);const e=t||{},r=iT(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(r,$i)}function lw(n){n._throwIfRoot("getDownloadURL");const t=function sT(n,t,e){const a=Qn(t.fullServerUrl(),n.host,n._protocol),f=n.maxOperationRetryTime,y=new Do(a,"GET",function rT(n,t){return function e(r,a){const u=ov(n,a,t);return us(null!==u),function av(n,t,e,r){const a=Jf(t);if(null===a||!Kf(a.downloadTokens))return null;const u=a.downloadTokens;if(0===u.length)return null;const f=encodeURIComponent;return u.split(",").map(S=>{const O=n.fullPath;return Qn("/b/"+f(n.bucket)+"/o/"+f(O),e,r)+tv({alt:"media",token:S})})[0]}(u,a,n.host,n._protocol)}}(n,e),f);return y.errorHandler=ep(t),y}(n.storage,n._location,Jd());return n.storage.makeRequestWithTokens(t,$i).then(e=>{if(null===e)throw function Xg(){return new En("no-download-url","The given file does not have any download URLs.")}();return e})}function gi(n,t){const e=function Xf(n,t){const e=t.split("/").filter(r=>r.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),r=new Vr(n._location.bucket,e);return new Ja(n.storage,r)}function hw(n,t){if(n instanceof vm){const e=n;if(null==e._bucket)throw function Zf(){return new En("no-default-bucket","No default bucket found. Did you set the '"+zy+"' property when initializing the app?")}();const r=new Ja(e,e._bucket);return null!=t?hw(r,t):r}return void 0!==t?gi(n,t):n}function aT(n,t){if(t&&function uw(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof vm)return function dw(n,t){return new Ja(n,t)}(n,t);throw Gl("To use ref(service, url), the first argument must be a Storage instance.")}return hw(n,t)}function ym(n,t){const e=null==t?void 0:t[zy];return null==e?null:Vr.makeFromBucketSpec(e,n)}class vm{constructor(t,e,r,a,u){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._url=a,this._firebaseVersion=u,this._bucket=null,this._host=Gf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=a?Vr.makeFromBucketSpec(a,this._host):ym(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Vr.makeFromBucketSpec(this._url,t):ym(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){rm("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){rm("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Zs.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const r=yield e.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Zs.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ja(this,t)}_makeRequest(t,e,r,a){if(this._deleted)return new $E(qf());{const u=function qE(n,t,e,r,a,u){const f=tv(n.urlParams),y=n.url+f,E=Object.assign({},n.headers);return function nv(n,t){t&&(n["X-Firebase-GMPID"]=t)}(E,t),function zE(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(E,e),function WE(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(E,u),function ZE(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(E,r),new GE(y,n.method,E,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a)}(t,this._appId,r,a,e,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(t,e){var r=this;return(0,Zs.Z)(function*(){const[a,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(t,e,a,u).getPromise()})()}}const ip="@firebase/storage";function qs(n,t){return aT(n=(0,F.m9)(n),t)}function Cw(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new vm(e,r,a,t,cs.SDK_VERSION)}!function Ew(){(0,cs._registerComponent)(new bo.wA("storage",Cw,"PUBLIC").setMultipleInstances(!0)),(0,cs.registerVersion)(ip,"0.9.2",""),(0,cs.registerVersion)(ip,"0.9.2","esm2017")}();class sp{constructor(t,e,r){this._delegate=t,this.task=e,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class op{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new sp(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(r=>{if(t)return t(new sp(r,this,this._ref))},e)}on(t,e,r,a){let u;return e&&(u="function"==typeof e?f=>e(new sp(f,this,this._ref)):{next:e.next?f=>e.next(new sp(f,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,u,r||void 0,a||void 0)}}class wv{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new va(t,this._service))}get items(){return this._delegate.items.map(t=>new va(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class va{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Em(n,t){return gi(n,t)}(this._delegate,t);return new va(e,this.storage)}get root(){return new va(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new va(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new op(function pw(n,t,e){return function np(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new fm(n,new _a(t),e)}(n=(0,F.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=pi.RAW,r){this._throwIfRoot("putString");const a=Hi(e,t),u=Object.assign({},r);return null==u.contentType&&null!=a.contentType&&(u.contentType=a.contentType),new op(new fm(this._delegate,new _a(a.data,!0),u),this)}listAll(){return function Cv(n){return function mv(n){const t={prefixes:[],items:[]};return ow(n,t).then(()=>t)}(n=(0,F.m9)(n))}(this._delegate).then(t=>new wv(t,this.storage))}list(t){return function mw(n,t){return _m(n=(0,F.m9)(n),t)}(this._delegate,t||void 0).then(e=>new wv(e,this.storage))}getMetadata(){return function vv(n){return function aw(n){n._throwIfRoot("getMetadata");const t=ew(n.storage,n._location,Jd());return n.storage.makeRequestWithTokens(t,$i)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(t){return function gw(n,t){return function _v(n,t){n._throwIfRoot("updateMetadata");const e=function oT(n,t,e,r){const u=Qn(t.fullServerUrl(),n.host,n._protocol),y=lv(e,r),S=n.maxOperationRetryTime,R=new Do(u,"PATCH",lm(n,r),S);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=y,R.errorHandler=ep(t),R}(n.storage,n._location,t,Jd());return n.storage.makeRequestWithTokens(e,$i)}(n=(0,F.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Ev(n){return lw(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function _w(n){return function cw(n){n._throwIfRoot("deleteObject");const t=function Qa(n,t){const r=Qn(t.fullServerUrl(),n.host,n._protocol),y=new Do(r,"DELETE",function f(E,S){},n.maxOperationRetryTime);return y.successCodes=[200,204],y.errorHandler=ep(t),y}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,$i)}(n=(0,F.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw fu(t)}}class nh{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(ap(t))throw Gl("ref() expected a child path but got a URL, use refFromURL instead.");return new va(qs(this._delegate,t),this)}refFromURL(t){if(!ap(t))throw Gl("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vr.makeFromUrl(t,this._delegate.host)}catch(e){throw Gl("refFromUrl() expected a valid full URL but got an invalid one.")}return new va(qs(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,r={}){!function yw(n,t,e,r={}){!function lT(n,t,e,r={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken="string"==typeof a?a:(0,F.Sg)(a,n.app.options.projectId))}(n,t,e,r)}(this._delegate,t,e,r)}}function ap(n){return/^[A-Za-z]+:\/\//.test(n)}function bv(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:t});return new nh(e,r)}!function bw(n){const t={TaskState:Dr,TaskEvent:rw,StringFormat:pi,Storage:nh,Reference:va};n.INTERNAL.registerComponent(new bo.wA("storage-compat",bv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.10")}(Gy.Z),P(5867);var up=P(1877);const dp=new Map,xv={activated:!1,tokenObservers:[]},Mv={initialized:!1,enabled:!1};function Jn(n){return dp.get(n)||xv}function Ks(n,t){dp.set(n,t)}function bu(){return Mv}class xw{constructor(t,e,r,a,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Zs.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function Du(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Jr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ov(n){if(!Jn(n).activated)throw Jr.create("use-before-activation",{appName:n.name})}function fp(n,t){return pp.apply(this,arguments)}function pp(){return(pp=(0,Zs.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(t),headers:r};let f,y;try{f=yield fetch(n,u)}catch(O){throw Jr.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==f.status)throw Jr.create("fetch-status-error",{httpStatus:f.status});try{y=yield f.json()}catch(O){throw Jr.create("fetch-parse-error",{originalErrorMessage:O.message})}const E=y.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const S=1e3*Number(E[1]),R=Date.now();return{token:y.attestationToken,expireTimeMillis:R+S,issuedAtTimeMillis:R}})).apply(this,arguments)}function Ow(n,t){const{projectId:e,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Tu="firebase-app-check-store";let sh=null;function kv(){return sh||(sh=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var a;t(Jr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Tu,{keyPath:"compositeKey"})}}catch(e){t(Jr.create("storage-open",{originalErrorMessage:e.message}))}}),sh)}function gp(){return(gp=(0,Zs.Z)(function*(n,t){const r=(yield kv()).transaction(Tu,"readwrite"),u=r.objectStore(Tu).put({compositeKey:n,value:t});return new Promise((f,y)=>{u.onsuccess=E=>{f()},r.onerror=E=>{var S;y(Jr.create("storage-set",{originalErrorMessage:null===(S=E.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const mp=new up.Yd("@firebase/app-check");function xm(n,t){return(0,F.hl)()?function mT(n,t){return function Nv(n,t){return gp.apply(this,arguments)}(function ds(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{mp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Lw(){return bu().enabled}function Rm(){return oh.apply(this,arguments)}function oh(){return(oh=(0,Zs.Z)(function*(){const n=bu();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Om={error:"UNKNOWN_ERROR"};function Vw(n){return F.US.encodeString(JSON.stringify(n),!1)}function yp(n){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,Zs.Z)(function*(n,t=!1){const e=n.app;Ov(e);const r=Jn(e);let u,a=r.token;if(!a){const E=yield r.cachedTokenPromise;E&&Cp(E)&&(a=E)}if(!t&&a&&Cp(a))return{token:a.token};let y,f=!1;if(Lw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=fp(Ow(e,yield Rm()),n.platformLoggerProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),f=!0);const E=yield r.exchangeTokenPromise;return yield xm(e,E),Ks(e,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),a=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?mp.warn(E.message):mp.error(E),u=E}return a?(y={token:a.token},Ks(e,Object.assign(Object.assign({},r),{token:a})),yield xm(e,a)):y=ah(u),f&&zl(e,y),y})).apply(this,arguments)}function Nm(n,t){const e=Jn(n),r=e.tokenObservers.filter(a=>a.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ks(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function Uv(n){const{app:t}=n,e=Jn(t);let r=e.tokenRefresher;r||(r=function vp(n){const{app:t}=n;return new xw((0,Zs.Z)(function*(){let r;if(r=Jn(t).token?yield yp(n,!0):yield yp(n),r.error)throw r.error}),()=>!0,()=>{const e=Jn(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ks(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function zl(n,t){const e=Jn(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(a){}}function Cp(n){return n.expireTimeMillis-Date.now()>0}function ah(n){return{token:Vw(Om),error:n}}class Bw{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Jn(this.app);for(const e of t)Nm(this.app,e.next);return Promise.resolve()}}const jv="app-check-internal";!function Hv(){(0,cs._registerComponent)(new bo.wA("app-check",n=>function jw(n,t){return new Bw(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(jv).initialize()})),(0,cs._registerComponent)(new bo.wA(jv,n=>function Fm(n){return{getToken:t=>yp(n,t),addTokenListener:t=>function km(n,t,e,r){const{app:a}=n,u=Jn(a),f={next:e,error:r,type:t};if(Ks(a,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,f]})),u.token&&Cp(u.token)){const y=u.token;Promise.resolve().then(()=>{e({token:y.token}),Uv(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Uv(n))}(n,"INTERNAL",t),removeTokenListener:t=>Nm(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,cs.registerVersion)("@firebase/app-check","0.5.3")}();class ch{constructor(){return(0,hr.vb)("app-check")}}"undefined"!=typeof window&&window;var zv=P(127);function Qw(n){const t=function Wv(n){return new Sn.y(t=>{const e=f=>t.next(f);e(n.snapshot);const u=n.on("state_changed",e);return n.then(f=>{e(f),t.complete()},f=>{e(n.snapshot),(f=>{t.error(f)})(f)}),function(){u()}}).pipe(function qd(n,t=$f.z){return(0,yn.e)((e,r)=>{let a=null,u=null,f=null;const y=()=>{if(a){a.unsubscribe(),a=null;const S=u;u=null,r.next(S)}};function E(){const S=f+n,R=t.now();if(R<S)return a=this.schedule(void 0,S-R),void r.add(a);y()}e.subscribe((0,xt.x)(r,S=>{u=S,f=t.now(),a||(a=t.schedule(E,n),r.add(a))},()=>{y(),r.complete()},void 0,()=>{u=a=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ze.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function Ip(n){return{getDownloadURL:()=>Je(void 0).pipe(hr.fc,dn(()=>n.getDownloadURL()),hr.iC),getMetadata:()=>Je(void 0).pipe(hr.fc,dn(()=>n.getMetadata()),hr.iC),delete:()=>(0,mn.D)(n.delete()),child:t=>Ip(n.child(t)),updateMetadata:t=>(0,mn.D)(n.updateMetadata(t)),put:(t,e)=>Qw(n.put(t,e)),putString:(t,e,r)=>Qw(n.putString(t,e,r)),list:t=>(0,mn.D)(n.list(t)),listAll:()=>(0,mn.D)(n.listAll())}}const Ru=new l.OlP("angularfire2.storageBucket"),Jw=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Zv=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Xw=new l.OlP("angularfire2.storage.use-emulator");let jm=(()=>{class n{constructor(e,r,a,u,f,y,E,S,R,O){const j=(0,Wn.on)(e,f,r);this.storage=(0,Wn.cc)(`${j.name}.storage.${a}`,"AngularFireStorage",j.name,()=>{const q=f.runOutsideAngular(()=>j.storage(a||void 0)),ce=R;return ce&&q.useEmulator(...ce),E&&q.setMaxUploadRetryTime(E),S&&q.setMaxOperationRetryTime(S),q},[E,S])}ref(e){return Ip(this.storage.ref(e))}refFromURL(e){return Ip(this.storage.refFromURL(e))}upload(e,r,a){return Ip(this.storage.ref(e)).put(r,a)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wn.Dh),l.LFG(Wn.xv,8),l.LFG(Ru,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(hr.HU),l.LFG(Jw,8),l.LFG(Zv,8),l.LFG(Xw,8),l.LFG(ch,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),qv=(()=>{class n{constructor(){zv.Z.registerVersion("angularfire",hr.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[jm],imports:[eb]}),n})();var uh=P(6451),Kv=P(3099);function tb(n,t,e,r,a){return(u,f)=>{let y=e,E=t,S=0;u.subscribe((0,xt.x)(f,R=>{const O=S++;E=y?n(E,R,O):(y=!0,R),r&&f.next(E)},a&&(()=>{y&&f.next(E),f.complete()})))}}function dh(n,t){return(0,yn.e)(tb(n,t,arguments.length>=2,!0))}var Ou=P(4671);function $m(n,t=Ou.y){return n=null!=n?n:nb,(0,yn.e)((e,r)=>{let a,u=!0;e.subscribe((0,xt.x)(r,f=>{const y=t(f);(u||!n(a,y))&&(u=!1,a=y,r.next(f))}))})}function nb(n,t){return n===t}var Gm=P(5032);function zm(...n){const t=(0,Fi.jO)(n);return(0,yn.e)((e,r)=>{const a=n.length,u=new Array(a);let f=n.map(()=>!1),y=!1;for(let E=0;E<a;E++)(0,At.Xf)(n[E]).subscribe((0,xt.x)(r,S=>{u[E]=S,!y&&!f[E]&&(f[E]=!0,(y=f.every(Ou.y))&&(f=null))},Gm.Z));e.subscribe((0,xt.x)(r,E=>{if(y){const S=[E,...u];r.next(t?t(...S):S)}}))})}P(3059);const Dp="@firebase/database";let Qv="";function Pu(n){Qv=n}class Jv{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Zm{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Tp=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Jv(t)}}catch(t){}return new Zm},Jl=Tp("localStorage"),ku=Tp("sessionStorage"),Ea=new up.Yd("@firebase/database"),Sp=function(){let n=1;return function(){return n++}}(),rb=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const r=e.digest();return F.US.encodeByteArray(r)},hh=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=hh.apply(null,r):t+="object"==typeof r?(0,F.Pz)(r):r,t+=" "}return t};let wa=null,Ap=!0;const qm=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ea.logLevel=up.in.VERBOSE,wa=Ea.log.bind(Ea),t&&ku.set("logging_enabled",!0)):"function"==typeof n?wa=n:(wa=null,ku.remove("logging_enabled"))},Xn=function(...n){if(!0===Ap&&(Ap=!1,null===wa&&!0===ku.get("logging_enabled")&&qm(!0)),wa){const t=hh.apply(null,n);wa(t)}},Xl=function(n){return function(...t){Xn(n,...t)}},xp=function(...n){const t="FIREBASE INTERNAL ERROR: "+hh(...n);Ea.error(t)},Qs=function(...n){const t=`FIREBASE FATAL ERROR: ${hh(...n)}`;throw Ea.error(t),new Error(t)},Tr=function(...n){const t="FIREBASE WARNING: "+hh(...n);Ea.warn(t)},Mp=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},So="[MIN_NAME]",fs="[MAX_NAME]",el=function(n,t){if(n===t)return 0;if(n===So||t===fs)return-1;if(t===So||n===fs)return 1;{const e=ph(n),r=ph(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},ib=function(n,t){return n===t?0:n<t?-1:1},fh=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},Km=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,F.Pz)(t[r]),e+=":",e+=Km(n[t[r]]);return e+="}",e},Rp=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let a=0;a<e;a+=t)r.push(n.substring(a,a+t>e?e:a+t));return r};function Bn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Ym=function(n){(0,F.hu)(!Mp(n),"Invalid JSON number");const r=1023;let a,u,f,y,E;0===n?(u=0,f=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),r),u=y+r,f=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(u=0,f=Math.round(n/Math.pow(2,-1074))));const S=[];for(E=52;E;E-=1)S.push(f%2?1:0),f=Math.floor(f/2);for(E=11;E;E-=1)S.push(u%2?1:0),u=Math.floor(u/2);S.push(a?1:0),S.reverse();const R=S.join("");let O="";for(E=0;E<64;E+=8){let j=parseInt(R.substr(E,8),2).toString(16);1===j.length&&(j="0"+j),O+=j}return O.toLowerCase()},s0=new RegExp("^-?(0*)\\d{1,10}$"),Qm=-2147483648,Op=2147483647,ph=function(n){if(s0.test(n)){const t=Number(n);if(t>=Qm&&t<=Op)return t}return null},gh=function(n){try{n()}catch(t){setTimeout(()=>{throw Tr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},mh=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class o0{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ob{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Xn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tr(t)}}let wn=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Xm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,u0="websocket",n_="long_polling";class r_{constructor(t,e,r,a,u=!1,f="",y=!1){this.secure=e,this.namespace=r,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=y,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Jl.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Jl.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ab(n,t,e){let r;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===u0)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==n_)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function d0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Bn(e,(u,f)=>{a.push(u+"="+f)}),r+a.join("&")}class h0{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const yh={},ps={};function i_(n){const t=n.toString();return yh[t]||(yh[t]=new h0),yh[t]}class Ao{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<r.length;++a)r[a]&&gh(()=>{this.onMessage_(r[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ec{constructor(t,e,r,a,u,f,y){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=a,this.authToken=u,this.transportSessionId=f,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xl(t),this.stats_=i_(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),ab(e,n_,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ao(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kp((...u)=>{const[f,y,E,S,R]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===f)this.id=y,this.password=E;else{if("close"!==f)throw new Error("Unrecognized command received: "+f);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[f,y]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,y)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Xm.test(location.hostname)&&(r.r="f");const a=this.urlFn(r);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ec.forceAllow_=!0}static forceDisallow(){ec.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!ec.forceAllow_&&(ec.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,F.h$)(e),a=Rp(r,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class kp{constructor(t,e,r,a){if(this.onDisconnect=r,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Sp(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=kp.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(y){Xn("frame writing exception"),y.stack&&Xn(y.stack),Xn(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Xn("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const f=this.pendingSegs.shift();r=r+"&seg"+a+"="+f.seg+"&ts"+a+"="+f.ts+"&d"+a+"="+f.d,a++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),r()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const a=r.readyState;(!a||"loaded"===a||"complete"===a)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{Xn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Fu=null;"undefined"!=typeof MozWebSocket?Fu=MozWebSocket:"undefined"!=typeof WebSocket&&(Fu=WebSocket);let Lu=(()=>{class n{constructor(e,r,a,u,f,y,E){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xl(this.connId),this.stats_=i_(r),this.connURL=n.connectionURL_(r,y,E,u),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,a,u){const f={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&Xm.test(location.hostname)&&(f.r="f"),r&&(f.s=r),a&&(f.ls=a),u&&(f.ac=u),ab(e,u0,f)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Jl.set("previous_websocket_failure",!0);try{if((0,F.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${Qv}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const f=process.env,y=0===this.connURL.indexOf("wss://")?f.HTTPS_PROXY||f.https_proxy:f.HTTP_PROXY||f.http_proxy;y&&(u.proxy={origin:y}),this.mySock=new Fu(this.connURL,[],u)}else this.mySock=new Fu(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Fu&&!n.forceDisallow_}static previouslyFailed(){return Jl.isInMemoryStorage||!0===Jl.get("previous_websocket_failure")}markConnectionHealthy(){Jl.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=(0,F.cI)(r);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const r=(0,F.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=Rp(r,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Fp{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ec,Lu]}initTransports_(t){const e=Lu&&Lu.isAvailable();let r=e&&!Lu.previouslyFailed();if(t.webSocketOnly&&(e||Tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Lu];else{const a=this.transports_=[];for(const u of Fp.ALL_TRANSPORTS)u&&u.isAvailable()&&a.push(u)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class l_{constructor(t,e,r,a,u,f,y,E,S,R){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=f,this.onReady_=y,this.onDisconnect_=E,this.onKill_=S,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xl("c:"+this.id+":"),this.transportManager_=new Fp(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=mh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=fh("t",t),r=fh("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=fh("t",t),r=fh("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=fh("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?xp("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xp("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),mh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Jl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class R0{put(t,e,r,a){}merge(t,e,r,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class O0{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let a=0;a<r.length;a++)r[a].callback.apply(r[a].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const a=this.getInitialEvent(t);a&&e.apply(r,a)}off(t,e,r){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!r||r===a[u].context))return void a.splice(u,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Up extends O0{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Up}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Wt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[r]=this.pieces_[a],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Vt(){return new Wt("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ba(n){return n.pieces_.length-n.pieceNum_}function Zt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Wt(n.pieces_,t)}function Vp(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Uu(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function c_(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Wt(t,0)}function hn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof Wt)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let a=0;a<r.length;a++)r[a].length>0&&e.push(r[a])}return new Wt(e,0)}function Et(n){return n.pieceNum_>=n.pieces_.length}function jr(n,t){const e=bt(n),r=bt(t);if(null===e)return t;if(e===r)return jr(Zt(n),Zt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function F0(n,t){const e=Uu(n,0),r=Uu(t,0);for(let a=0;a<e.length&&a<r.length;a++){const u=el(e[a],r[a]);if(0!==u)return u}return e.length===r.length?0:e.length<r.length?-1:1}function Bp(n,t){if(ba(n)!==ba(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function fr(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(ba(n)>ba(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class gb{constructor(t,e){this.errorPrefix_=e,this.parts_=Uu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,F.ug)(this.parts_[r]);_b(this)}}function _b(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ia(n))}function Ia(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class L0 extends O0{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new L0}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Bu=1e3;let fn,tc=(()=>{class n extends R0{constructor(e,r,a,u,f,y,E,S){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=y,this.appCheckTokenProvider_=E,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=Xl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Bu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");L0.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Up.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,a){const u=++this.requestNumber_,f={r:u,a:e,b:r};this.log_((0,F.Pz)(f)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const r=new F.BH,a={p:e._path.toString(),q:e._queryObject},u={action:"g",request:a,onComplete:y=>{const E=y.d;"ok"===y.s?(this.onDataUpdate_(a.p,E,!1,null),r.resolve(E)):r.reject(E)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const y=this.outstandingGets_[f];void 0===y||u!==y||(delete this.outstandingGets_[f],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+f+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(f),r.promise}listen(e,r,a,u){this.initConnection_();const f=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+f),this.listens.has(y)||this.listens.set(y,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(y).has(f),"listen() called twice for same path/queryId.");const E={onComplete:u,hashFn:r,query:e,tag:a};this.listens.get(y).set(f,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(e){const r=e.query,a=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+a+" for "+u);const f={p:a};e.tag&&(f.q=r._queryObject,f.t=e.tag),f.h=e.hashFn(),this.sendRequest("q",f,E=>{const S=E.d,R=E.s;n.warnOnListenWarnings_(S,r),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",E),"ok"!==R&&this.removeListen_(a,u),e.onComplete&&e.onComplete(R,S))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const a=(0,F.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',f=r._path.toString();Tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,F.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(r,a,u=>{const f=u.s,y=u.d||"error";this.authToken_===e&&("ok"===f?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,a=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(e,r){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,r)}sendUnlisten_(e,r,a,u){this.log_("Unlisten on "+e+" for "+r);const f={p:e};u&&(f.q=a,f.t=u),this.sendRequest("n",f)}onDisconnectPut(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:a})}onDisconnectMerge(e,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:a})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,a,u){const f={p:r,d:a};this.log_("onDisconnect "+e,f),this.sendRequest(e,f,y=>{u&&setTimeout(()=>{u(y.s,y.d)},Math.floor(0))})}put(e,r,a,u){this.putInternal("p",e,r,a,u)}merge(e,r,a,u){this.putInternal("m",e,r,a,u)}putInternal(e,r,a,u,f){this.initConnection_();const y={p:r,d:a};void 0!==f&&(y.h=f),this.outstandingPuts_.push({action:e,request:y,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,a,f=>{this.log_(r+" response",f),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const r=e.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):xp("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Bu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Zs.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),f=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let E=!1,S=null;const R=function(){S?S.close():(E=!0,u())};e.realtime_={close:R,sendRequest:function(q){(0,F.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(q)}};const j=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[q,ce]=yield Promise.all([e.authTokenProvider_.getToken(j),e.appCheckTokenProvider_.getToken(j)]);E?Xn("getToken() completed but was canceled"):(Xn("getToken() completed. Creating connection."),e.authToken_=q&&q.accessToken,e.appCheckToken_=ce&&ce.token,S=new l_(f,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,a,u,Ue=>{Tr(Ue+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(q){e.log_("Failed to get token: "+q),E||(e.repoInfo_.nodeAdmin&&Tr(q),R())}}})()}interrupt(e){Xn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Xn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Bu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let a;a=r?r.map(f=>Km(f)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,r){const a=new Wt(e).toString();let u;if(this.listens.has(a)){const f=this.listens.get(a);u=f.get(r),f.delete(r),0===f.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,r){Xn("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Xn("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,F.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+Qv.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Up.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class vt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vt(t,e)}}class nc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new vt(So,t),a=new vt(So,e);return 0!==this.compare(r,a)}minPost(){return vt.MIN}}class Eb extends nc{static get __EMPTY_NODE(){return fn}static set __EMPTY_NODE(t){fn=t}compare(t,e){return el(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vt.MIN}maxPost(){return new vt(fs,fn)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new vt(t,fn)}toString(){return".key"}}const Xs=new Eb;class jp{constructor(t,e,r,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=e?r(t.key,e):1,a&&(f*=-1),f<0)t=this.isReverse_?t.left:t.right;else{if(0===f){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let u_,eo=(()=>{class n{constructor(e,r,a,u,f){this.key=e,this.value=r,this.color=null!=a?a:n.RED,this.left=null!=u?u:Xr.EMPTY_NODE,this.right=null!=f?f:Xr.EMPTY_NODE}copy(e,r,a,u,f){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=u?u:this.left,null!=f?f:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,a){let u=this;const f=a(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,r,a),null):0===f?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let a,u;if(a=this,r(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===r(e,a.key)){if(a.right.isEmpty())return Xr.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Xr{constructor(t,e=Xr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Xr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,eo.BLACK,null,null))}remove(t){return new Xr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,eo.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,a=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return a?a.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(a=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new jp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new jp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new jp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new jp(this.root_,null,this.comparator_,!0,t)}}function B0(n,t){return el(n.name,t.name)}function Hp(n,t){return el(n,t)}Xr.EMPTY_NODE=new class V0{copy(t,e,r,a,u){return this}insert(t,e,r){return new eo(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const j0=function(n){return"number"==typeof n?"number:"+Ym(n):"string:"+n},ju=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===u_||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===u_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let H0,$0,Eh,Hu=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),ju(this.priorityNode_)}static set __childrenNodeConstructor(e){H0=e}static get __childrenNodeConstructor(){return H0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:".priority"===bt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const a=bt(e);return null===a?r:r.isEmpty()&&".priority"!==a?this:((0,F.hu)(".priority"!==a||1===ba(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Zt(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+j0(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?Ym(this.value_):this.value_,this.lazyHash_=rb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,a=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(r),f=n.VALUE_TYPE_ORDER.indexOf(a);return(0,F.hu)(u>=0,"Unknown leaf type: "+r),(0,F.hu)(f>=0,"Unknown leaf type: "+a),u===f?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const en=new class W0 extends nc{compare(t,e){const r=t.node.getPriority(),a=e.node.getPriority(),u=r.compareTo(a);return 0===u?el(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(fs,new Hu("[PRIORITY-POST]",Eh))}makePost(t,e){const r=$0(t);return new vt(e,new Hu("[PRIORITY-POST]",r))}toString(){return".priority"}},wh=Math.log(2);class bh{constructor(t){this.count=parseInt(Math.log(t+1)/wh,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $p=function(n,t,e,r){n.sort(t);const a=function(E,S){const R=S-E;let O,j;if(0===R)return null;if(1===R)return O=n[E],j=e?e(O):O,new eo(j,O.node,eo.BLACK,null,null);{const q=parseInt(R/2,10)+E,ce=a(E,q),Ue=a(q+1,S);return O=n[q],j=e?e(O):O,new eo(j,O.node,eo.BLACK,ce,Ue)}},y=function(E){let S=null,R=null,O=n.length;const j=function(ce,Ue){const ke=O-ce,tt=O;O-=ce;const ut=a(ke+1,tt),Dt=n[ke],dt=e?e(Dt):Dt;q(new eo(dt,Dt.node,Ue,null,ut))},q=function(ce){S?(S.left=ce,S=ce):(R=ce,S=ce)};for(let ce=0;ce<E.count;++ce){const Ue=E.nextBitIsOne(),ke=Math.pow(2,E.count-(ce+1));Ue?j(ke,eo.BLACK):(j(ke,eo.BLACK),j(ke,eo.RED))}return R}(new bh(n.length));return new Xr(r||t,y)};let d_;const $u={};class xo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)($u&&en,"ChildrenNode.ts has not been loaded"),d_=d_||new xo({".priority":$u},{".priority":en}),d_}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Xr?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let a=!1;const u=e.getIterator(vt.Wrap);let y,f=u.getNext();for(;f;)a=a||t.isDefinedOn(f.node),r.push(f),f=u.getNext();y=a?$p(r,t.getCompare()):$u;const E=t.toString(),S=Object.assign({},this.indexSet_);S[E]=t;const R=Object.assign({},this.indexes_);return R[E]=y,new xo(R,S)}addToIndexes(t,e){const r=(0,F.UI)(this.indexes_,(a,u)=>{const f=(0,F.DV)(this.indexSet_,u);if((0,F.hu)(f,"Missing index implementation for "+u),a===$u){if(f.isDefinedOn(t.node)){const y=[],E=e.getIterator(vt.Wrap);let S=E.getNext();for(;S;)S.name!==t.name&&y.push(S),S=E.getNext();return y.push(t),$p(y,f.getCompare())}return $u}{const y=e.get(t.name);let E=a;return y&&(E=E.remove(new vt(t.name,y))),E.insert(t,t.node)}});return new xo(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,F.UI)(this.indexes_,a=>{if(a===$u)return a;{const u=e.get(t.name);return u?a.remove(new vt(t.name,u)):a}});return new xo(r,this.indexSet_)}}let Gu,gt=(()=>{class n{constructor(e,r,a){this.children_=e,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&ju(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gu||(Gu=new n(new Xr(Hp),null,xo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gu}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Gu:r}}getChild(e){const r=bt(e);return null===r?this:this.getImmediateChild(r).getChild(Zt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,F.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const a=new vt(e,r);let u,f;r.isEmpty()?(u=this.children_.remove(e),f=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,r),f=this.indexMap_.addToIndexes(a,this.children_));const y=u.isEmpty()?Gu:this.priorityNode_;return new n(u,y,f)}}updateChild(e,r){const a=bt(e);if(null===a)return r;{(0,F.hu)(".priority"!==bt(e)||1===ba(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(Zt(e),r);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let a=0,u=0,f=!0;if(this.forEachChild(en,(y,E)=>{r[y]=E.val(e),a++,f&&n.INTEGER_REGEXP_.test(y)?u=Math.max(u,Number(y)):f=!1}),!e&&f&&u<2*a){const y=[];for(const E in r)y[E]=r[E];return y}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+j0(this.getPriority().val())+":"),this.forEachChild(en,(r,a)=>{const u=a.hash();""!==u&&(e+=":"+r+":"+u)}),this.lazyHash_=""===e?"":rb(e)}return this.lazyHash_}getPredecessorChildName(e,r,a){const u=this.resolveIndex_(a);if(u){const f=u.getPredecessorKey(new vt(e,r));return f?f.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new vt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const a=r.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new vt(r,this.children_.get(r)):null}forEachChild(e,r){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,vt.Wrap);let f=u.peek();for(;null!=f&&r.compare(f,e)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,vt.Wrap);let f=u.peek();for(;null!=f&&r.compare(f,e)>0;)u.getNext(),f=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===zu?-1:0}withIndex(e){if(e===Xs||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Xs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const a=this.getIterator(en),u=r.getIterator(en);let f=a.getNext(),y=u.getNext();for(;f&&y;){if(f.name!==y.name||!f.node.equals(y.node))return!1;f=a.getNext(),y=u.getNext()}return null===f&&null===y}return!1}return!1}}resolveIndex_(e){return e===Xs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const zu=new class bb extends gt{constructor(){super(new Xr(Hp),gt.EMPTY_NODE,xo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return gt.EMPTY_NODE}isEmpty(){return!1}};function bn(n,t=null){if(null===n)return gt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Hu(n,bn(t));if(n instanceof Array){let e=gt.EMPTY_NODE;return Bn(n,(r,a)=>{if((0,F.r3)(n,r)&&"."!==r.substring(0,1)){const u=bn(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(r,u))}}),e.updatePriority(bn(t))}{const e=[];let r=!1;if(Bn(n,(f,y)=>{if("."!==f.substring(0,1)){const E=bn(y);E.isEmpty()||(r=r||!E.getPriority().isEmpty(),e.push(new vt(f,E)))}}),0===e.length)return gt.EMPTY_NODE;const u=$p(e,B0,f=>f.name,Hp);if(r){const f=$p(e,en.getCompare());return new gt(u,bn(t),new xo({".priority":f},{".priority":en}))}return new gt(u,bn(t),xo.Default)}}Object.defineProperties(vt,{MIN:{value:new vt(So,gt.EMPTY_NODE)},MAX:{value:new vt(fs,zu)}}),Eb.__EMPTY_NODE=gt.EMPTY_NODE,Hu.__childrenNodeConstructor=gt,function wb(n){u_=n}(zu),function z0(n){Eh=n}(zu),function G0(n){$0=n}(bn);class Z0 extends nc{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Et(t)&&".priority"!==bt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),a=this.extractChild(e.node),u=r.compareTo(a);return 0===u?el(t.name,e.name):u}makePost(t,e){const r=bn(t),a=gt.EMPTY_NODE.updateChild(this.indexPath_,r);return new vt(e,a)}maxPost(){const t=gt.EMPTY_NODE.updateChild(this.indexPath_,zu);return new vt(fs,t)}toString(){return Uu(this.indexPath_,0).join("/")}}const q0=new class bT extends nc{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?el(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(t,e){const r=bn(t);return new vt(e,r)}toString(){return".value"}},Ih="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Db=function(){let n=0;const t=[];return function(e){const r=e===n;let a;n=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=Ih.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let f=u.join("");if(r){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)f+=Ih.charAt(t[a]);return(0,F.hu)(20===f.length,"nextPushId: Length should be 20."),f}}(),h_=function(n){if(n===""+Op)return"-";const t=ph(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let f=0;f<e.length;f++)e[f]=n.charAt(f);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return fs;const u=Ih.charAt(Ih.indexOf(e[r])+1);return e[r]=u,e.slice(0,r+1).join("")},Wu=function(n){if(n===""+Qm)return So;const t=ph(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+Op:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ih.charAt(Ih.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Y0(n){return{type:"value",snapshotNode:n}}function Zu(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Th(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Sh(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class zp{constructor(t){this.index_=t}updateChild(t,e,r,a,u,f){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(r.getChild(a))&&y.isEmpty()===r.isEmpty()||(null!=f&&(r.isEmpty()?t.hasChild(e)?f.trackChildChange(Th(e,y)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?f.trackChildChange(Zu(e,r)):f.trackChildChange(Sh(e,r,y))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(en,(a,u)=>{e.hasChild(a)||r.trackChildChange(Th(a,u))}),e.isLeafNode()||e.forEachChild(en,(a,u)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(u)||r.trackChildChange(Sh(a,u,f))}else r.trackChildChange(Zu(a,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?gt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ah{constructor(t){this.indexedFilter_=new zp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ah.getStartPost_(t),this.endPost_=Ah.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,a,u,f){return this.matches(new vt(e,r))||(r=gt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,a,u,f)}updateFullNode(t,e,r){e.isLeafNode()&&(e=gt.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(gt.EMPTY_NODE);const u=this;return e.forEachChild(en,(f,y)=>{u.matches(new vt(f,y))||(a=a.updateImmediateChild(f,gt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Sb{constructor(t){this.rangedFilter_=new Ah(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,a,u,f){return this.rangedFilter_.matches(new vt(e,r))||(r=gt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,a,u,f):this.fullLimitUpdateChild_(t,e,r,u,f)}updateFullNode(t,e,r){let a;if(e.isLeafNode()||e.isEmpty())a=gt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=gt.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const y=u.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!E)break;a=a.updateImmediateChild(y.name,y.node),f++}}else{let u,f,y,E;if(a=e.withIndex(this.index_),a=a.updatePriority(gt.EMPTY_NODE),this.reverse_){E=a.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),f=this.rangedFilter_.getStartPost();const O=this.index_.getCompare();y=(j,q)=>O(q,j)}else E=a.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),f=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let S=0,R=!1;for(;E.hasNext();){const O=E.getNext();!R&&y(u,O)<=0&&(R=!0),R&&S<this.limit_&&y(O,f)<=0?S++:a=a.updateImmediateChild(O.name,gt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,a,u){let f;if(this.reverse_){const O=this.index_.getCompare();f=(j,q)=>O(q,j)}else f=this.index_.getCompare();const y=t;(0,F.hu)(y.numChildren()===this.limit_,"");const E=new vt(e,r),S=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),R=this.rangedFilter_.matches(E);if(y.hasChild(e)){const O=y.getImmediateChild(e);let j=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=j&&(j.name===e||y.hasChild(j.name));)j=a.getChildAfterChild(this.index_,j,this.reverse_);const q=null==j?1:f(j,E);if(R&&!r.isEmpty()&&q>=0)return null!=u&&u.trackChildChange(Sh(e,r,O)),y.updateImmediateChild(e,r);{null!=u&&u.trackChildChange(Th(e,O));const Ue=y.updateImmediateChild(e,gt.EMPTY_NODE);return null!=j&&this.rangedFilter_.matches(j)?(null!=u&&u.trackChildChange(Zu(j.name,j.node)),Ue.updateImmediateChild(j.name,j.node)):Ue}}return r.isEmpty()?t:R&&f(S,E)>=0?(null!=u&&(u.trackChildChange(Th(S.name,S.node)),u.trackChildChange(Zu(e,r))),y.updateImmediateChild(e,r).updateImmediateChild(S.name,gt.EMPTY_NODE)):t}}class Da{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=en}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:So}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===en}copy(){const t=new Da;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Wp(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function Zp(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function qu(n,t){const e=n.copy();return e.index_=t,e}function J0(n){const t={};if(n.isDefault())return t;let e;return n.index_===en?e="$priority":n.index_===q0?e="$value":n.index_===Xs?e="$key":((0,F.hu)(n.index_ instanceof Z0,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function f_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==en&&(t.i=n.index_.toString()),t}class xh extends R0{constructor(t,e,r,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=a,this.log_=Xl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=xh.getListenId_(t,r),y={};this.listens_[f]=y;const E=J0(t._queryParams);this.restRequest_(u+".json",E,(S,R)=>{let O=R;if(404===S&&(O=null,S=null),null===S&&this.onDataUpdate_(u,O,!1,r),(0,F.DV)(this.listens_,f)===y){let j;j=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(j,null)}})}unlisten(t,e){const r=xh.getListenId_(t,e);delete this.listens_[r]}get(t){const e=J0(t._queryParams),r=t._path.toString(),a=new F.BH;return this.restRequest_(r+".json",e,(u,f)=>{let y=f;404===u&&(y=null,u=null),null===u?(this.onDataUpdate_(r,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+f);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(r&&4===y.readyState){this.log_("REST Response for "+f+" received. status:",y.status,"response:",y.responseText);let E=null;if(y.status>=200&&y.status<300){try{E=(0,F.cI)(y.responseText)}catch(S){Tr("Failed to parse JSON response for "+f+": "+y.responseText)}r(null,E)}else 401!==y.status&&404!==y.status&&Tr("Got unsuccessful REST response for "+f+" Status: "+y.status),r(y.status);r=null}},y.open("GET",f,!0),y.send()})}}class Ob{constructor(){this.rootNode_=gt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function qp(){return{value:null,children:new Map}}function Ku(n,t,e){if(Et(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=bt(t);n.children.has(r)||n.children.set(r,qp()),Ku(n.children.get(r),t=Zt(t),e)}}function Mh(n,t){if(Et(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(en,(r,a)=>{Ku(n,new Wt(r),a)}),Mh(n,t)}}if(n.children.size>0){const e=bt(t);return t=Zt(t),n.children.has(e)&&Mh(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function p_(n,t,e){null!==n.value?e(t,n.value):function X0(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,a)=>{p_(a,new Wt(t.toString()+"/"+r),e)})}class Pb{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Bn(this.last_,(r,a)=>{e[r]=e[r]-a}),this.last_=t,e}}class Fb{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pb(t);const r=1e4+2e4*Math.random();mh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Bn(t,(a,u)=>{u>0&&(0,F.r3)(this.statsToReport_,a)&&(e[a]=u,r=!0)}),r&&this.server_.reportStats(e),mh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ms=(()=>{return(n=ms||(ms={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ms;var n})();function Kp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Rh{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=ms.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Et(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Wt(t));return new Rh(Vt(),e,this.revert)}}return(0,F.hu)(bt(this.path)===t,"operationForChild called for unrelated child."),new Rh(Zt(this.path),this.affectedTree,this.revert)}}class Oh{constructor(t,e){this.source=t,this.path=e,this.type=ms.LISTEN_COMPLETE}operationForChild(t){return Et(this.path)?new Oh(this.source,Vt()):new Oh(this.source,Zt(this.path))}}class rc{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=ms.OVERWRITE}operationForChild(t){return Et(this.path)?new rc(this.source,Vt(),this.snap.getImmediateChild(t)):new rc(this.source,Zt(this.path),this.snap)}}class ic{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=ms.MERGE}operationForChild(t){if(Et(this.path)){const e=this.children.subtree(new Wt(t));return e.isEmpty()?null:e.value?new rc(this.source,Vt(),e.value):new ic(this.source,Vt(),e)}return(0,F.hu)(bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ic(this.source,Zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tl{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;const e=bt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Lb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function sc(n,t,e,r,a,u){const f=r.filter(y=>y.type===e);f.sort((y,E)=>function tC(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const r=new vt(t.childName,t.snapshotNode),a=new vt(e.childName,e.snapshotNode);return n.index_.compare(r,a)}(n,y,E)),f.forEach(y=>{const E=function __(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,u);a.forEach(S=>{S.respondsTo(y.type)&&t.push(S.createEvent(E,n.query_))})})}function Yu(n,t){return{eventCache:n,serverCache:t}}function Ph(n,t,e,r){return Yu(new tl(t,e,r),n.serverCache)}function nC(n,t,e,r){return Yu(n.eventCache,new tl(t,e,r))}function Qu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function oc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Yp;class Yt{constructor(t,e=(()=>(Yp||(Yp=new Xr(ib)),Yp))()){this.value=t,this.children=e}static fromObject(t){let e=new Yt(null);return Bn(t,(r,a)=>{e=e.set(new Wt(r),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Vt(),value:this.value};if(Et(t))return null;{const r=bt(t),a=this.children.get(r);if(null!==a){const u=a.findRootMostMatchingPathAndValue(Zt(t),e);return null!=u?{path:hn(new Wt(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Et(t))return this;{const e=bt(t),r=this.children.get(e);return null!==r?r.subtree(Zt(t)):new Yt(null)}}set(t,e){if(Et(t))return new Yt(e,this.children);{const r=bt(t),u=(this.children.get(r)||new Yt(null)).set(Zt(t),e),f=this.children.insert(r,u);return new Yt(this.value,f)}}remove(t){if(Et(t))return this.children.isEmpty()?new Yt(null):new Yt(null,this.children);{const e=bt(t),r=this.children.get(e);if(r){const a=r.remove(Zt(t));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new Yt(null):new Yt(this.value,u)}return this}}get(t){if(Et(t))return this.value;{const e=bt(t),r=this.children.get(e);return r?r.get(Zt(t)):null}}setTree(t,e){if(Et(t))return e;{const r=bt(t),u=(this.children.get(r)||new Yt(null)).setTree(Zt(t),e);let f;return f=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new Yt(this.value,f)}}fold(t){return this.fold_(Vt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((a,u)=>{r[a]=u.fold_(hn(t,a),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Vt(),e)}findOnPath_(t,e,r){const a=!!this.value&&r(e,this.value);if(a)return a;if(Et(t))return null;{const u=bt(t),f=this.children.get(u);return f?f.findOnPath_(Zt(t),hn(e,u),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Vt(),e)}foreachOnPath_(t,e,r){if(Et(t))return this;{this.value&&r(e,this.value);const a=bt(t),u=this.children.get(a);return u?u.foreachOnPath_(Zt(t),hn(e,a),r):new Yt(null)}}foreach(t){this.foreach_(Vt(),t)}foreach_(t,e){this.children.inorderTraversal((r,a)=>{a.foreach_(hn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class to{constructor(t){this.writeTree_=t}static empty(){return new to(new Yt(null))}}function Ju(n,t,e){if(Et(t))return new to(new Yt(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const a=r.path;let u=r.value;const f=jr(a,t);return u=u.updateChild(f,e),new to(n.writeTree_.set(a,u))}{const a=new Yt(e),u=n.writeTree_.setTree(t,a);return new to(u)}}}function rC(n,t,e){let r=n;return Bn(e,(a,u)=>{r=Ju(r,hn(t,a),u)}),r}function iC(n,t){if(Et(t))return to.empty();{const e=n.writeTree_.setTree(t,new Yt(null));return new to(e)}}function Xu(n,t){return null!=ac(n,t)}function ac(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(jr(e.path,t)):null}function lc(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(en,(r,a)=>{t.push(new vt(r,a))}):n.writeTree_.children.inorderTraversal((r,a)=>{null!=a.value&&t.push(new vt(r,a.value))}),t}function _s(n,t){if(Et(t))return n;{const e=ac(n,t);return new to(null!=e?new Yt(e):n.writeTree_.subtree(t))}}function y_(n){return n.writeTree_.isEmpty()}function kh(n,t){return v_(Vt(),n.writeTree_,t)}function v_(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((a,u)=>{".priority"===a?((0,F.hu)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):e=v_(hn(n,a),u,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(hn(n,".priority"),r)),e}}function Qp(n,t){return I_(t,n)}function oC(n,t){if(n.snap)return fr(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&fr(hn(n.path,e),t))return!0;return!1}function Jp(n){return n.visible}function ed(n,t,e){let r=to.empty();for(let a=0;a<n.length;++a){const u=n[a];if(t(u)){const f=u.path;let y;if(u.snap)fr(e,f)?(y=jr(e,f),r=Ju(r,y,u.snap)):fr(f,e)&&(y=jr(f,e),r=Ju(r,Vt(),u.snap.getChild(y)));else{if(!u.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(fr(e,f))y=jr(e,f),r=rC(r,y,u.children);else if(fr(f,e))if(y=jr(f,e),Et(y))r=rC(r,Vt(),u.children);else{const E=(0,F.DV)(u.children,bt(y));if(E){const S=E.getChild(Zt(y));r=Ju(r,Vt(),S)}}}}}return r}function aC(n,t,e,r,a){if(r||a){const u=_s(n.visibleWrites,t);return!a&&y_(u)?e:a||null!=e||Xu(u,Vt())?kh(ed(n.allWrites,function(S){return(S.visible||a)&&(!r||!~r.indexOf(S.writeId))&&(fr(S.path,t)||fr(t,S.path))},t),e||gt.EMPTY_NODE):null}{const u=ac(n.visibleWrites,t);if(null!=u)return u;{const f=_s(n.visibleWrites,t);return y_(f)?e:null!=e||Xu(f,Vt())?kh(f,e||gt.EMPTY_NODE):null}}}function w_(n,t,e,r){return aC(n.writeTree,n.treePath,t,e,r)}function b_(n,t){return function lC(n,t,e){let r=gt.EMPTY_NODE;const a=ac(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(en,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(e){const u=_s(n.visibleWrites,t);return e.forEachChild(en,(f,y)=>{const E=kh(_s(u,new Wt(f)),y);r=r.updateImmediateChild(f,E)}),lc(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}return lc(_s(n.visibleWrites,t)).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}(n.writeTree,n.treePath,t)}function uC(n,t,e,r){return function cC(n,t,e,r,a){(0,F.hu)(r||a,"Either existingEventSnap or existingServerSnap must exist");const u=hn(t,e);if(Xu(n.visibleWrites,u))return null;{const f=_s(n.visibleWrites,u);return y_(f)?a.getChild(e):kh(f,a.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function Ta(n,t){return function Gb(n,t){return ac(n.visibleWrites,t)}(n.writeTree,hn(n.treePath,t))}function nl(n,t,e){return function $b(n,t,e,r){const a=hn(t,e),u=ac(n.visibleWrites,a);return null!=u?u:r.isCompleteForChild(e)?kh(_s(n.visibleWrites,a),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Wb(n,t){return I_(hn(n.treePath,t),n.writeTree)}function I_(n,t){return{treePath:n,writeTree:t}}class Zb{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(r);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(r,Sh(r,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(r,Th(r,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(r,Zu(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(r,Sh(r,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const D_=new class IT{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class hC{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nl(this.writes_,t,r)}}getChildAfterChild(t,e,r){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:oc(this.viewCache_),u=function dC(n,t,e,r,a,u){return function E_(n,t,e,r,a,u,f){let y;const E=_s(n.visibleWrites,t),S=ac(E,Vt());if(null!=S)y=S;else{if(null==e)return[];y=kh(E,e)}if(y=y.withIndex(f),y.isEmpty()||y.isLeafNode())return[];{const R=[],O=f.getCompare(),j=u?y.getReverseIteratorFrom(r,f):y.getIteratorFrom(r,f);let q=j.getNext();for(;q&&R.length<a;)0!==O(q,r)&&R.push(q),q=j.getNext();return R}}(n.writeTree,n.treePath,t,e,r,a,u)}(this.writes_,a,e,1,r,t);return 0===u.length?null:u[0]}}function mC(n,t,e,r,a,u){const f=t.eventCache;if(null!=Ta(r,e))return t;{let y,E;if(Et(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=oc(t),O=b_(r,S instanceof gt?S:gt.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),O,u)}else{const S=w_(r,oc(t));y=n.filter.updateFullNode(t.eventCache.getNode(),S,u)}else{const S=bt(e);if(".priority"===S){(0,F.hu)(1===ba(e),"Can't have a priority with additional path components");const R=f.getNode();E=t.serverCache.getNode();const O=uC(r,e,R,E);y=null!=O?n.filter.updatePriority(R,O):f.getNode()}else{const R=Zt(e);let O;if(f.isCompleteForChild(S)){E=t.serverCache.getNode();const j=uC(r,e,f.getNode(),E);O=null!=j?f.getNode().getImmediateChild(S).updateChild(R,j):f.getNode().getImmediateChild(S)}else O=nl(r,S,t.serverCache);y=null!=O?n.filter.updateChild(f.getNode(),S,O,R,a,u):f.getNode()}}return Ph(t,y,f.isFullyInitialized()||Et(e),n.filter.filtersNodes())}}function Xp(n,t,e,r,a,u,f,y){const E=t.serverCache;let S;const R=f?n.filter:n.filter.getIndexedFilter();if(Et(e))S=R.updateFullNode(E.getNode(),r,null);else if(R.filtersNodes()&&!E.isFiltered()){const q=E.getNode().updateChild(e,r);S=R.updateFullNode(E.getNode(),q,null)}else{const q=bt(e);if(!E.isCompleteForPath(e)&&ba(e)>1)return t;const ce=Zt(e),ke=E.getNode().getImmediateChild(q).updateChild(ce,r);S=".priority"===q?R.updatePriority(E.getNode(),ke):R.updateChild(E.getNode(),q,ke,ce,D_,null)}const O=nC(t,S,E.isFullyInitialized()||Et(e),R.filtersNodes());return mC(n,O,e,a,new hC(a,O,u),y)}function S_(n,t,e,r,a,u,f){const y=t.eventCache;let E,S;const R=new hC(a,t,u);if(Et(e))S=n.filter.updateFullNode(t.eventCache.getNode(),r,f),E=Ph(t,S,!0,n.filter.filtersNodes());else{const O=bt(e);if(".priority"===O)S=n.filter.updatePriority(t.eventCache.getNode(),r),E=Ph(t,S,y.isFullyInitialized(),y.isFiltered());else{const j=Zt(e),q=y.getNode().getImmediateChild(O);let ce;if(Et(j))ce=r;else{const Ue=R.getCompleteChild(O);ce=null!=Ue?".priority"===Vp(j)&&Ue.getChild(c_(j)).isEmpty()?Ue:Ue.updateChild(j,r):gt.EMPTY_NODE}E=q.equals(ce)?t:Ph(t,n.filter.updateChild(y.getNode(),O,ce,j,R,f),y.isFullyInitialized(),n.filter.filtersNodes())}}return E}function _C(n,t){return n.eventCache.isCompleteForChild(t)}function yC(n,t,e){return e.foreach((r,a)=>{t=t.updateChild(r,a)}),t}function A_(n,t,e,r,a,u,f,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,E=t;S=Et(e)?r:new Yt(null).setTree(e,r);const R=t.serverCache.getNode();return S.children.inorderTraversal((O,j)=>{if(R.hasChild(O)){const ce=yC(0,t.serverCache.getNode().getImmediateChild(O),j);E=Xp(n,E,new Wt(O),ce,a,u,f,y)}}),S.children.inorderTraversal((O,j)=>{const q=!t.serverCache.isCompleteForChild(O)&&void 0===j.value;if(!R.hasChild(O)&&!q){const Ue=yC(0,t.serverCache.getNode().getImmediateChild(O),j);E=Xp(n,E,new Wt(O),Ue,a,u,f,y)}}),E}class CC{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,a=new zp(r.getIndex()),u=function Ab(n){return n.loadsAllData()?new zp(n.getIndex()):n.hasLimit()?new Sb(n):new Ah(n)}(r);this.processor_=function fC(n){return{filter:n}}(u);const f=e.serverCache,y=e.eventCache,E=a.updateFullNode(gt.EMPTY_NODE,f.getNode(),null),S=u.updateFullNode(gt.EMPTY_NODE,y.getNode(),null),R=new tl(E,f.isFullyInitialized(),a.filtersNodes()),O=new tl(S,y.isFullyInitialized(),u.filtersNodes());this.viewCache_=Yu(O,R),this.eventGenerator_=new Lb(this.query_)}get query(){return this.query_}}function bC(n,t){const e=oc(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Et(t)&&!e.getImmediateChild(bt(t)).isEmpty())?e.getChild(t):null}function IC(n){return 0===n.eventRegistrations_.length}function DC(n,t,e){const r=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(e,a);f&&r.push(f)})}if(t){let a=[];for(let u=0;u<n.eventRegistrations_.length;++u){const f=n.eventRegistrations_[u];if(f.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(u+1));break}}else a.push(f)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return r}function TC(n,t,e,r){t.type===ms.MERGE&&null!==t.source.queryId&&((0,F.hu)(oc(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Qu(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,u=function pC(n,t,e,r,a){const u=new Zb;let f,y;if(e.type===ms.OVERWRITE){const S=e;S.source.fromUser?f=S_(n,t,S.path,S.snap,r,a,u):((0,F.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered()&&!Et(S.path),f=Xp(n,t,S.path,S.snap,r,a,y,u))}else if(e.type===ms.MERGE){const S=e;S.source.fromUser?f=function qb(n,t,e,r,a,u,f){let y=t;return r.foreach((E,S)=>{const R=hn(e,E);_C(t,bt(R))&&(y=S_(n,y,R,S,a,u,f))}),r.foreach((E,S)=>{const R=hn(e,E);_C(t,bt(R))||(y=S_(n,y,R,S,a,u,f))}),y}(n,t,S.path,S.children,r,a,u):((0,F.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered(),f=A_(n,t,S.path,S.children,r,a,y,u))}else if(e.type===ms.ACK_USER_WRITE){const S=e;f=S.revert?function vC(n,t,e,r,a,u){let f;if(null!=Ta(r,e))return t;{const y=new hC(r,t,a),E=t.eventCache.getNode();let S;if(Et(e)||".priority"===bt(e)){let R;if(t.serverCache.isFullyInitialized())R=w_(r,oc(t));else{const O=t.serverCache.getNode();(0,F.hu)(O instanceof gt,"serverChildren would be complete if leaf node"),R=b_(r,O)}R=R,S=n.filter.updateFullNode(E,R,u)}else{const R=bt(e);let O=nl(r,R,t.serverCache);null==O&&t.serverCache.isCompleteForChild(R)&&(O=E.getImmediateChild(R)),S=null!=O?n.filter.updateChild(E,R,O,Zt(e),y,u):t.eventCache.getNode().hasChild(R)?n.filter.updateChild(E,R,gt.EMPTY_NODE,Zt(e),y,u):E,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=w_(r,oc(t)),f.isLeafNode()&&(S=n.filter.updateFullNode(S,f,u)))}return f=t.serverCache.isFullyInitialized()||null!=Ta(r,Vt()),Ph(t,S,f,n.filter.filtersNodes())}}(n,t,S.path,r,a,u):function Kb(n,t,e,r,a,u,f){if(null!=Ta(a,e))return t;const y=t.serverCache.isFiltered(),E=t.serverCache;if(null!=r.value){if(Et(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return Xp(n,t,e,E.getNode().getChild(e),a,u,y,f);if(Et(e)){let S=new Yt(null);return E.getNode().forEachChild(Xs,(R,O)=>{S=S.set(new Wt(R),O)}),A_(n,t,e,S,a,u,y,f)}return t}{let S=new Yt(null);return r.foreach((R,O)=>{const j=hn(e,R);E.isCompleteForPath(j)&&(S=S.set(R,E.getNode().getChild(j)))}),A_(n,t,e,S,a,u,y,f)}}(n,t,S.path,S.affectedTree,r,a,u)}else{if(e.type!==ms.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);f=function Nh(n,t,e,r,a){const u=t.serverCache;return mC(n,nC(t,u.getNode(),u.isFullyInitialized()||Et(e),u.isFiltered()),e,r,D_,a)}(n,t,e.path,r,u)}const E=u.getChanges();return function gC(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const a=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Qu(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&e.push(Y0(Qu(t)))}}(t,f,E),{viewCache:f,changes:E}}(n.processor_,a,t,e,r);return function T_(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,F.hu)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,SC(n,u.changes,u.viewCache.eventCache.getNode(),null)}function SC(n,t,e,r){return function Ub(n,t,e,r){const a=[],u=[];return t.forEach(f=>{"child_changed"===f.type&&n.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(function Tb(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(f.childName,f.snapshotNode))}),sc(n,a,"child_removed",t,r,e),sc(n,a,"child_added",t,r,e),sc(n,a,"child_moved",u,r,e),sc(n,a,"child_changed",t,r,e),sc(n,a,"value",t,r,e),a}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let eg,Vh;class td{constructor(){this.views=new Map}}function M_(n,t,e,r){const a=t.source.queryId;if(null!==a){const u=n.views.get(a);return(0,F.hu)(null!=u,"SyncTree gave us an op for an invalid query."),TC(u,t,e,r)}{let u=[];for(const f of n.views.values())u=u.concat(TC(f,t,e,r));return u}}function tg(n,t,e,r,a){const f=n.views.get(t._queryIdentifier);if(!f){let y=w_(e,a?r:null),E=!1;y?E=!0:r instanceof gt?(y=b_(e,r),E=!1):(y=gt.EMPTY_NODE,E=!1);const S=Yu(new tl(y,E,!1),new tl(r,a,!1));return new CC(t,S)}return f}function AC(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function rl(n,t){let e=null;for(const r of n.views.values())e=e||bC(r,t);return e}function Lh(n,t){return t._queryParams.loadsAllData()?ng(n):n.views.get(t._queryIdentifier)}function Uh(n,t){return null!=Lh(n,t)}function il(n){return null!=ng(n)}function ng(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let MC=1;class RC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Yt(null),this.pendingWriteTree_=function zb(){return{visibleWrites:to.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function O_(n,t,e,r,a){return function Bb(n,t,e,r,a){(0,F.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:a}),a&&(n.visibleWrites=Ju(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,a),a?uc(n,new rc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Ro(n,t,e=!1){const r=function Hb(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function sC(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let a=r.visible,u=!1,f=n.allWrites.length-1;for(;a&&f>=0;){const y=n.allWrites[f];y.visible&&(f>=e&&oC(y,r.path)?a=!1:fr(r.path,y.path)&&(u=!0)),f--}return!!a&&(u?(function C_(n){n.visibleWrites=ed(n.allWrites,Jp,Vt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=iC(n.visibleWrites,r.path):Bn(r.children,E=>{n.visibleWrites=iC(n.visibleWrites,hn(r.path,E))}),!0))}(n.pendingWriteTree_,t)){let u=new Yt(null);return null!=r.snap?u=u.set(Vt(),!0):Bn(r.children,f=>{u=u.set(new Wt(f),!0)}),uc(n,new Rh(r.path,u,e))}return[]}function cc(n,t,e){return uc(n,new rc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function N_(n,t,e,r){const a=t._path,u=n.syncPointTree_.get(a);let f=[];if(u&&("default"===t._queryIdentifier||Uh(u,t))){const y=function Xb(n,t,e,r){const a=t._queryIdentifier,u=[];let f=[];const y=il(n);if("default"===a)for(const[E,S]of n.views.entries())f=f.concat(DC(S,e,r)),IC(S)&&(n.views.delete(E),S.query._queryParams.loadsAllData()||u.push(S.query));else{const E=n.views.get(a);E&&(f=f.concat(DC(E,e,r)),IC(E)&&(n.views.delete(a),E.query._queryParams.loadsAllData()||u.push(E.query)))}return y&&!il(n)&&u.push(new(function x_(){return(0,F.hu)(eg,"Reference.ts has not been loaded"),eg}())(t._repo,t._path)),{removed:u,events:f}}(u,t,e,r);(function Mo(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const E=y.removed;f=y.events;const S=-1!==E.findIndex(O=>O._queryParams.loadsAllData()),R=n.syncPointTree_.findOnPath(a,(O,j)=>il(j));if(S&&!R){const O=n.syncPointTree_.subtree(a);if(!O.isEmpty()){const j=function nI(n){return n.fold((t,e,r)=>{if(e&&il(e))return[ng(e)];{let a=[];return e&&(a=AC(e)),Bn(r,(u,f)=>{a=a.concat(f)}),a}})}(O);for(let q=0;q<j.length;++q){const ce=j[q],Ue=ce.query,ke=V_(n,ce);n.listenProvider_.startListening(er(Ue),rg(n,Ue),ke.hashFn,ke.onComplete)}}}!R&&E.length>0&&!r&&(S?n.listenProvider_.stopListening(er(t),null):E.forEach(O=>{const j=n.queryToTagMap.get(jh(O));n.listenProvider_.stopListening(er(O),j)})),function nd(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const a=jh(r),u=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(u)}}}(n,E)}return f}function PC(n,t,e){const r=t._path;let a=null,u=!1;n.syncPointTree_.foreachOnPath(r,(O,j)=>{const q=jr(O,r);a=a||rl(j,q),u=u||il(j)});let y,f=n.syncPointTree_.get(r);f?(u=u||il(f),a=a||rl(f,Vt())):(f=new td,n.syncPointTree_=n.syncPointTree_.set(r,f)),null!=a?y=!0:(y=!1,a=gt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((j,q)=>{const ce=rl(q,Vt());ce&&(a=a.updateImmediateChild(j,ce))}));const E=Uh(f,t);if(!E&&!t._queryParams.loadsAllData()){const O=jh(t);(0,F.hu)(!n.queryToTagMap.has(O),"View does not exist, but we have a tag");const j=function rI(){return MC++}();n.queryToTagMap.set(O,j),n.tagToQueryMap.set(j,O)}let R=function Fh(n,t,e,r,a,u){const f=tg(n,t,r,a,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,f),function Yb(n,t){n.eventRegistrations_.push(t)}(f,e),function Qb(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(en,(u,f)=>{r.push(Zu(u,f))}),e.isFullyInitialized()&&r.push(Y0(e.getNode())),SC(n,r,e.getNode(),t)}(f,e)}(f,t,e,Qp(n.pendingWriteTree_,r),a,y);if(!E&&!u){const O=Lh(f,t);R=R.concat(function iI(n,t,e){const r=t._path,a=rg(n,t),u=V_(n,e),f=n.listenProvider_.startListening(er(t),a,u.hashFn,u.onComplete),y=n.syncPointTree_.subtree(r);if(a)(0,F.hu)(!il(y.value),"If we're adding a query, it shouldn't be shadowed");else{const E=y.fold((S,R,O)=>{if(!Et(S)&&R&&il(R))return[ng(R).query];{let j=[];return R&&(j=j.concat(AC(R).map(q=>q.query))),Bn(O,(q,ce)=>{j=j.concat(ce)}),j}});for(let S=0;S<E.length;++S){const R=E[S];n.listenProvider_.stopListening(er(R),rg(n,R))}}return f}(n,t,O))}return R}function Bh(n,t,e){const a=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(f,y)=>{const S=rl(y,jr(f,t));if(S)return S});return aC(a,t,u,e,!0)}function uc(n,t){return L_(t,n.syncPointTree_,null,Qp(n.pendingWriteTree_,Vt()))}function L_(n,t,e,r){if(Et(n.path))return U_(n,t,e,r);{const a=t.get(Vt());null==e&&null!=a&&(e=rl(a,Vt()));let u=[];const f=bt(n.path),y=n.operationForChild(f),E=t.children.get(f);if(E&&y){const S=e?e.getImmediateChild(f):null,R=Wb(r,f);u=u.concat(L_(y,E,S,R))}return a&&(u=u.concat(M_(a,n,r,e))),u}}function U_(n,t,e,r){const a=t.get(Vt());null==e&&null!=a&&(e=rl(a,Vt()));let u=[];return t.children.inorderTraversal((f,y)=>{const E=e?e.getImmediateChild(f):null,S=Wb(r,f),R=n.operationForChild(f);R&&(u=u.concat(U_(R,y,E,S)))}),a&&(u=u.concat(M_(a,n,r,e))),u}function V_(n,t){const e=t.query,r=rg(n,e);return{hashFn:()=>(function EC(n){return n.viewCache_.serverCache.getNode()}(t)||gt.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return r?function k_(n,t,e){const r=ig(n,e);if(r){const a=B_(r),u=a.path,f=a.queryId,y=jr(u,t);return sg(n,u,new Oh(Kp(f),y))}return[]}(n,e._path,r):function P_(n,t){return uc(n,new Oh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function r0(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(a,e);return N_(n,e,null,u)}}}}function rg(n,t){const e=jh(t);return n.queryToTagMap.get(e)}function jh(n){return n._path.toString()+"$"+n._queryIdentifier}function ig(n,t){return n.tagToQueryMap.get(t)}function B_(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Wt(n.substr(0,t))}}function sg(n,t,e){const r=n.syncPointTree_.get(t);return(0,F.hu)(r,"Missing sync point for query tag that we're tracking"),M_(r,e,Qp(n.pendingWriteTree_,t),null)}function er(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function R_(){return(0,F.hu)(Vh,"Reference.ts has not been loaded"),Vh}())(n._repo,n._path):n}class kC{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new kC(e)}node(){return this.node_}}class dc{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=hn(this.path_,t);return new dc(this.syncTree_,e)}node(){return Bh(this.syncTree_,this.path_)}}const og=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?oI(n[".sv"],t,e):"object"==typeof n[".sv"]?NC(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},oI=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},NC=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,F.hu)(!1,"Unexpected increment value: "+r);const a=t.node();if((0,F.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return r;const f=a.getValue();return"number"!=typeof f?r:f+r},FC=function(n,t,e,r){return Hh(t,new dc(e,n),r)},j_=function(n,t,e){return Hh(n,new kC(t),e)};function Hh(n,t,e){const r=n.getPriority().val(),a=og(r,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const f=n,y=og(f.getValue(),t,e);return y!==f.getValue()||a!==f.getPriority().val()?new Hu(y,bn(a)):n}{const f=n;return u=f,a!==f.getPriority().val()&&(u=u.updatePriority(new Hu(a))),f.forEachChild(en,(y,E)=>{const S=Hh(E,t.getImmediateChild(y),e);S!==E&&(u=u.updateImmediateChild(y,S))}),u}}class ag{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function $h(n,t){let e=t instanceof Wt?t:new Wt(t),r=n,a=bt(e);for(;null!==a;){const u=(0,F.DV)(r.node.children,a)||{children:{},childCount:0};r=new ag(a,r,u),e=Zt(e),a=bt(e)}return r}function Oo(n){return n.node.value}function Gh(n,t){n.node.value=t,$_(n)}function aI(n){return n.node.childCount>0}function lg(n,t){Bn(n.node.children,(e,r)=>{t(new ag(e,n,r))})}function H_(n,t,e,r){e&&!r&&t(n),lg(n,a=>{H_(a,t,!0,r)}),e&&r&&t(n)}function rd(n){return new Wt(null===n.parent?n.name:rd(n.parent)+"/"+n.name)}function $_(n){null!==n.parent&&function G_(n,t,e){const r=function LC(n){return void 0===Oo(n)&&!aI(n)}(e),a=(0,F.r3)(n.node.children,t);r&&a?(delete n.node.children[t],n.node.childCount--,$_(n)):!r&&!a&&(n.node.children[t]=e.node,n.node.childCount++,$_(n))}(n.parent,n.name,n)}const z_=/[\[\].#$\/\u0000-\u001F\u007F]/,TT=/[\[\].#$\u0000-\u001F\u007F]/,W_=10485760,ug=function(n){return"string"==typeof n&&0!==n.length&&!z_.test(n)},Z_=function(n){return"string"==typeof n&&0!==n.length&&!TT.test(n)},zh=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Mp(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},no=function(n,t,e,r){r&&void 0===t||id((0,F.gK)(n,"value"),t,e)},id=function(n,t,e){const r=e instanceof Wt?new gb(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ia(r));if("function"==typeof t)throw new Error(n+"contains a function "+Ia(r)+" with contents = "+t.toString());if(Mp(t))throw new Error(n+"contains "+t.toString()+" "+Ia(r));if("string"==typeof t&&t.length>W_/3&&(0,F.ug)(t)>W_)throw new Error(n+"contains a string greater than "+W_+" utf8 bytes "+Ia(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,u=!1;if(Bn(t,(f,y)=>{if(".value"===f)a=!0;else if(".priority"!==f&&".sv"!==f&&(u=!0,!ug(f)))throw new Error(n+" contains an invalid key ("+f+") "+Ia(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mb(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),_b(n)})(r,f),id(n,y,r),function Vu(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),a&&u)throw new Error(n+' contains ".value" child '+Ia(r)+" in addition to actual children.")}},VC=function(n,t,e,r){if(r&&void 0===t)return;const a=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const u=[];Bn(t,(f,y)=>{const E=new Wt(f);if(id(a,y,hn(e,E)),".priority"===Vp(E)&&!zh(y))throw new Error(a+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(E)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const u=Uu(r);for(let f=0;f<u.length;f++)if((".priority"!==u[f]||f!==u.length-1)&&!ug(u[f]))throw new Error(n+"contains an invalid key ("+u[f]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(F0);let a=null;for(e=0;e<t.length;e++){if(r=t[e],null!==a&&fr(a,r))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,u)},dg=function(n,t,e){if(!e||void 0!==t){if(Mp(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zh(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wh=function(n,t,e,r){if(!(r&&void 0===e||ug(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},sd=function(n,t,e,r){if(!(r&&void 0===e||Z_(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gi=function(n,t){if(".info"===bt(t))throw new Error(n+" failed = Can't modify data under /.info/")},q_=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ug(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Z_(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class cI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hg(n,t){let e=null;for(let r=0;r<t.length;r++){const a=t[r],u=a.getPath();null!==e&&!Bp(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&n.eventLists_.push(e)}function jC(n,t,e){hg(n,e),uI(n,r=>Bp(r,t))}function zi(n,t,e){hg(n,e),uI(n,r=>fr(r,t)||fr(t,r))}function uI(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const a=n.eventLists_[r];a&&(t(a.path)?(ST(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function ST(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();wa&&Xn("event: "+e.toString()),gh(r)}}}const dI="repo_interrupt";class xT{constructor(t,e,r,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new cI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qp(),this.transactionQueueTree_=new ag,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hI(n){const e=n.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function fg(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:hI(n)})}function Zh(n,t,e,r,a){n.dataUpdateCount++;const u=new Wt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let f=[];if(a)if(r){const E=(0,F.UI)(e,S=>bn(S));f=function tI(n,t,e,r){const a=ig(n,r);if(a){const u=B_(a),f=u.path,y=u.queryId,E=jr(f,t),S=Yt.fromObject(e);return sg(n,f,new ic(Kp(y),E,S))}return[]}(n.serverSyncTree_,u,E,a)}else{const E=bn(e);f=function eI(n,t,e,r){const a=ig(n,r);if(null!=a){const u=B_(a),f=u.path,y=u.queryId,E=jr(f,t);return sg(n,f,new rc(Kp(y),E,e))}return[]}(n.serverSyncTree_,u,E,a)}else if(r){const E=(0,F.UI)(e,S=>bn(S));f=function OC(n,t,e){const r=Yt.fromObject(e);return uc(n,new ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,u,E)}else{const E=bn(e);f=cc(n.serverSyncTree_,u,E)}let y=u;f.length>0&&(y=od(n,u)),zi(n.eventQueue_,y,f)}function fI(n,t){qh(n,"connected",t),!1===t&&function zC(n){Qh(n,"onDisconnectEvents");const t=fg(n),e=qp();p_(n.onDisconnect_,Vt(),(a,u)=>{const f=FC(a,u,n.serverSyncTree_,t);Ku(e,a,f)});let r=[];p_(e,Vt(),(a,u)=>{r=r.concat(cc(n.serverSyncTree_,a,u));const f=X_(n,a);od(n,f)}),n.onDisconnect_=qp(),zi(n.eventQueue_,Vt(),r)}(n)}function qh(n,t,e){const r=new Wt("/.info/"+t),a=bn(e);n.infoData_.updateSnapshot(r,a);const u=cc(n.infoSyncTree_,r,a);zi(n.eventQueue_,r,u)}function Kh(n){return n.nextWriteId_++}function GC(n,t,e,r,a){Qh(n,"set",{path:t.toString(),value:e,priority:r});const u=fg(n),f=bn(e,r),y=Bh(n.serverSyncTree_,t),E=j_(f,y,u),S=Kh(n),R=O_(n.serverSyncTree_,t,E,S,!0);hg(n.eventQueue_,R),n.server_.put(t.toString(),f.val(!0),(j,q)=>{const ce="ok"===j;ce||Tr("set at "+t+" failed: "+j);const Ue=Ro(n.serverSyncTree_,S,!ce);zi(n.eventQueue_,t,Ue),hc(0,a,j,q)});const O=X_(n,t);od(n,O),zi(n.eventQueue_,O,[])}function WC(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,a)=>{"ok"===r&&Mh(n.onDisconnect_,t),hc(0,e,r,a)})}function Y_(n,t,e,r){const a=bn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(u,f)=>{"ok"===u&&Ku(n.onDisconnect_,t,a),hc(0,r,u,f)})}function Yh(n,t,e){let r;r=".info"===bt(t._path)?N_(n.infoSyncTree_,t,e):N_(n.serverSyncTree_,t,e),jC(n.eventQueue_,t._path,r)}function qC(n){n.persistentConnection_&&n.persistentConnection_.interrupt(dI)}function Qh(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Xn(e,...t)}function hc(n,t,e,r){t&&gh(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let u=a;r&&(u+=": "+r);const f=new Error(u);f.code=a,t(f)}})}function Q_(n,t,e){return Bh(n.serverSyncTree_,t,e)||gt.EMPTY_NODE}function pg(n,t=n.transactionQueueTree_){if(t||ad(n,t),Oo(t)){const e=ys(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function PT(n,t,e){const r=e.map(S=>S.currentWriteId),a=Q_(n,t,r);let u=a;const f=a.hash();for(let S=0;S<e.length;S++){const R=e[S];(0,F.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const O=jr(t,R.path);u=u.updateChild(O,R.currentOutputSnapshotRaw)}const y=u.val(!0),E=t;n.server_.put(E.toString(),y,S=>{Qh(n,"transaction put response",{path:E.toString(),status:S});let R=[];if("ok"===S){const O=[];for(let j=0;j<e.length;j++)e[j].status=2,R=R.concat(Ro(n.serverSyncTree_,e[j].currentWriteId)),e[j].onComplete&&O.push(()=>e[j].onComplete(null,!0,e[j].currentOutputSnapshotResolved)),e[j].unwatcher();ad(n,$h(n.transactionQueueTree_,t)),pg(n,n.transactionQueueTree_),zi(n.eventQueue_,t,R);for(let j=0;j<O.length;j++)gh(O[j])}else{if("datastale"===S)for(let O=0;O<e.length;O++)e[O].status=3===e[O].status?4:0;else{Tr("transaction at "+E.toString()+" failed: "+S);for(let O=0;O<e.length;O++)e[O].status=4,e[O].abortReason=S}od(n,t)}},f)}(n,rd(t),e)}else aI(t)&&lg(t,e=>{pg(n,e)})}function od(n,t){const e=KC(n,t),r=rd(e);return function J_(n,t,e){if(0===t.length)return;const r=[];let a=[];const f=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const E=t[y],S=jr(e,E.path);let O,R=!1;if((0,F.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)R=!0,O=E.abortReason,a=a.concat(Ro(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)R=!0,O="maxretry",a=a.concat(Ro(n.serverSyncTree_,E.currentWriteId,!0));else{const j=Q_(n,E.path,f);E.currentInputSnapshot=j;const q=t[y].update(j.val());if(void 0!==q){id("transaction failed: Data returned ",q,E.path);let ce=bn(q);"object"==typeof q&&null!=q&&(0,F.r3)(q,".priority")||(ce=ce.updatePriority(j.getPriority()));const ke=E.currentWriteId,tt=fg(n),ut=j_(ce,j,tt);E.currentOutputSnapshotRaw=ce,E.currentOutputSnapshotResolved=ut,E.currentWriteId=Kh(n),f.splice(f.indexOf(ke),1),a=a.concat(O_(n.serverSyncTree_,E.path,ut,E.currentWriteId,E.applyLocally)),a=a.concat(Ro(n.serverSyncTree_,ke,!0))}else R=!0,O="nodata",a=a.concat(Ro(n.serverSyncTree_,E.currentWriteId,!0))}zi(n.eventQueue_,e,a),a=[],R&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&r.push("nodata"===O?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(O),!1,null)))}ad(n,n.transactionQueueTree_);for(let y=0;y<r.length;y++)gh(r[y]);pg(n,n.transactionQueueTree_)}(n,ys(n,e),r),r}function KC(n,t){let e,r=n.transactionQueueTree_;for(e=bt(t);null!==e&&void 0===Oo(r);)r=$h(r,e),e=bt(t=Zt(t));return r}function ys(n,t){const e=[];return YC(n,t,e),e.sort((r,a)=>r.order-a.order),e}function YC(n,t,e){const r=Oo(t);if(r)for(let a=0;a<r.length;a++)e.push(r[a]);lg(t,a=>{YC(n,a,e)})}function ad(n,t){const e=Oo(t);if(e){let r=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[r]=e[a],r++);e.length=r,Gh(t,e.length>0?e:void 0)}lg(t,r=>{ad(n,r)})}function X_(n,t){const e=rd(KC(n,t)),r=$h(n.transactionQueueTree_,t);return function cg(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,a=>{ey(n,a)}),ey(n,r),H_(r,a=>{ey(n,a)}),e}function ey(n,t){const e=Oo(t);if(e){const r=[];let a=[],u=-1;for(let f=0;f<e.length;f++)3===e[f].status||(1===e[f].status?((0,F.hu)(u===f-1,"All SENT items should be at beginning of queue."),u=f,e[f].status=3,e[f].abortReason="set"):((0,F.hu)(0===e[f].status,"Unexpected transaction status in abort"),e[f].unwatcher(),a=a.concat(Ro(n.serverSyncTree_,e[f].currentWriteId,!0)),e[f].onComplete&&r.push(e[f].onComplete.bind(null,new Error("set"),!1,null))));-1===u?Gh(t,void 0):e.length=u+1,zi(n.eventQueue_,rd(t),a);for(let f=0;f<r.length;f++)gh(r[f])}}const gg=function(n,t){const e=mI(n),r=e.namespace;return"firebase.com"===e.domain&&Qs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Qs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new r_(e.host,e.secure,r,t,"ws"===e.scheme||"wss"===e.scheme,"",r!==e.subdomain),path:new Wt(e.pathString)}},mI=function(n){let t="",e="",r="",a="",u="",f=!0,y="https",E=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(y=n.substring(0,S-1),n=n.substring(S+2));let R=n.indexOf("/");-1===R&&(R=n.length);let O=n.indexOf("?");-1===O&&(O=n.length),t=n.substring(0,Math.min(R,O)),R<O&&(a=function ty(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let a=e[r];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(u){}t+="/"+a}return t}(n.substring(R,O)));const j=function QC(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,O)));S=t.indexOf(":"),S>=0?(f="https"===y||"wss"===y,E=parseInt(t.substring(S+1),10)):S=t.length;const q=t.slice(0,S);if("localhost"===q.toLowerCase())e="localhost";else if(q.split(".").length<=2)e=q;else{const ce=t.indexOf(".");r=t.substring(0,ce).toLowerCase(),e=t.substring(ce+1),u=r}"ns"in j&&(u=j.ns)}return{host:t,port:E,domain:e,subdomain:r,secure:f,scheme:y,pathString:a,namespace:u}};class ny{constructor(t,e,r,a){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class ry{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class JC{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class XC{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return WC(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Gi("OnDisconnect.remove",this._path);const t=new F.BH;return Y_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Gi("OnDisconnect.set",this._path),no("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return Y_(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Gi("OnDisconnect.setWithPriority",this._path),no("OnDisconnect.setWithPriority",t,this._path,!1),dg("OnDisconnect.setWithPriority",e,!1);const r=new F.BH;return function RT(n,t,e,r,a){const u=bn(e,r);n.server_.onDisconnectPut(t.toString(),u.val(!0),(f,y)=>{"ok"===f&&Ku(n.onDisconnect_,t,u),hc(0,a,f,y)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Gi("OnDisconnect.update",this._path),VC("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function ZC(n,t,e,r){if((0,F.xb)(e))return Xn("onDisconnect().update() called with empty data.  Don't do anything."),void hc(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,u)=>{"ok"===a&&Bn(e,(f,y)=>{const E=bn(y);Ku(n.onDisconnect_,hn(t,f),E)}),hc(0,r,a,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Hr{constructor(t,e,r,a){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=a}get key(){return Et(this._path)?null:Vp(this._path)}get ref(){return new vs(this._repo,this._path)}get _queryIdentifier(){const t=f_(this._queryParams),e=Km(t);return"{}"===e?"default":e}get _queryObject(){return f_(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Hr))return!1;const e=this._repo===t._repo,r=Bp(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function N0(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function mi(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function sl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xs){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==So)throw new Error(r);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==fs)throw new Error(r);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===en){if(null!=t&&!zh(t)||null!=e&&!zh(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof Z0||n.getIndex()===q0,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function iy(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class vs extends Hr{constructor(t,e){super(t,e,new Da,!1)}get parent(){const t=c_(this._path);return null===t?null:new vs(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ol{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Wt(t),r=al(this.ref,t);return new ol(this._node.getChild(e),r,en)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,a)=>t(new ol(a,al(this.ref,r),en)))}hasChild(t){const e=new Wt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function eE(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?al(n._root,t):n._root}function tE(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=gg(t,n._repo.repoInfo_.nodeAdmin);q_("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Qs("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),eE(n,e.path.toString())}function al(n,t){return null===bt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),sd("child","path",e,!1)):sd("child","path",t,!1),new vs(n._repo,hn(n._path,t));var e}function mg(n,t){n=(0,F.m9)(n),Gi("set",n._path),no("set",t,n._path,!1);const e=new F.BH;return GC(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function rE(n,t){VC("update",t,n._path,!1);const e=new F.BH;return function K_(n,t,e,r){Qh(n,"update",{path:t.toString(),value:e});let a=!0;const u=fg(n),f={};if(Bn(e,(y,E)=>{a=!1,f[y]=FC(hn(t,y),bn(E),n.serverSyncTree_,u)}),a)Xn("update() called with empty data.  Don't do anything."),hc(0,r,"ok",void 0);else{const y=Kh(n),E=function DT(n,t,e,r){!function jb(n,t,e,r){(0,F.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=rC(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const a=Yt.fromObject(e);return uc(n,new ic({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,f,y);hg(n.eventQueue_,E),n.server_.merge(t.toString(),e,(S,R)=>{const O="ok"===S;O||Tr("update at "+t+" failed: "+S);const j=Ro(n.serverSyncTree_,y,!O),q=j.length>0?od(n,t):t;zi(n.eventQueue_,q,j),hc(0,r,S,R)}),Bn(e,S=>{const R=X_(n,hn(t,S));od(n,R)}),zi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function sy(n){return function $C(n,t){const e=function F_(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(S,R)=>{const O=jr(S,e);r=r||rl(R,O)});let a=n.syncPointTree_.get(e);a?r=r||rl(a,Vt()):(a=new td,n.syncPointTree_=n.syncPointTree_.set(e,a));const u=null!=r,f=u?new tl(r,!0,!1):null;return function wC(n){return Qu(n.viewCache_)}(tg(a,t,Qp(n.pendingWriteTree_,t._path),u?f.getNode():gt.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const a=bn(r).withIndex(t._queryParams.getIndex()),u=cc(n.serverSyncTree_,t._path,a);return jC(n.eventQueue_,t._path,u),Promise.resolve(a)},r=>(Qh(n,"get for query "+(0,F.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,F.m9)(n))._repo,n).then(t=>new ol(t,new vs(n._repo,n._path),n._queryParams.getIndex()))}class ld{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new ny("value",this,new ol(t.snapshotNode,new vs(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new ry(this,t,e):null}matches(t){return t instanceof ld&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Jh{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new ry(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const r=al(new vs(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new ny(t.type,this,new ol(t.snapshotNode,r,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Jh&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xh(n,t,e,r,a){let u;if("object"==typeof r&&(u=void 0,a=r),"function"==typeof r&&(u=r),a&&a.onlyOnce){const E=e,S=(R,O)=>{Yh(n._repo,n,y),E(R,O)};S.userCallback=e.userCallback,S.context=e.context,e=S}const f=new JC(e,u||void 0),y="value"===t?new ld(f):new Jh(t,f);return function pI(n,t,e){let r;r=".info"===bt(t._path)?PC(n.infoSyncTree_,t,e):PC(n.serverSyncTree_,t,e),jC(n.eventQueue_,t._path,r)}(n._repo,n,y),()=>Yh(n._repo,n,y)}function _g(n,t,e,r){return Xh(n,"value",t,e,r)}function oy(n,t,e,r){return Xh(n,"child_added",t,e,r)}function iE(n,t,e,r){return Xh(n,"child_changed",t,e,r)}function sE(n,t,e,r){return Xh(n,"child_moved",t,e,r)}function vI(n,t,e,r){return Xh(n,"child_removed",t,e,r)}function CI(n,t,e){let r=null;const a=e?new JC(e):null;"value"===t?r=new ld(a):t&&(r=new Jh(t,a)),Yh(n._repo,n,r)}class Cs{}class oE extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){no("endAt",this._value,t._path,!0);const e=Zp(t._queryParams,this._value,this._key);if(iy(e),sl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hr(t._repo,t._path,e,t._orderByCalled)}}class wI extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){no("endBefore",this._value,t._path,!1);const e=function Rb(n,t,e){let r,a;return n.index_===Xs?("string"==typeof t&&(t=Wu(t)),a=Zp(n,t,e)):(r=null==e?So:Wu(e),a=Zp(n,t,r)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(iy(e),sl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Hr(t._repo,t._path,e,t._orderByCalled)}}class bI extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){no("startAt",this._value,t._path,!0);const e=Wp(t._queryParams,this._value,this._key);if(iy(e),sl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Hr(t._repo,t._path,e,t._orderByCalled)}}class UT extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){no("startAfter",this._value,t._path,!1);const e=function Mb(n,t,e){let r;if(n.index_===Xs)"string"==typeof t&&(t=h_(t)),r=Wp(n,t,e);else{let a;a=null==e?fs:h_(e),r=Wp(n,t,a)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(iy(e),sl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Hr(t._repo,t._path,e,t._orderByCalled)}}class II extends Cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hr(t._repo,t._path,function Q0(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class DI extends Cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Hr(t._repo,t._path,function xb(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class aE extends Cs{constructor(t){super(),this._path=t}_apply(t){mi(t,"orderByChild");const e=new Wt(this._path);if(Et(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new Z0(e),a=qu(t._queryParams,r);return sl(a),new Hr(t._repo,t._path,a,!0)}}class lE extends Cs{_apply(t){mi(t,"orderByKey");const e=qu(t._queryParams,Xs);return sl(e),new Hr(t._repo,t._path,e,!0)}}class ly extends Cs{_apply(t){mi(t,"orderByPriority");const e=qu(t._queryParams,en);return sl(e),new Hr(t._repo,t._path,e,!0)}}class cy extends Cs{_apply(t){mi(t,"orderByValue");const e=qu(t._queryParams,q0);return sl(e),new Hr(t._repo,t._path,e,!0)}}class vg extends Cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(no("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new oE(this._value,this._key)._apply(new bI(this._value,this._key)._apply(t))}}function Po(n,...t){let e=(0,F.m9)(n);for(const r of t)e=r._apply(e);return e}(function Jb(n){(0,F.hu)(!eg,"__referenceConstructor has already been defined"),eg=n})(vs),function xC(n){(0,F.hu)(!Vh,"__referenceConstructor has already been defined"),Vh=n}(vs);const cE={};function uE(n,t,e,r,a){let u=r||n.options.databaseURL;void 0===u&&(n.options.projectId||Qs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xn("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,S,f=gg(u,a),y=f.repoInfo;"undefined"!=typeof process&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(E=!0,u=`http://${S}?ns=${y.namespace}`,f=gg(u,a),y=f.repoInfo):E=!f.repoInfo.secure;const R=a&&E?new wn(wn.OWNER):new ob(n.name,n.options,t);q_("Invalid Firebase Database URL",f),Et(f.path)||Qs("Database URL must point to the root of a Firebase Database (not including a child path).");const O=function MI(n,t,e,r){let a=cE[t.name];a||(a={},cE[t.name]=a);let u=a[n.toURLString()];return u&&Qs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new xT(n,false,e,r),a[n.toURLString()]=u,u}(y,n,R,new o0(n.name,e));return new hE(O,n)}class hE{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function MT(n,t,e){if(n.stats_=i_(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new xh(n.repoInfo_,(r,a,u,f)=>{Zh(n,r,a,u,f)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>fI(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new tc(n.repoInfo_,t,(r,a,u,f)=>{Zh(n,r,a,u,f)},r=>{fI(n,r)},r=>{!function HC(n,t){Bn(t,(e,r)=>{qh(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function lb(n,t){const e=n.toString();return ps[e]||(ps[e]=t()),ps[e]}(n.repoInfo_,()=>new Fb(n.stats_,n.server_)),n.infoData_=new Ob,n.infoSyncTree_=new RC({startListening:(r,a,u,f)=>{let y=[];const E=n.infoData_.getNode(r._path);return E.isEmpty()||(y=cc(n.infoSyncTree_,r._path,E),setTimeout(()=>{f("ok")},0)),y},stopListening:()=>{}}),qh(n,"connected",!1),n.serverSyncTree_=new RC({startListening:(r,a,u,f)=>(n.server_.listen(r,u,a,(y,E)=>{const S=f(y,E);zi(n.eventQueue_,r._path,S)}),[]),stopListening:(r,a)=>{n.server_.unlisten(r,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vs(this._repo,Vt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xI(n,t){const e=cE[t];(!e||e[n.key]!==n)&&Qs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),qC(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Qs("Cannot call "+t+" on a deleted database.")}}function hy(n,t){qm(n,t)}const pE={".sv":"timestamp"};class NI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}tc.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},tc.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function HT(n){Pu(cs.SDK_VERSION),(0,cs._registerComponent)(new bo.wA("database",(t,{instanceIdentifier:e})=>uE(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,cs.registerVersion)(Dp,"0.12.5",n),(0,cs.registerVersion)(Dp,"0.12.5","esm2017")}();const GT=new up.Yd("@firebase/database-compat"),UI=function(n){GT.warn("FIREBASE WARNING: "+n)};class ZT{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const a=this._delegate.setWithPriority(t,e);return r&&a.then(()=>r(null),u=>r(u)),a}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,UI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),a=>e(a)),r}}class VI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class pc{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),sd("DataSnapshot.child","path",t,!1),new pc(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),sd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new pc(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Es(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class $r{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,a){var u;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const f=$r.getCancelAndContextArgs_("Query.on",r,a),y=(S,R)=>{e.call(f.context,new pc(this.database,S),R)};y.userCallback=e,y.context=f.context;const E=null===(u=f.cancel)||void 0===u?void 0:u.bind(f.context);switch(t){case"value":return _g(this._delegate,y,E),e;case"child_added":return oy(this._delegate,y,E),e;case"child_removed":return vI(this._delegate,y,E),e;case"child_changed":return iE(this._delegate,y,E),e;case"child_moved":return sE(this._delegate,y,E),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",r,!0),e){const a=()=>{};a.userCallback=e,a.context=r,CI(this._delegate,t,a)}else CI(this._delegate,t)}get(){return sy(this._delegate).then(t=>new pc(this.database,t))}once(t,e,r,a){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const u=$r.getCancelAndContextArgs_("Query.once",r,a),f=new F.BH,y=(S,R)=>{const O=new pc(this.database,S);e&&e.call(u.context,O,R),f.resolve(O)};y.userCallback=e,y.context=u.context;const E=S=>{u.cancel&&u.cancel.call(u.context,S),f.reject(S)};switch(t){case"value":_g(this._delegate,y,E,{onlyOnce:!0});break;case"child_added":oy(this._delegate,y,E,{onlyOnce:!0});break;case"child_removed":vI(this._delegate,y,E,{onlyOnce:!0});break;case"child_changed":iE(this._delegate,y,E,{onlyOnce:!0});break;case"child_moved":sE(this._delegate,y,E,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return f.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new $r(this.database,Po(this._delegate,function yg(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new II(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new $r(this.database,Po(this._delegate,function TI(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new DI(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new $r(this.database,Po(this._delegate,function fc(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return sd("orderByChild","path",n,!1),new aE(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new $r(this.database,Po(this._delegate,function ay(){return new lE}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new $r(this.database,Po(this._delegate,function SI(){return new ly}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new $r(this.database,Po(this._delegate,function uy(){return new cy}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new $r(this.database,Po(this._delegate,function LT(n=null,t){return Wh("startAt","key",t,!0),new bI(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new $r(this.database,Po(this._delegate,function VT(n,t){return Wh("startAfter","key",t,!0),new UT(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new $r(this.database,Po(this._delegate,function EI(n,t){return Wh("endAt","key",t,!0),new oE(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new $r(this.database,Po(this._delegate,function FT(n,t){return Wh("endBefore","key",t,!0),new wI(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new $r(this.database,Po(this._delegate,function BT(n,t){return Wh("equalTo","key",t,!0),new vg(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof $r))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const a={cancel:void 0,context:void 0};if(e&&r)a.cancel=e,(0,F.Wj)(t,"cancel",a.cancel,!0),a.context=r,(0,F.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Es(this.database,new vs(this._delegate._repo,this._delegate._path))}}class Es extends $r{constructor(t,e){super(t,new Hr(e._repo,e._path,new Da,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Es(this.database,al(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Es(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Es(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const r=mg(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,UI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gi("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const r=rE(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}setWithPriority(t,e,r){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",r,!0);const a=function yI(n,t,e){if(Gi("setWithPriority",n._path),no("setWithPriority",t,n._path,!1),dg("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new F.BH;return GC(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&a.then(()=>r(null),u=>r(u)),a}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function nE(n){return Gi("remove",n._path),mg(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const a=function $T(n,t,e){var r;if(n=(0,F.m9)(n),Gi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,u=new F.BH,y=_g(n,()=>{});return function gI(n,t,e,r,a,u){Qh(n,"transaction on "+t);const f={path:t,update:e,onComplete:r,status:null,order:Sp(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=Q_(n,t,void 0);f.currentInputSnapshot=y;const E=f.update(y.val());if(void 0===E)f.unwatcher(),f.currentOutputSnapshotRaw=null,f.currentOutputSnapshotResolved=null,f.onComplete&&f.onComplete(null,!1,f.currentInputSnapshot);else{id("transaction failed: Data returned ",E,f.path),f.status=0;const S=$h(n.transactionQueueTree_,t),R=Oo(S)||[];let O;R.push(f),Gh(S,R),"object"==typeof E&&null!==E&&(0,F.r3)(E,".priority")?(O=(0,F.DV)(E,".priority"),(0,F.hu)(zh(O),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):O=(Bh(n.serverSyncTree_,t)||gt.EMPTY_NODE).getPriority().val();const j=fg(n),q=bn(E,O),ce=j_(q,y,j);f.currentOutputSnapshotRaw=q,f.currentOutputSnapshotResolved=ce,f.currentWriteId=Kh(n);const Ue=O_(n.serverSyncTree_,t,ce,f.currentWriteId,f.applyLocally);zi(n.eventQueue_,t,Ue),pg(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,S,R)=>{let O=null;E?u.reject(E):(O=new ol(R,new vs(n._repo,n._path),en),u.resolve(new NI(S,O)))},y,a),u.promise}(this._delegate,t,{applyLocally:r}).then(u=>new VI(u.committed,new pc(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const r=function _I(n,t){n=(0,F.m9)(n),Gi("setPriority",n._path),dg("setPriority",t,!1);const e=new F.BH;return GC(n._repo,hn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),a=>e(a)),r}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const r=function NT(n,t){n=(0,F.m9)(n),Gi("push",n._path),no("push",t,n._path,!0);const e=hI(n._repo),r=Db(e),a=al(n,r),u=al(n,r);let f;return f=null!=t?mg(u,t).then(()=>u):Promise.resolve(u),a.then=f.then.bind(f),a.catch=f.then.bind(f,void 0),a}(this._delegate,t),a=r.then(f=>new Es(this.database,f));e&&a.then(()=>e(null),f=>e(f));const u=new Es(this.database,r);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return Gi("Reference.onDisconnect",this._delegate._path),new ZT(new XC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Cg{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function OI(n,t,e,r={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Qs("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let u;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Qs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new wn(wn.OWNER);else if(r.mockUserToken){const f="string"==typeof r.mockUserToken?r.mockUserToken:(0,F.Sg)(r.mockUserToken,n.app.options.projectId);u=new wn(f)}!function AI(n,t,e,r){n.repoInfo_=new r_(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(a,t,e,u)}(this._delegate,t,e,r)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof Es){const e=tE(this._delegate,t.toString());return new Es(this,e)}{const e=eE(this._delegate,t);return new Es(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const r=tE(this._delegate,t);return new Es(this,r)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function PI(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),qC(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function fE(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function OT(n){n.persistentConnection_&&n.persistentConnection_.resume(dI)}(n._repo)}(this._delegate)}}Cg.ServerValue={TIMESTAMP:function fy(){return pE}(),increment:n=>function kI(n){return{".sv":{increment:n}}}(n)};var s=Object.freeze({__proto__:null,initStandalone:function i({app:n,url:t,version:e,customAuthImpl:r,namespace:a,nodeAdmin:u=!1}){Pu(e);const f=new bo.zt("auth-internal",new bo.H0("database-standalone"));return f.setComponent(new bo.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Cg(uE(n,f,void 0,t,u),n),namespace:a}}});const o=Cg.ServerValue;!function c(n){n.INTERNAL.registerComponent(new bo.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new Cg(a,r)},"PUBLIC").setServiceProps({Reference:Es,Query:$r,Database:Cg,DataSnapshot:pc,enableLogging:hy,INTERNAL:s,ServerValue:o}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.5")}(Gy.Z);var d=P(7579),p=P(5363),_=P(6063);class C extends d.x{constructor(t=1/0,e=1/0,r=_.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:f}=this;e||(r.push(t),!a&&r.push(u.now()+f)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:a}=this,u=a.slice();for(let f=0;f<u.length&&!t.closed;f+=r?1:2)t.next(u[f]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,u=(a?1:2)*t;if(t<1/0&&u<r.length&&r.splice(0,r.length-u),!a){const f=e.now();let y=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)y=E;y&&r.splice(0,y+1)}}}function w(n,t,e){var r,a;let u,f=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,t=null!==(a=n.windowTime)&&void 0!==a?a:1/0,f=!!n.refCount,e=n.scheduler):u=null!=n?n:1/0,(0,Kv.B)({connector:()=>new C(u,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}const A=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var N=P(5698);function H(n){return(0,yn.e)((t,e)=>{let r=!1;t.subscribe((0,xt.x)(e,a=>{r=!0,e.next(a)},()=>{r||e.next(n),e.complete()}))})}function Y(n=ye){return(0,yn.e)((t,e)=>{let r=!1;t.subscribe((0,xt.x)(e,a=>{r=!0,e.next(a)},()=>r?e.complete():e.error(n())))})}function ye(){return new A}function Re(n,t){const e=arguments.length>=2;return r=>r.pipe(n?un((a,u)=>n(a,u,r)):Ou.y,(0,N.q)(1),e?H(t):Y(()=>new A))}function Ve(n,t){return(0,Vn.m)(t)?dn(()=>n,t):dn(()=>n)}var ze=P(9468);const rt=new l.OlP("angularfire2.auth.use-emulator"),It=new l.OlP("angularfire2.auth.settings"),$t=new l.OlP("angularfire2.auth.tenant-id"),_i=new l.OlP("angularfire2.auth.langugage-code"),ll=new l.OlP("angularfire2.auth.use-device-language"),Eg=new l.OlP("angularfire.auth.persistence"),wg=(n,t,e,r,a,u,f,y)=>(0,Wn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=a,u&&E.useDeviceLanguage(),f)for(const[S,R]of Object.entries(f))E.settings[S]=R;return y&&E.setPersistence(y),E},[e,r,a,u,f,y]);let bg=(()=>{class n{constructor(e,r,a,u,f,y,E,S,R,O,j,q){const ce=new d.x,Ue=Je(void 0).pipe((0,p.Q)(f.outsideAngular),dn(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,3059)))),(0,Ze.U)(()=>(0,Wn.on)(e,u,r)),(0,Ze.U)(ke=>wg(ke,u,y,S,R,O,E,j)),w({bufferSize:1,refCount:!1}));if(function or(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{Ue.pipe(Re()).subscribe();const tt=Ue.pipe(dn(dt=>dt.getRedirectResult().then(tr=>tr,()=>null)),hr.iC,w({bufferSize:1,refCount:!1})),ut=Ue.pipe(dn(dt=>new Sn.y(tr=>({unsubscribe:u.runOutsideAngular(()=>dt.onAuthStateChanged(bs=>tr.next(bs),bs=>tr.error(bs),()=>tr.complete()))})))),Dt=Ue.pipe(dn(dt=>new Sn.y(tr=>({unsubscribe:u.runOutsideAngular(()=>dt.onIdTokenChanged(bs=>tr.next(bs),bs=>tr.error(bs),()=>tr.complete()))}))));this.authState=tt.pipe(Ve(ut),(0,ze.R)(f.outsideAngular),(0,p.Q)(f.insideAngular)),this.user=tt.pipe(Ve(Dt),(0,ze.R)(f.outsideAngular),(0,p.Q)(f.insideAngular)),this.idToken=this.user.pipe(dn(dt=>dt?(0,mn.D)(dt.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(dn(dt=>dt?(0,mn.D)(dt.getIdTokenResult()):Je(null))),this.credential=(0,uh.T)(tt,ce,this.authState.pipe(un(dt=>!dt))).pipe((0,Ze.U)(dt=>(null==dt?void 0:dt.user)?dt:null),(0,ze.R)(f.outsideAngular),(0,p.Q)(f.insideAngular))}return(0,Wn.pX)(this,Ue,u,{spy:{apply:(ke,tt,ut)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&ut.then(Dt=>ce.next(Dt))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wn.Dh),l.LFG(Wn.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(hr.HU),l.LFG(rt,8),l.LFG(It,8),l.LFG($t,8),l.LFG(_i,8),l.LFG(ll,8),l.LFG(Eg,8),l.LFG(ch,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ig(n){return null==n}function Dg(n){return"function"==typeof n.set}function Tg(n,t){return Dg(t)?t:n.ref(t)}function qT(n,t){if(function py(n){return"string"==typeof n}(n))return t.stringCase();if(Dg(n))return t.firebaseCase();if(function gy(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function my(n,t,e="on",r=$f.z){return new Sn.y(a=>{let u=null;return u=n[e](t,(f,y)=>{r.schedule(()=>{a.next({snapshot:f,prevKey:y})}),"once"===e&&r.schedule(()=>a.complete())},f=>{r.schedule(()=>a.error(f))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,Ze.U)(a=>{const{snapshot:u,prevKey:f}=a;let y=null;return u.exists()&&(y=u.key),{type:t,payload:u,prevKey:f,key:y}}),(0,Kv.B)())}function KT(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function Lx(n,t){const{payload:e,prevKey:r,key:a}=t,u=KT(n,a),f=function Fx(n,t){if(Ig(t))return 0;{const e=KT(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(E=>{const S={payload:E,type:"value",prevKey:y,key:E.key};return y=E.key,n=[...n,S],!1})}return n;case"child_added":if(u>-1){const y=n[u-1];(y&&y.key||null)!==r&&(n=n.filter(E=>E.payload.key!==e.key)).splice(f,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(f,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(u>-1){const y=n.splice(u,1)[0];return(n=n.slice()).splice(f,0,y),n}return n;default:return n}}function YT(n){return(Ig(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function QT(n,t,e){return function Nx(n,t,e){return my(n,"value","once",e).pipe(dn(r=>{const a=[Je(r)];return t.forEach(u=>a.push(my(n,u,"on",e))),(0,uh.T)(...a).pipe(dh(Lx,[]))}),$m())}(n,t=YT(t),e)}function JT(n,t,e){const r=(t=YT(t)).map(a=>my(n,a,"on",e));return(0,uh.T)(...r)}function XT(n,t){return function(r,a){return qT(r,{stringCase:()=>n.child(r)[t](a),firebaseCase:()=>r[t](a),snapshotCase:()=>r.ref[t](a)})}}function jx(n){return function(e){return e?qT(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function eS(n,t){return function(){return my(n,"value","on",t)}}const Gx=new l.OlP("angularfire2.realtimeDatabaseURL"),zx=new l.OlP("angularfire2.database.use-emulator");let Wx=(()=>{class n{constructor(e,r,a,u,f,y,E,S,R,O,j,q,ce,Ue,ke){this.schedulers=y;const tt=E,ut=(0,Wn.on)(e,f,r);S&&wg(ut,f,R,j,q,ce,O,Ue),this.database=(0,Wn.cc)(`${ut.name}.database.${a}`,"AngularFireDatabase",ut.name,()=>{const Dt=f.runOutsideAngular(()=>ut.database(a||void 0));return tt&&Dt.useEmulator(...tt),Dt},[tt])}list(e,r){const a=this.schedulers.ngZone.runOutsideAngular(()=>Tg(this.database,e));let u=a;return r&&(u=r(a)),function Hx(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:XT(r,"update"),set:XT(r,"set"),push:a=>r.push(a),remove:jx(r),snapshotChanges:a=>QT(n,a,e).pipe(hr.iC),stateChanges:a=>JT(n,a,e).pipe(hr.iC),auditTrail:a=>function Ux(n,t,e){return function Bx(n,t,e){return function Vx(n,t){return my(n,"value","on",t).pipe((0,Ze.U)(e=>{let r;return e.payload.forEach(a=>(r=a.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(zm(t),(0,Ze.U)(([a,u])=>{const f=a.lastKeyToLoad,y=u.map(E=>E.key);return{actions:u,lastKeyToLoad:f,loadedKeys:y}}),function Wm(n){return(0,yn.e)((t,e)=>{let r=!1,a=0;t.subscribe((0,xt.x)(e,u=>(r||(r=!n(u,a++)))&&e.next(u)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ze.U)(a=>a.actions))}(n,JT(n,t).pipe(dh((a,u)=>[...a,u],[])),e)}(n,a,e).pipe(hr.iC),valueChanges:(a,u)=>QT(n,a,e).pipe((0,Ze.U)(y=>y.map(E=>u&&u.idField?Object.assign(Object.assign({},E.payload.val()),{[u.idField]:E.key}):E.payload.val())),hr.iC)}}(u,this)}object(e){return function $x(n,t){return{query:n,snapshotChanges:()=>eS(n,t.schedulers.outsideAngular)().pipe(hr.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>eS(n,t.schedulers.outsideAngular)().pipe(hr.iC,(0,Ze.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Tg(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wn.Dh),l.LFG(Wn.xv,8),l.LFG(Gx,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(hr.HU),l.LFG(zx,8),l.LFG(bg,8),l.LFG(rt,8),l.LFG(It,8),l.LFG($t,8),l.LFG(_i,8),l.LFG(ll,8),l.LFG(Eg,8),l.LFG(ch,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Zx=(()=>{class n{constructor(){zv.Z.registerVersion("angularfire",hr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Wx]}),n})();const tS_firebase={apiKey:"...",authDomain:"project.firebaseapp.com",databaseURL:"https://project.firebaseio.com",projectId:"project",storageBucket:"project.appspot.com",messagingSenderId:"..."},BI="[Authentication] START_LOG_IN",nS="[Authentication] LOG_IN_SUCCESS",rS="[Authentication] LOG_IN_FAIL",iS="[Authentication] LOG_OUT",jI="[Authentication] AUTO_LOG_IN",sS="[Authentication] RESET_STATE";class qx{constructor(t){this.payload=t,this.type=BI}}class oS{constructor(t){this.payload=t,this.type=nS}}class aS{constructor(t){this.payload=t,this.type=rS}}class Kx{constructor(){this.type=iS}}class Yx{constructor(){this.type=jI}}class Qx{constructor(){this.type=sS}}const HI="[STORE] CREATE_START",$I="[STORE] CREATE_UPLOAD",GI="[STORE] CREATE_INSERT",zI="[STORE] CREATE_SUCCESS",lS="[STORE] CREATE_FAIL",WI="[STORE] FETCH_START",cS="[STORE] FETCH_SUCCESS",uS="[STORE] FETCH_FAIL",dS="[STORE] FETCH_CLEAR",ZI="[STORE] GET_PRODUCTS_START",hS="[STORE] GET_PRODUCTS",qI="[STORE] DELETE_START",KI="[STORE] DELETE_SUCCESS",fS="[STORE] DELETE_FAIL",YI="[STORE] EDIT_START",pS="[STORE] EDIT_SUCCESS",gS="[STORE] EDIT_FAIL",QI="[STORE] EDIT_UPLOAD",JI="[STORE] EDIT_EDIT",mS="[STORE] SET_ITEM",_S="[STORE] CLEAR_ITEM",XI="[STORE] SORT_START",eD="[STORE] SORT_COMPLETE",tD="[STORE] SEARCH_START",yS="[STORE] SEARCH",vS="[STORE] SEARCH_CLEAR";class Jx{constructor(t){this.payload=t,this.type=HI}}class Xx{constructor(t){this.payload=t,this.type=$I}}class e1{constructor(t){this.payload=t,this.type=GI}}class t1{constructor(t){this.payload=t,this.type=zI}}class n1{constructor(t){this.payload=t,this.type=lS}}class r1{constructor(){this.type=WI}}class i1{constructor(t){this.payload=t,this.type=cS}}class s1{constructor(t){this.payload=t,this.type=uS}}class CS{constructor(){this.type=dS}}class ES{constructor(t){this.payload=t,this.type=ZI}}class o1{constructor(t){this.payload=t,this.type=hS}}class a1{constructor(t){this.payload=t,this.type=qI}}class l1{constructor(t){this.payload=t,this.type=KI}}class c1{constructor(t){this.payload=t,this.type=fS}}class u1{constructor(t){this.payload=t,this.type=YI}}class d1{constructor(t){this.payload=t,this.type=pS}}class h1{constructor(t){this.payload=t,this.type=gS}}class f1{constructor(t){this.payload=t,this.type=QI}}class wS{constructor(t){this.payload=t,this.type=JI}}class p1{constructor(t){this.payload=t,this.type=mS}}class g1{constructor(){this.type=_S}}class m1{constructor(t){this.payload=t,this.type=XI}}class _1{constructor(t){this.payload=t,this.type=eD}}class y1{constructor(t){this.payload=t,this.type=tD}}class v1{constructor(t){this.payload=t,this.type=yS}}class bS{constructor(){this.type=vS}}class Wi extends d.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}var C1=P(233);const _y={};function nD(n,t){return Object.defineProperty(t,"type",{value:n,writable:!1})}const IS="@ngrx/store/init";let Sg=(()=>{class n extends Wi{constructor(){super({type:IS})}next(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const b1=[Sg],DS=new l.OlP("@ngrx/store Internal Root Guard"),TS=new l.OlP("@ngrx/store Internal Initial State"),rD=new l.OlP("@ngrx/store Initial State"),SS=new l.OlP("@ngrx/store Reducer Factory"),AS=new l.OlP("@ngrx/store Internal Reducer Factory Provider"),xS=new l.OlP("@ngrx/store Initial Reducers"),iD=new l.OlP("@ngrx/store Internal Initial Reducers"),MS=new l.OlP("@ngrx/store Store Features"),RS=new l.OlP("@ngrx/store Internal Store Reducers"),sD=new l.OlP("@ngrx/store Internal Feature Reducers"),OS=new l.OlP("@ngrx/store Internal Feature Configs"),PS=new l.OlP("@ngrx/store Internal Store Features"),kS=new l.OlP("@ngrx/store Internal Feature Reducers Token"),NS=new l.OlP("@ngrx/store Feature Reducers"),FS=new l.OlP("@ngrx/store User Provided Meta Reducers"),mE=new l.OlP("@ngrx/store Meta Reducers"),LS=new l.OlP("@ngrx/store Internal Resolved Meta Reducers"),US=new l.OlP("@ngrx/store User Runtime Checks Config"),VS=new l.OlP("@ngrx/store Internal User Runtime Checks Config"),yy=new l.OlP("@ngrx/store Internal Runtime Checks"),oD=new l.OlP("@ngrx/store Check if Action types are unique");function aD(n,t={}){const e=Object.keys(n),r={};for(let u=0;u<e.length;u++){const f=e[u];"function"==typeof n[f]&&(r[f]=n[f])}const a=Object.keys(r);return function(f,y){f=void 0===f?t:f;let E=!1;const S={};for(let R=0;R<a.length;R++){const O=a[R],q=f[O],ce=(0,r[O])(q,y);S[O]=ce,E=E||ce!==q}return E?S:f}}function lD(...n){return function(t){if(0===n.length)return t;const e=n[n.length-1];return n.slice(0,-1).reduceRight((a,u)=>u(a),e(t))}}function BS(n,t){return Array.isArray(t)&&t.length>0&&(n=lD.apply(null,[...t,n])),(e,r)=>{const a=n(e);return(u,f)=>a(u=void 0===u?r:u,f)}}class cD extends Sn.y{}class jS extends Sg{}let _E=(()=>{class n extends Wi{constructor(e,r,a,u){super(u(a,r)),this.dispatcher=e,this.initialState=r,this.reducers=a,this.reducerFactory=u}get currentReducers(){return this.reducers}addFeature(e){this.addFeatures([e])}addFeatures(e){const r=e.reduce((a,{reducers:u,reducerFactory:f,metaReducers:y,initialState:E,key:S})=>{const R="function"==typeof u?function D1(n){const t=Array.isArray(n)&&n.length>0?lD(...n):e=>e;return(e,r)=>(e=t(e),(a,u)=>e(a=void 0===a?r:a,u))}(y)(u,E):BS(f,y)(u,E);return a[S]=R,a},{});this.addReducers(r)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(r=>r.key))}addReducer(e,r){this.addReducers({[e]:r})}addReducers(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(r=>{this.reducers=function I1(n,t){return Object.keys(n).filter(e=>e!==t).reduce((e,r)=>Object.assign(e,{[r]:n[r]}),{})}(this.reducers,r)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:e})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(jS),l.LFG(rD),l.LFG(xS),l.LFG(SS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const S1=[_E,{provide:cD,useExisting:_E},{provide:jS,useExisting:Sg}];let yE=(()=>{class n extends d.x{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const A1=[yE];class HS extends Sn.y{}let $S=(()=>{class n extends Wi{constructor(e,r,a,u){super(u);const S=e.pipe((0,p.Q)(C1.N)).pipe(zm(r)).pipe(dh(x1,{state:u}));this.stateSubscription=S.subscribe(({state:R,action:O})=>{this.next(R),a.next(O)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=IS,n.\u0275fac=function(e){return new(e||n)(l.LFG(Sg),l.LFG(cD),l.LFG(yE),l.LFG(rD))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function x1(n={state:void 0},[t,e]){const{state:r}=n;return{state:e(r,t),action:t}}const M1=[$S,{provide:HS,useExisting:$S}];let yi=(()=>{class n extends Sn.y{constructor(e,r,a){super(),this.actionsObserver=r,this.reducerManager=a,this.source=e}select(e,...r){return O1.call(null,e,...r)(this)}lift(e){const r=new n(this,this.actionsObserver,this.reducerManager);return r.operator=e,r}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,r){this.reducerManager.addReducer(e,r)}removeReducer(e){this.reducerManager.removeReducer(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(HS),l.LFG(Sg),l.LFG(_E))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const R1=[yi];function O1(n,t,...e){return function(a){let u;if("string"==typeof n){const f=[t,...e].filter(Boolean);u=a.pipe(function E1(...n){const t=n.length;if(0===t)throw new Error("list of properties cannot be empty.");return(0,Ze.U)(e=>{let r=e;for(let a=0;a<t;a++){const u=null==r?void 0:r[n[a]];if(void 0===u)return;r=u}return r})}(n,...f))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);u=a.pipe((0,Ze.U)(f=>n(f,t)))}return u.pipe($m())}}const uD="https://ngrx.io/guide/store/configuration/runtime-checks";function zS(n){return void 0===n}function WS(n){return null===n}function ZS(n){return Array.isArray(n)}function qS(n){return"object"==typeof n&&null!==n}function dD(n){return"function"==typeof n}function pD(n){Object.freeze(n);const t=dD(n);return Object.getOwnPropertyNames(n).forEach(e=>{if(!e.startsWith("\u0275")&&function U1(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(n,e)&&(!t||"caller"!==e&&"callee"!==e&&"arguments"!==e)){const r=n[e];(qS(r)||dD(r))&&!Object.isFrozen(r)&&pD(r)}}),n}function gD(n,t=[]){return(zS(n)||WS(n))&&0===t.length?{path:["root"],value:n}:Object.keys(n).reduce((r,a)=>{if(r)return r;const u=n[a];return function L1(n){return dD(n)&&n.hasOwnProperty("\u0275cmp")}(u)?r:!(zS(u)||WS(u)||function N1(n){return"number"==typeof n}(u)||function k1(n){return"boolean"==typeof n}(u)||function P1(n){return"string"==typeof n}(u)||ZS(u))&&(function KS(n){if(!function F1(n){return qS(n)&&!ZS(n)}(n))return!1;const t=Object.getPrototypeOf(n);return t===Object.prototype||null===t}(u)?gD(u,[...t,a]):{path:[...t,a],value:u})},!1)}function JS(n,t){if(!1===n)return;const e=n.path.join("."),r=new Error(`Detected unserializable ${t} at "${e}". ${uD}#strict${t}serializability`);throw r.value=n.value,r.unserializablePath=e,r}function K1(n){return(0,l.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Y1({strictActionSerializability:n,strictStateSerializability:t}){return e=>n||t?function Z1(n,t){return function(e,r){t.action(r)&&JS(gD(r),"action");const a=n(e,r);return t.state()&&JS(gD(a),"state"),a}}(e,{action:r=>n&&!mD(r),state:()=>t}):e}function Q1({strictActionImmutability:n,strictStateImmutability:t}){return e=>n||t?function W1(n,t){return function(e,r){const a=t.action(r)?pD(r):r,u=n(e,a);return t.state()?pD(u):u}}(e,{action:r=>n&&!mD(r),state:()=>t}):e}function mD(n){return n.type.startsWith("@ngrx")}function J1({strictActionWithinNgZone:n}){return t=>n?function q1(n,t){return function(e,r){if(t.action(r)&&!l.R0b.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${uD}#strictactionwithinngzone`);return n(e,r)}}(t,{action:e=>n&&!mD(e)}):t}function X1(n){return[{provide:VS,useValue:n},{provide:US,useFactory:eM,deps:[VS]},{provide:yy,deps:[US],useFactory:K1},{provide:mE,multi:!0,deps:[yy],useFactory:Q1},{provide:mE,multi:!0,deps:[yy],useFactory:Y1},{provide:mE,multi:!0,deps:[yy],useFactory:J1}]}function XS(){return[{provide:oD,multi:!0,deps:[yy],useFactory:tM}]}function eM(n){return n}function tM(n){if(!n.strictActionTypeUniqueness)return;const t=Object.entries(_y).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${uD}#strictactiontypeuniqueness`)}let vE=(()=>{class n{constructor(e,r,a,u,f,y){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Sg),l.LFG(cD),l.LFG(yE),l.LFG(yi),l.LFG(DS,8),l.LFG(oD,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),_D=(()=>{class n{constructor(e,r,a,u,f){this.features=e,this.featureReducers=r,this.reducerManager=a;const y=e.map((E,S)=>{const O=r.shift()[S];return Object.assign(Object.assign({},E),{reducers:O,initialState:eA(E.initialState)})});a.addFeatures(y)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(PS),l.LFG(NS),l.LFG(_E),l.LFG(vE),l.LFG(oD,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),nM=(()=>{class n{static forRoot(e,r={}){return{ngModule:vE,providers:[{provide:DS,useFactory:aM,deps:[[yi,new l.FiY,new l.tp0]]},{provide:TS,useValue:r.initialState},{provide:rD,useFactory:eA,deps:[TS]},{provide:iD,useValue:e},{provide:RS,useExisting:e instanceof l.OlP?e:iD},{provide:xS,deps:[l.zs3,iD,[new l.tBr(RS)]],useFactory:rM},{provide:FS,useValue:r.metaReducers?r.metaReducers:[]},{provide:LS,deps:[mE,FS],useFactory:oM},{provide:AS,useValue:r.reducerFactory?r.reducerFactory:aD},{provide:SS,deps:[AS,LS],useFactory:BS},b1,S1,A1,M1,R1,X1(r.runtimeChecks),XS()]}}static forFeature(e,r,a={}){return{ngModule:_D,providers:[{provide:OS,multi:!0,useValue:e instanceof Object?{}:a},{provide:MS,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:a instanceof l.OlP||!a.reducerFactory?aD:a.reducerFactory,metaReducers:a instanceof l.OlP||!a.metaReducers?[]:a.metaReducers,initialState:a instanceof l.OlP||!a.initialState?void 0:a.initialState}},{provide:PS,deps:[l.zs3,OS,MS],useFactory:iM},{provide:sD,multi:!0,useValue:e instanceof Object?e.reducer:r},{provide:kS,multi:!0,useExisting:r instanceof l.OlP?r:sD},{provide:NS,multi:!0,deps:[l.zs3,sD,[new l.tBr(kS)]],useFactory:sM},XS()]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function rM(n,t){return t instanceof l.OlP?n.get(t):t}function iM(n,t,e){return e.map((r,a)=>{if(t[a]instanceof l.OlP){const u=n.get(t[a]);return{key:r.key,reducerFactory:u.reducerFactory?u.reducerFactory:aD,metaReducers:u.metaReducers?u.metaReducers:[],initialState:u.initialState}}return r})}function sM(n,t){return t.map(r=>r instanceof l.OlP?n.get(r):r)}function eA(n){return"function"==typeof n?n():n}function oM(n,t){return n.concat(t)}function aM(n){if(n)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}let vy=(()=>{class n{constructor(){this.productColors=[{name:"Red",image:"assets/images/colors/red.jpg"},{name:"Green",image:"assets/images/colors/green.jpg"},{name:"Brown",image:"assets/images/colors/brown.jpg"},{name:"L Brown",image:"assets/images/colors/L-brown.png"},{name:"White",image:"assets/images/colors/white.jpg"},{name:"Black",image:"assets/images/colors/black.jpg"},{name:"Baige",image:"assets/images/colors/baige.jpg"},{name:"Blue",image:"assets/images/colors/blue.png"},{name:"Silver",image:"assets/images/colors/silver.png"},{name:"Bronze",image:"assets/images/colors/bronze.png"},{name:"Gold",image:"assets/images/colors/gold.png"},{name:"Rose",image:"assets/images/colors/rose.png"},{name:"L-Blue",image:"assets/images/colors/L-blue.png"}],this.loggedIn=new Wi(!1)}onLogIn(){this.loggedIn.next(!0)}onLogOut(){this.loggedIn.next(!1)}stopOverflow(e){document.body.style.overflow=e?"hidden":"auto"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const lM=["logInForm"];function cM(n,t){if(1&n&&(l.TgZ(0,"div",16),l.O4$(),l.TgZ(1,"svg",17),l._UZ(2,"path",18),l.qZA(),l.kcU(),l.TgZ(3,"p",19),l._uU(4),l.qZA()()),2&n){const e=l.oxw();l.xp6(4),l.Oqu(e.formErrorText)}}let uM=(()=>{class n{constructor(e){this.store=e,this.closePopUp=new l.vpe,this.formError=!1,this.formErrorText="Error",this.loading=!1,this.user={email:"",password:""}}ngOnInit(){this.authSubscription=this.store.select("authentication").subscribe(e=>{e&&(this.loading=e.loading),e&&e.error&&(this.formErrorText=e.error,this.formError=!0)})}ngOnDestroy(){this.formErrorText="",this.formError=!1,this.authSubscription.unsubscribe()}onClose(e){e.target.attributes.function&&"close"===e.target.attributes.function.value&&this.closePopUp.emit()}OnSubmit(e){if("VALID"===e.form.status)this.formErrorText="",this.formError=!1,this.user.email=e.form.value.email,this.user.password=e.form.value.password,this.store.dispatch(new qx({email:this.user.email,password:this.user.password}));else for(var r of Object.values(e.form.controls))if("INVALID"===r.status){if(r.errors.required){this.formErrorText="Required field, All inputs must be filled.",this.formError=!0;break}if(r.errors.email){this.formErrorText="Incorrect E-mail pattern.",this.formError=!0;break}}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-log-in"]],viewQuery:function(e,r){if(1&e&&l.Gf(lM,5),2&e){let a;l.iGM(a=l.CRH())&&(r.logInForm=a.first)}},outputs:{closePopUp:"closePopUp"},decls:23,vars:10,consts:[[1,"pop-up-bck"],[1,"regestration_form","pop-up-form"],[1,"form_wrapper"],[1,"form_header"],[1,"form_label"],[3,"ngSubmit"],["logInForm","ngForm"],[1,"inputs_wrapper"],[1,"input_wrapper"],["for","email",1,"requerired_input_label"],["type","email","name","email","ngModel","","email","","required","",3,"disabled"],["for","password",1,"requerired_input_label"],["type","password","name","password","ngModel","","required","","minlength","6",3,"disabled"],["class","svg_error form_error_wrapper",4,"ngIf"],["type","submit",1,"form_submit",3,"disabled"],["submit",""],[1,"svg_error","form_error_wrapper"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","200px","height","200px","viewBox","796 698.08 200 200","enable-background","new 796 698.08 200 200",0,"xml","space","preserve"],["d","M994.47,869.072L905.896,715.66c-2.041-3.535-5.813-5.713-9.896-5.713c-4.083,0-7.854,2.178-9.896,5.713l-88.573,153.412  c-2.041,3.536-2.041,7.892,0,11.427c2.041,3.536,5.813,5.714,9.896,5.714h177.147c4.083,0,7.854-2.178,9.896-5.714  C996.511,876.963,996.511,872.608,994.47,869.072z M896,870.253c-7.22,0-13.072-5.852-13.072-13.071  c0-7.221,5.852-13.072,13.072-13.072c7.221,0,13.072,5.852,13.072,13.072C909.072,864.402,903.221,870.253,896,870.253z   M910.58,765.235l-7.793,62.267c-0.469,3.748-3.889,6.407-7.637,5.938c-3.168-0.396-5.557-2.908-5.938-5.938l-7.793-62.267  c-1.007-8.053,4.703-15.397,12.755-16.405c8.053-1.007,15.397,4.703,16.405,12.756C910.732,762.8,910.719,764.072,910.58,765.235z"],[1,"form_error"]],template:function(e,r){if(1&e){const a=l.EpF();l.TgZ(0,"div",0)(1,"div")(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),l._uU(6,"LOG IN FORM"),l.qZA()(),l.TgZ(7,"form",5,6),l.NdJ("ngSubmit",function(){l.CHM(a);const f=l.MAs(8);return r.OnSubmit(f)}),l.TgZ(9,"div",7)(10,"div",8)(11,"label",9),l._uU(12,"E-mail"),l.qZA(),l._UZ(13,"input",10),l.qZA(),l.TgZ(14,"div",8)(15,"label",11),l._uU(16,"Password"),l.qZA(),l._UZ(17,"input",12),l.qZA()(),l.YNc(18,cM,5,1,"div",13),l.TgZ(19,"div")(20,"button",14,15),l._uU(22,"LOG IN"),l.qZA()()()()()()()}2&e&&(l.xp6(13),l.ekj("form_disabled_input",r.loading),l.Q6J("disabled",r.loading),l.xp6(4),l.ekj("form_disabled_input",r.loading),l.Q6J("disabled",r.loading),l.xp6(1),l.Q6J("ngIf",r.formError),l.xp6(2),l.ekj("form_disabled_submit",r.loading),l.Q6J("disabled",r.loading))},directives:[Za,Kr,za,ai,Vs,Wa,Bd,zs,iu,sn],styles:[".form_label[_ngcontent-%COMP%], .form_wrapper[_ngcontent-%COMP%]{background-color:var(--base-color)}.form_label[_ngcontent-%COMP%]{display:inline-block;font-family:var(--side-font);font-weight:700}.form_wrapper[_ngcontent-%COMP%]{padding:24px 12px}.form_header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:36px}.input_wrapper[_ngcontent-%COMP%]{margin-bottom:48px}.inputs_wrapper[_ngcontent-%COMP%]   .input_wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:24px}input[_ngcontent-%COMP%]{display:block;border:1px var(--light-grey) solid;width:480px;padding:7px}button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),n})(),yD=(()=>{class n{constructor(){this.opened=!1,this.dropdownControl=new d.x}onDropdownControl(e){if(!e)return this.opened=!this.opened,void this.dropdownControl.next(this.opened);this.opened=e,this.dropdownControl.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var dM=P(9672);function tA(n,t,e){n?(0,dM.f)(e,n,t):t()}function Cy(n,t){const e=(0,Vn.m)(n)?n:()=>n,r=a=>a.error(e());return new Sn.y(t?a=>t.schedule(r,0,a):r)}var CE=P(8189);function vD(...n){return function pM(){return(0,CE.J)(1)}()((0,mn.D)(n,(0,Fi.yG)(n)))}function nA(n){return new Sn.y(t=>{(0,At.Xf)(n()).subscribe(t)})}var ef=P(515),rA=P(727);function iA(){return(0,yn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,xt.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,u=e;e=null,a&&(!u||a===u)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class gM extends Sn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,yn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rA.w0;const e=this.getSubject();t.add(this.source.subscribe((0,xt.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rA.w0.EMPTY)}return t}refCount(){return iA()(this)}}function ws(n){return(0,yn.e)((t,e)=>{let u,r=null,a=!1;r=t.subscribe((0,xt.x)(e,void 0,void 0,f=>{u=(0,At.Xf)(n(f,ws(n)(t))),r?(r.unsubscribe(),r=null,u.subscribe(e)):a=!0})),a&&(r.unsubscribe(),r=null,u.subscribe(e))})}function CD(n){return n<=0?()=>ef.E:(0,yn.e)((t,e)=>{let r=[];t.subscribe((0,xt.x)(e,a=>{r.push(a),n<r.length&&r.shift()},()=>{for(const a of r)e.next(a);e.complete()},void 0,()=>{r=null}))})}var Gr=P(8505);function sA(n){return(0,yn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class gc{constructor(t,e){this.id=t,this.url=e}}class ED extends gc{constructor(t,e,r="imperative",a=null){super(t,e),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ey extends gc{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oA extends gc{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yM extends gc{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vM extends gc{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CM extends gc{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EM extends gc{constructor(t,e,r,a,u){super(t,e),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wM extends gc{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bM extends gc{constructor(t,e,r,a){super(t,e),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aA{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lA{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IM{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DM{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TM{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SM{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cA{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const St="primary";class AM{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ag(n){return new AM(n)}const uA="ngNavigationCancelingError";function wD(n){const t=Error("NavigationCancelingError: "+n);return t[uA]=!0,t}function MM(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const a={};for(let u=0;u<r.length;u++){const f=r[u],y=n[u];if(f.startsWith(":"))a[f.substring(1)]=y;else if(f!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function cl(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!dA(n[a],t[a]))return!1;return!0}function dA(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((a,u)=>r[u]===a)}return n===t}function hA(n){return Array.prototype.concat.apply([],n)}function fA(n){return n.length>0?n[n.length-1]:null}function ei(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ul(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,mn.D)(Promise.resolve(n)):Je(n)}const PM={exact:function mA(n,t,e){if(!nf(n.segments,t.segments)||!EE(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!mA(n.children[r],t.children[r],e))return!1;return!0},subset:_A},pA={exact:function kM(n,t){return cl(n,t)},subset:function NM(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>dA(n[e],t[e]))},ignored:()=>!0};function gA(n,t,e){return PM[e.paths](n.root,t.root,e.matrixParams)&&pA[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function _A(n,t,e){return yA(n,t,t.segments,e)}function yA(n,t,e,r){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!nf(a,e)||t.hasChildren()||!EE(a,e,r))}if(n.segments.length===e.length){if(!nf(n.segments,e)||!EE(n.segments,e,r))return!1;for(const a in t.children)if(!n.children[a]||!_A(n.children[a],t.children[a],r))return!1;return!0}{const a=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(nf(n.segments,a)&&EE(n.segments,a,r)&&n.children[St])&&yA(n.children[St],t,u,r)}}function EE(n,t,e){return t.every((r,a)=>pA[e](n[a].parameters,r.parameters))}class tf{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ag(this.queryParams)),this._queryParamMap}toString(){return UM.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ei(e,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wE(this)}}class wy{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ag(this.parameters)),this._parameterMap}toString(){return bA(this)}}function nf(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class vA{}class CA{parse(t){const e=new ZM(t);return new tf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${by(t.root,!0)}`,r=function jM(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(a=>`${bE(e)}=${bE(a)}`).join("&"):`${bE(e)}=${bE(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function VM(n){return encodeURI(n)}(t.fragment)}`:""}`}}const UM=new CA;function wE(n){return n.segments.map(t=>bA(t)).join("/")}function by(n,t){if(!n.hasChildren())return wE(n);if(t){const e=n.children[St]?by(n.children[St],!1):"",r=[];return ei(n.children,(a,u)=>{u!==St&&r.push(`${u}:${by(a,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function LM(n,t){let e=[];return ei(n.children,(r,a)=>{a===St&&(e=e.concat(t(r,a)))}),ei(n.children,(r,a)=>{a!==St&&(e=e.concat(t(r,a)))}),e}(n,(r,a)=>a===St?[by(n.children[St],!1)]:[`${a}:${by(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${wE(n)}/${e[0]}`:`${wE(n)}/(${e.join("//")})`}}function EA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bE(n){return EA(n).replace(/%3B/gi,";")}function bD(n){return EA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function IE(n){return decodeURIComponent(n)}function wA(n){return IE(n.replace(/\+/g,"%20"))}function bA(n){return`${bD(n.path)}${function BM(n){return Object.keys(n).map(t=>`;${bD(t)}=${bD(n[t])}`).join("")}(n.parameters)}`}const HM=/^[^\/()?;=#]+/;function DE(n){const t=n.match(HM);return t?t[0]:""}const $M=/^[^=?&#]+/,zM=/^[^&#]+/;class ZM{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[St]=new Pt(t,e)),r}parseSegment(){const t=DE(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wy(IE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=DE(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const a=DE(this.remaining);a&&(r=a,this.capture(r))}t[IE(e)]=IE(r)}parseQueryParam(t){const e=function GM(n){const t=n.match($M);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const f=function WM(n){const t=n.match(zM);return t?t[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const a=wA(e),u=wA(r);if(t.hasOwnProperty(a)){let f=t[a];Array.isArray(f)||(f=[f],t[a]=f),f.push(u)}else t[a]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=DE(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=St);const f=this.parseChildren();e[u]=1===Object.keys(f).length?f[St]:new Pt([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class IA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ID(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=ID(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=DD(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return DD(t,this._root).map(e=>e.value)}}function ID(n,t){if(n===t.value)return t;for(const e of t.children){const r=ID(n,e);if(r)return r}return null}function DD(n,t){if(n===t.value)return[t];for(const e of t.children){const r=DD(n,e);if(r.length)return r.unshift(t),r}return[]}class mc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xg(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class DA extends IA{constructor(t,e){super(t),this.snapshot=e,TD(this,t)}toString(){return this.snapshot.toString()}}function TA(n,t){const e=function qM(n,t){const f=new TE([],{},{},"",{},St,t,null,n.root,-1,{});return new AA("",new mc(f,[]))}(n,t),r=new Wi([new wy("",{})]),a=new Wi({}),u=new Wi({}),f=new Wi({}),y=new Wi(""),E=new cd(r,a,f,y,u,St,t,e.root);return E.snapshot=e.root,new DA(new mc(E,[]),e)}class cd{constructor(t,e,r,a,u,f,y,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=u,this.outlet=f,this.component=y,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(t=>Ag(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(t=>Ag(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function SA(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const a=e[r],u=e[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(u.component)break;r--}}return function KM(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class TE{constructor(t,e,r,a,u,f,y,E,S,R,O){this.url=t,this.params=e,this.queryParams=r,this.fragment=a,this.data=u,this.outlet=f,this.component=y,this.routeConfig=E,this._urlSegment=S,this._lastPathIndex=R,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ag(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ag(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AA extends IA{constructor(t,e){super(e),this.url=t,TD(this,e)}toString(){return xA(this._root)}}function TD(n,t){t.value._routerState=n,t.children.forEach(e=>TD(n,e))}function xA(n){const t=n.children.length>0?` { ${n.children.map(xA).join(", ")} } `:"";return`${n.value}${t}`}function SD(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,cl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),cl(t.params,e.params)||n.params.next(e.params),function RM(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!cl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),cl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function AD(n,t){const e=cl(n.params,t.params)&&function FM(n,t){return nf(n,t)&&n.every((e,r)=>cl(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||AD(n.parent,t.parent))}function Iy(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const a=function QM(n,t,e){return t.children.map(r=>{for(const a of e.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return Iy(n,r,a);return Iy(n,r)})}(n,t,e);return new mc(r,a)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const f=u.route;return f.value._futureSnapshot=t.value,f.children=t.children.map(y=>Iy(n,y)),f}}const r=function JM(n){return new cd(new Wi(n.url),new Wi(n.params),new Wi(n.queryParams),new Wi(n.fragment),new Wi(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(u=>Iy(n,u));return new mc(r,a)}}function SE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Dy(n){return"object"==typeof n&&null!=n&&n.outlets}function xD(n,t,e,r,a){let u={};return r&&ei(r,(f,y)=>{u[y]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),new tf(e.root===n?t:MA(e.root,n,t),u,a)}function MA(n,t,e){const r={};return ei(n.children,(a,u)=>{r[u]=a===t?e:MA(a,t,e)}),new Pt(n.segments,r)}class RA{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&SE(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Dy);if(a&&a!==fA(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class MD{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function OA(n,t,e){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return AE(n,t,e);const r=function iR(n,t,e){let r=0,a=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=e.length)return u;const f=n.segments[a],y=e[r];if(Dy(y))break;const E=`${y}`,S=r<e.length-1?e[r+1]:null;if(a>0&&void 0===E)break;if(E&&S&&"object"==typeof S&&void 0===S.outlets){if(!kA(E,S,f))return u;r+=2}else{if(!kA(E,{},f))return u;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,t,e),a=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Pt(n.segments.slice(0,r.pathIndex),{});return u.children[St]=new Pt(n.segments.slice(r.pathIndex),n.children),AE(u,0,a)}return r.match&&0===a.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?RD(n,t,e):r.match?AE(n,0,a):RD(n,t,e)}function AE(n,t,e){if(0===e.length)return new Pt(n.segments,{});{const r=function rR(n){return Dy(n[0])?n[0].outlets:{[St]:n}}(e),a={};return ei(r,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(a[f]=OA(n.children[f],t,u))}),ei(n.children,(u,f)=>{void 0===r[f]&&(a[f]=u)}),new Pt(n.segments,a)}}function RD(n,t,e){const r=n.segments.slice(0,t);let a=0;for(;a<e.length;){const u=e[a];if(Dy(u)){const E=sR(u.outlets);return new Pt(r,E)}if(0===a&&SE(e[0])){r.push(new wy(n.segments[t].path,PA(e[0]))),a++;continue}const f=Dy(u)?u.outlets[St]:`${u}`,y=a<e.length-1?e[a+1]:null;f&&y&&SE(y)?(r.push(new wy(f,PA(y))),a+=2):(r.push(new wy(f,{})),a++)}return new Pt(r,{})}function sR(n){const t={};return ei(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=RD(new Pt([],{}),0,e))}),t}function PA(n){const t={};return ei(n,(e,r)=>t[r]=`${e}`),t}function kA(n,t,e){return n==e.path&&cl(t,e.parameters)}class aR{constructor(t,e,r,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=a}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),SD(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const a=xg(e);t.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,a[f],r),delete a[f]}),ei(a,(u,f)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(t,e,r){const a=t.value,u=e?e.value:null;if(a===u)if(a.component){const f=r.getContext(a.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,r);else u&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,u=xg(t);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],a);if(r&&r.outlet){const f=r.outlet.detach(),y=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:f,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),a=r&&t.value.component?r.children:e,u=xg(t);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const a=xg(e);t.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],r),this.forwardEvent(new SM(u.value.snapshot))}),t.children.length&&this.forwardEvent(new DM(t.value.snapshot))}activateRoutes(t,e,r){const a=t.value,u=e?e.value:null;if(SD(a),a===u)if(a.component){const f=r.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,r);else if(a.component){const f=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),f.children.onOutletReAttached(y.contexts),f.attachRef=y.componentRef,f.route=y.route.value,f.outlet&&f.outlet.attach(y.componentRef,y.route.value),SD(y.route.value),this.activateChildRoutes(t,null,f.children)}else{const y=function lR(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),E=y?y.module.componentFactoryResolver:null;f.attachRef=null,f.route=a,f.resolver=E,f.outlet&&f.outlet.activateWith(a,E),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,r)}}class OD{constructor(t,e){this.routes=t,this.module=e}}function ud(n){return"function"==typeof n}function rf(n){return n instanceof tf}const Ty=Symbol("INITIAL_VALUE");function Sy(){return dn(n=>function hM(...n){const t=(0,Fi.yG)(n),e=(0,Fi.jO)(n),{args:r,keys:a}=is(n);if(0===r.length)return(0,mn.D)([],t);const u=new Sn.y(function fM(n,t,e=Ou.y){return r=>{tA(t,()=>{const{length:a}=n,u=new Array(a);let f=a,y=a;for(let E=0;E<a;E++)tA(t,()=>{const S=(0,mn.D)(n[E],t);let R=!1;S.subscribe((0,xt.x)(r,O=>{u[E]=O,R||(R=!0,y--),y||r.next(e(u.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,t,a?f=>Ba(a,f):Ou.y));return e?u.pipe(Il(e)):u}(n.map(t=>t.pipe((0,N.q)(1),function mM(...n){const t=(0,Fi.yG)(n);return(0,yn.e)((e,r)=>{(t?vD(n,e,t):vD(n,e)).subscribe(r)})}(Ty)))).pipe(dh((t,e)=>{let r=!1;return e.reduce((a,u,f)=>a!==Ty?a:(u===Ty&&(r=!0),r||!1!==u&&f!==e.length-1&&!rf(u)?a:u),t)},Ty),un(t=>t!==Ty),(0,Ze.U)(t=>rf(t)?t:!0===t),(0,N.q)(1)))}class pR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ay,this.attachRef=null}}class Ay{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new pR,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let PD=(()=>{class n{constructor(e,r,a,u,f){this.parentContexts=e,this.location=r,this.resolver=a,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=u||St,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,E=new gR(e,y,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ay),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class gR{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===cd?this.route:t===Ay?this.childContexts:this.parent.get(t,e)}}let NA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"router-outlet")},directives:[PD],encapsulation:2}),n})();function FA(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];mR(r,_R(t,r))}}function mR(n,t){n.children&&FA(n.children,t)}function _R(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function kD(n){const t=n.children&&n.children.map(kD),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=NA),e}function ko(n){return n.outlet||St}function LA(n,t){const e=n.filter(r=>ko(r)===t);return e.push(...n.filter(r=>ko(r)!==t)),e}const UA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xE(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},UA):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const u=(t.matcher||MM)(e,n,t);if(!u)return Object.assign({},UA);const f={};ei(u.posParams,(E,S)=>{f[S]=E.path});const y=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,remainingSegments:e.slice(u.consumed.length),parameters:y,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function ME(n,t,e,r,a="corrected"){if(e.length>0&&function CR(n,t,e){return e.some(r=>RE(n,t,r)&&ko(r)!==St)}(n,e,r)){const f=new Pt(t,function vR(n,t,e,r){const a={};a[St]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const u of e)if(""===u.path&&ko(u)!==St){const f=new Pt([],{});f._sourceSegment=n,f._segmentIndexShift=t.length,a[ko(u)]=f}return a}(n,t,r,new Pt(e,n.children)));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function ER(n,t,e){return e.some(r=>RE(n,t,r))}(n,e,r)){const f=new Pt(n.segments,function yR(n,t,e,r,a,u){const f={};for(const y of r)if(RE(n,e,y)&&!a[ko(y)]){const E=new Pt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:t.length,f[ko(y)]=E}return Object.assign(Object.assign({},a),f)}(n,t,e,r,n.children,a));return f._sourceSegment=n,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const u=new Pt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}function RE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function VA(n,t,e,r){return!!(ko(n)===r||r!==St&&RE(t,e,n))&&("**"===n.path||xE(t,n,e).matched)}function BA(n,t,e){return 0===t.length&&!n.children[e]}class xy{constructor(t){this.segmentGroup=t||null}}class jA{constructor(t){this.urlTree=t}}function OE(n){return Cy(new xy(n))}function HA(n){return Cy(new jA(n))}class DR{constructor(t,e,r,a,u){this.configLoader=e,this.urlSerializer=r,this.urlTree=a,this.config=u,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=ME(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,St).pipe((0,Ze.U)(u=>this.createUrlTree(ND(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ws(u=>{if(u instanceof jA)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof xy?this.noMatchError(u):u}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,St).pipe((0,Ze.U)(a=>this.createUrlTree(ND(a),t.queryParams,t.fragment))).pipe(ws(a=>{throw a instanceof xy?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const a=t.segments.length>0?new Pt([],{[St]:t}):t;return new tf(a,e,r)}expandSegmentGroup(t,e,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,Ze.U)(u=>new Pt([],u))):this.expandSegment(t,r,e,r.segments,a,!0)}expandChildren(t,e,r){const a=[];for(const u of Object.keys(r.children))"primary"===u?a.unshift(u):a.push(u);return(0,mn.D)(a).pipe(fi(u=>{const f=r.children[u],y=LA(e,u);return this.expandSegmentGroup(t,y,f,u).pipe((0,Ze.U)(E=>({segment:E,outlet:u})))}),dh((u,f)=>(u[f.outlet]=f.segment,u),{}),function _M(n,t){const e=arguments.length>=2;return r=>r.pipe(n?un((a,u)=>n(a,u,r)):Ou.y,CD(1),e?H(t):Y(()=>new A))}())}expandSegment(t,e,r,a,u,f){return(0,mn.D)(r).pipe(fi(y=>this.expandSegmentAgainstRoute(t,e,r,y,a,u,f).pipe(ws(S=>{if(S instanceof xy)return Je(null);throw S}))),Re(y=>!!y),ws((y,E)=>{if(y instanceof A||"EmptyError"===y.name){if(BA(e,a,u))return Je(new Pt([],{}));throw new xy(e)}throw y}))}expandSegmentAgainstRoute(t,e,r,a,u,f,y){return VA(a,e,u,f)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,u,f):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f):OE(e):OE(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,a,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,a){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?HA(u):this.lineralizeSegments(r,u).pipe((0,Mn.z)(f=>{const y=new Pt(f,{});return this.expandSegment(t,y,e,f,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,a,u,f){const{matched:y,consumedSegments:E,remainingSegments:S,positionalParamSegments:R}=xE(e,a,u);if(!y)return OE(e);const O=this.applyRedirectCommands(E,a.redirectTo,R);return a.redirectTo.startsWith("/")?HA(O):this.lineralizeSegments(a,O).pipe((0,Mn.z)(j=>this.expandSegment(t,e,r,j.concat(S),f,!1)))}matchSegmentAgainstRoute(t,e,r,a,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Je(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,Ze.U)(O=>(r._loadedConfig=O,new Pt(a,{})))):Je(new Pt(a,{}));const{matched:f,consumedSegments:y,remainingSegments:E}=xE(e,r,a);return f?this.getChildConfig(t,r,a).pipe((0,Mn.z)(R=>{const O=R.module,j=R.routes,{segmentGroup:q,slicedSegments:ce}=ME(e,y,E,j),Ue=new Pt(q.segments,q.children);if(0===ce.length&&Ue.hasChildren())return this.expandChildren(O,j,Ue).pipe((0,Ze.U)(Dt=>new Pt(y,Dt)));if(0===j.length&&0===ce.length)return Je(new Pt(y,{}));const ke=ko(r)===u;return this.expandSegment(O,Ue,j,ce,ke?St:u,!0).pipe((0,Ze.U)(ut=>new Pt(y.concat(ut.segments),ut.children)))})):OE(e)}getChildConfig(t,e,r){return e.children?Je(new OD(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Je(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Mn.z)(a=>a?this.configLoader.load(t.injector,e).pipe((0,Ze.U)(u=>(e._loadedConfig=u,u))):function bR(n){return Cy(wD(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Je(new OD([],t))}runCanLoadGuards(t,e,r){const a=e.canLoad;return a&&0!==a.length?Je(a.map(f=>{const y=t.get(f);let E;if(function uR(n){return n&&ud(n.canLoad)}(y))E=y.canLoad(e,r);else{if(!ud(y))throw new Error("Invalid CanLoad guard");E=y(e,r)}return ul(E)})).pipe(Sy(),(0,Gr.b)(f=>{if(!rf(f))return;const y=wD(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw y.url=f,y}),(0,Ze.U)(f=>!0===f)):Je(!0)}lineralizeSegments(t,e){let r=[],a=e.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return Je(r);if(a.numberOfChildren>1||!a.children[St])return Cy(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));a=a.children[St]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,a){const u=this.createSegmentGroup(t,e.root,r,a);return new tf(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ei(t,(a,u)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[u]=e[y]}else r[u]=a}),r}createSegmentGroup(t,e,r,a){const u=this.createSegments(t,e.segments,r,a);let f={};return ei(e.children,(y,E)=>{f[E]=this.createSegmentGroup(t,y,r,a)}),new Pt(u,f)}createSegments(t,e,r,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,a):this.findOrReturn(u,r))}findPosParam(t,e,r){const a=r[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let r=0;for(const a of e){if(a.path===t.path)return e.splice(r),a;r++}return t}}function ND(n){const t={};for(const r of Object.keys(n.children)){const u=ND(n.children[r]);(u.segments.length>0||u.hasChildren())&&(t[r]=u)}return function TR(n){if(1===n.numberOfChildren&&n.children[St]){const t=n.children[St];return new Pt(n.segments.concat(t.segments),t.children)}return n}(new Pt(n.segments,t))}class $A{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class PE{constructor(t,e){this.component=t,this.route=e}}function AR(n,t,e){const r=n._root;return My(r,t?t._root:null,e,[r.value])}function kE(n,t,e){const r=function MR(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function My(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=xg(t);return n.children.forEach(f=>{(function RR(n,t,e,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,f=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const E=function OR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!nf(n.url,t.url);case"pathParamsOrQueryParamsChange":return!nf(n.url,t.url)||!cl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!AD(n,t)||!cl(n.queryParams,t.queryParams);default:return!AD(n,t)}}(f,u,u.routeConfig.runGuardsAndResolvers);E?a.canActivateChecks.push(new $A(r)):(u.data=f.data,u._resolvedData=f._resolvedData),My(n,t,u.component?y?y.children:null:e,r,a),E&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new PE(y.outlet.component,f))}else f&&Ry(t,y,a),a.canActivateChecks.push(new $A(r)),My(n,null,u.component?y?y.children:null:e,r,a)})(f,u[f.value.outlet],e,r.concat([f.value]),a),delete u[f.value.outlet]}),ei(u,(f,y)=>Ry(f,e.getContext(y),a)),a}function Ry(n,t,e){const r=xg(n),a=n.value;ei(r,(u,f)=>{Ry(u,a.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new PE(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class jR{}function GA(n){return new Sn.y(t=>t.error(n))}class $R{constructor(t,e,r,a,u,f){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const t=ME(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,St);if(null===e)return null;const r=new TE([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},St,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new mc(r,e),u=new AA(this.url,a);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(t){const e=t.value,r=SA(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const u of Object.keys(e.children)){const f=e.children[u],y=LA(t,u),E=this.processSegmentGroup(y,f,u);if(null===E)return null;r.push(...E)}const a=zA(r);return function GR(n){n.sort((t,e)=>t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,r,a){for(const u of t){const f=this.processSegmentAgainstRoute(u,e,r,a);if(null!==f)return f}return BA(e,r,a)?[]:null}processSegmentAgainstRoute(t,e,r,a){if(t.redirectTo||!VA(t,e,r,a))return null;let u,f=[],y=[];if("**"===t.path){const q=r.length>0?fA(r).parameters:{};u=new TE(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qA(t),ko(t),t.component,t,WA(e),ZA(e)+r.length,KA(t))}else{const q=xE(e,t,r);if(!q.matched)return null;f=q.consumedSegments,y=q.remainingSegments,u=new TE(f,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qA(t),ko(t),t.component,t,WA(e),ZA(e)+f.length,KA(t))}const E=function zR(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:S,slicedSegments:R}=ME(e,f,y,E.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===R.length&&S.hasChildren()){const q=this.processChildren(E,S);return null===q?null:[new mc(u,q)]}if(0===E.length&&0===R.length)return[new mc(u,[])];const O=ko(t)===a,j=this.processSegment(E,S,R,O?St:a);return null===j?null:[new mc(u,j)]}}function WR(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zA(n){const t=[],e=new Set;for(const r of n){if(!WR(r)){t.push(r);continue}const a=t.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...r.children),e.add(a)):t.push(r)}for(const r of e){const a=zA(r.children);t.push(new mc(r.value,a))}return t.filter(r=>!e.has(r))}function WA(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ZA(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function qA(n){return n.data||{}}function KA(n){return n.resolve||{}}function YA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function FD(n){return dn(t=>{const e=n(t);return e?(0,mn.D)(e).pipe((0,Ze.U)(()=>t)):Je(t)})}class eO extends class XR{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const LD=new l.OlP("ROUTES");class QA{constructor(t,e,r,a){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Ze.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=u.create(t);return new OD(hA(f.injector.get(LD,void 0,l.XFs.Self|l.XFs.Optional)).map(kD),f)}),ws(u=>{throw e._loader$=void 0,u}));return e._loader$=new gM(a,()=>new d.x).pipe(iA()),e._loader$}loadModuleFactory(t){return ul(t()).pipe((0,Mn.z)(e=>e instanceof l.YKP?Je(e):(0,mn.D)(this.compiler.compileModuleAsync(e))))}}class nO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function rO(n){throw n}function iO(n,t,e){return t.parse("/")}function JA(n,t){return Je(null)}const sO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Sr=(()=>{class n{constructor(e,r,a,u,f,y,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=a,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new d.x,this.errorHandler=rO,this.malformedUriErrorHandler=iO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:JA,afterPreactivation:JA},this.urlHandlingStrategy=new nO,this.routeReuseStrategy=new eO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(l.h0i),this.console=f.get(l.c2e);const O=f.get(l.R0b);this.isNgZoneEnabled=O instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function OM(){return new tf(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new QA(f,y,j=>this.triggerEvent(new aA(j)),j=>this.triggerEvent(new lA(j))),this.routerState=TA(this.currentUrlTree,this.rootComponentType),this.transitions=new Wi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(un(a=>0!==a.id),(0,Ze.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),dn(a=>{let u=!1,f=!1;return Je(a).pipe((0,Gr.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dn(y=>{const E=this.browserUrlTree.toString(),S=!this.navigated||y.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return NE(y.source)&&(this.browserUrlTree=y.extractedUrl),Je(y).pipe(dn(O=>{const j=this.transitions.getValue();return r.next(new ED(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),j!==this.transitions.getValue()?ef.E:Promise.resolve(O)}),function SR(n,t,e,r){return dn(a=>function IR(n,t,e,r,a){return new DR(n,t,e,r,a).apply()}(n,t,e,a.extractedUrl,r).pipe((0,Ze.U)(u=>Object.assign(Object.assign({},a),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Gr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function ZR(n,t,e,r,a){return(0,Mn.z)(u=>function HR(n,t,e,r,a="emptyOnly",u="legacy"){try{const f=new $R(n,t,e,r,a,u).recognize();return null===f?GA(new jR):Je(f)}catch(f){return GA(f)}}(n,t,u.urlAfterRedirects,e(u.urlAfterRedirects),r,a).pipe((0,Ze.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Gr.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(q,O)}this.browserUrlTree=O.urlAfterRedirects}const j=new vM(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(j)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:q,source:ce,restoredState:Ue,extras:ke}=y,tt=new ED(j,this.serializeUrl(q),ce,Ue);r.next(tt);const ut=TA(q,this.rootComponentType).snapshot;return Je(Object.assign(Object.assign({},y),{targetSnapshot:ut,urlAfterRedirects:q,extras:Object.assign(Object.assign({},ke),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),ef.E}),FD(y=>{const{targetSnapshot:E,id:S,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:q}}=y;return this.hooks.beforePreactivation(E,{navigationId:S,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!q})}),(0,Gr.b)(y=>{const E=new CM(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(E)}),(0,Ze.U)(y=>Object.assign(Object.assign({},y),{guards:AR(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function PR(n,t){return(0,Mn.z)(e=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:f}}=e;return 0===f.length&&0===u.length?Je(Object.assign(Object.assign({},e),{guardsResult:!0})):function kR(n,t,e,r){return(0,mn.D)(n).pipe((0,Mn.z)(a=>function BR(n,t,e,r,a){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return u&&0!==u.length?Je(u.map(y=>{const E=kE(y,t,a);let S;if(function fR(n){return n&&ud(n.canDeactivate)}(E))S=ul(E.canDeactivate(n,t,e,r));else{if(!ud(E))throw new Error("Invalid CanDeactivate guard");S=ul(E(n,t,e,r))}return S.pipe(Re())})).pipe(Sy()):Je(!0)}(a.component,a.route,e,t,r)),Re(a=>!0!==a,!0))}(f,r,a,n).pipe((0,Mn.z)(y=>y&&function cR(n){return"boolean"==typeof n}(y)?function NR(n,t,e,r){return(0,mn.D)(t).pipe(fi(a=>vD(function LR(n,t){return null!==n&&t&&t(new IM(n)),Je(!0)}(a.route.parent,r),function FR(n,t){return null!==n&&t&&t(new TM(n)),Je(!0)}(a.route,r),function VR(n,t,e){const r=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(f=>function xR(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(f)).filter(f=>null!==f).map(f=>nA(()=>Je(f.guards.map(E=>{const S=kE(E,f.node,e);let R;if(function hR(n){return n&&ud(n.canActivateChild)}(S))R=ul(S.canActivateChild(r,n));else{if(!ud(S))throw new Error("Invalid CanActivateChild guard");R=ul(S(r,n))}return R.pipe(Re())})).pipe(Sy())));return Je(u).pipe(Sy())}(n,a.path,e),function UR(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Je(!0);const a=r.map(u=>nA(()=>{const f=kE(u,t,e);let y;if(function dR(n){return n&&ud(n.canActivate)}(f))y=ul(f.canActivate(t,n));else{if(!ud(f))throw new Error("Invalid CanActivate guard");y=ul(f(t,n))}return y.pipe(Re())}));return Je(a).pipe(Sy())}(n,a.route,e))),Re(a=>!0!==a,!0))}(r,u,n,t):Je(y)),(0,Ze.U)(y=>Object.assign(Object.assign({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Gr.b)(y=>{if(rf(y.guardsResult)){const S=wD(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw S.url=y.guardsResult,S}const E=new EM(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(E)}),un(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),FD(y=>{if(y.guards.canActivateChecks.length)return Je(y).pipe((0,Gr.b)(E=>{const S=new wM(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(S)}),dn(E=>{let S=!1;return Je(E).pipe(function qR(n,t){return(0,Mn.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=e;if(!a.length)return Je(e);let u=0;return(0,mn.D)(a).pipe(fi(f=>function KR(n,t,e,r){return function YR(n,t,e,r){const a=YA(n);if(0===a.length)return Je({});const u={};return(0,mn.D)(a).pipe((0,Mn.z)(f=>function QR(n,t,e,r){const a=kE(n,t,r);return ul(a.resolve?a.resolve(t,e):a(t,e))}(n[f],t,e,r).pipe((0,Gr.b)(y=>{u[f]=y}))),CD(1),(0,Mn.z)(()=>YA(u).length===a.length?Je(u):ef.E))}(n._resolve,n,t,r).pipe((0,Ze.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),SA(n,e).resolve),null)))}(f.route,r,n,t)),(0,Gr.b)(()=>u++),CD(1),(0,Mn.z)(f=>u===a.length?Je(e):ef.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Gr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Gr.b)(E=>{const S=new bM(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(S)}))}),FD(y=>{const{targetSnapshot:E,id:S,extractedUrl:R,rawUrl:O,extras:{skipLocationChange:j,replaceUrl:q}}=y;return this.hooks.afterPreactivation(E,{navigationId:S,appliedUrlTree:R,rawUrlTree:O,skipLocationChange:!!j,replaceUrl:!!q})}),(0,Ze.U)(y=>{const E=function YM(n,t,e){const r=Iy(n,t._root,e?e._root:void 0);return new DA(r,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:E})}),(0,Gr.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>(0,Ze.U)(r=>(new aR(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Gr.b)({next(){u=!0},complete(){u=!0}}),sA(()=>{var y;u||f||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),ws(y=>{if(f=!0,function xM(n){return n&&n[uA]}(y)){const E=rf(y.url);E||(this.navigated=!0,this.restoreHistory(a,!0));const S=new oA(a.id,this.serializeUrl(a.extractedUrl),y.message);r.next(S),E?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),O={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NE(a.source)};this.scheduleNavigation(R,"imperative",null,O,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const E=new yM(a.id,this.serializeUrl(a.extractedUrl),y);r.next(E);try{a.resolve(this.errorHandler(y))}catch(S){a.reject(S)}}return ef.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var a;const u={replaceUrl:!0},f=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const y=this.parseUrl(e.url);this.scheduleNavigation(y,r,f,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){FA(e),this.config=e.map(kD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:a,queryParams:u,fragment:f,queryParamsHandling:y,preserveFragment:E}=r,S=a||this.routerState.root,R=E?this.currentUrlTree.fragment:f;let O=null;switch(y){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function XM(n,t,e,r,a){if(0===e.length)return xD(t.root,t.root,t,r,a);const u=function eR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new RA(!0,0,n);let t=0,e=!1;const r=n.reduce((a,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return ei(u.outlets,(E,S)=>{y[S]="string"==typeof E?E.split("/"):E}),[...a,{outlets:y}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===f?(u.split("/").forEach((y,E)=>{0==E&&"."===y||(0==E&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,u]},[]);return new RA(e,t,r)}(e);if(u.toRoot())return xD(t.root,new Pt([],{}),t,r,a);const f=function tR(n,t,e){if(n.isAbsolute)return new MD(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const u=e.snapshot._urlSegment;return new MD(u,u===t.root,0)}const r=SE(n.commands[0])?0:1;return function nR(n,t,e){let r=n,a=t,u=e;for(;u>a;){if(u-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new MD(r,!1,a-u)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,t,n),y=f.processChildren?AE(f.segmentGroup,f.index,u.commands):OA(f.segmentGroup,f.index,u.commands);return xD(f.segmentGroup,y,t,r,a)}(S,this.currentUrlTree,e,O,null!=R?R:null)}navigateByUrl(e,r={skipLocationChange:!1}){const a=rf(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function aO(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return r}isActive(e,r){let a;if(a=!0===r?Object.assign({},sO):!1===r?Object.assign({},oO):r,rf(e))return gA(this.currentUrlTree,e,a);const u=this.parseUrl(e);return gA(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((r,a)=>{const u=e[a];return null!=u&&(r[a]=u),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ey(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,a,u,f){var y,E,S;if(this.disposed)return Promise.resolve(!1);const R=this.transitions.value,O=NE(r)&&R&&!NE(R.source),j=R.rawUrl.toString()===e.toString(),q=R.id===(null===(y=this.currentNavigation)||void 0===y?void 0:y.id);if(O&&j&&q)return Promise.resolve(!0);let Ue,ke,tt;f?(Ue=f.resolve,ke=f.reject,tt=f.promise):tt=new Promise((dt,tr)=>{Ue=dt,ke=tr});const ut=++this.navigationId;let Dt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Dt=a&&a.\u0275routerPageId?a.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1):Dt=0,this.setTransition({id:ut,targetPageId:Dt,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:u,resolve:Ue,reject:ke,promise:tt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tt.catch(dt=>Promise.reject(dt))}setBrowserUrl(e,r){const a=this.urlSerializer.serialize(e),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",u):this.location.go(a,"",u)}restoreHistory(e,r=!1){var a,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const a=new oA(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function NE(n){return"imperative"!==n}let FE=(()=>{class n{constructor(e,r,a,u,f){this.router=e,this.route=r,this.tabIndexAttribute=a,this.renderer=u,this.el=f,this.commands=null,this.onChanges=new d.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const r=this.renderer,a=this.el.nativeElement;null!==e?r.setAttribute(a,"tabindex",e):r.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Mg(this.skipLocationChange),replaceUrl:Mg(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mg(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Sr),l.Y36(cd),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),sf=(()=>{class n{constructor(e,r,a){this.router=e,this.route=r,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new d.x,this.subscription=e.events.subscribe(u=>{u instanceof Ey&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,a,u,f){if(0!==e||r||a||u||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const y={skipLocationChange:Mg(this.skipLocationChange),replaceUrl:Mg(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Mg(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Sr),l.Y36(cd),l.Y36(W))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&e&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Mg(n){return""===n||!!n}class XA{}class ex{preload(t,e){return Je(null)}}let tx=(()=>{class n{constructor(e,r,a,u){this.router=e,this.injector=a,this.preloadingStrategy=u,this.loader=new QA(a,r,E=>e.triggerEvent(new aA(E)),E=>e.triggerEvent(new lA(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(un(e=>e instanceof Ey),fi(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const a=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;a.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?a.push(this.preloadConfig(e,u)):u.children&&a.push(this.processRoutes(e,u.children));return(0,mn.D)(a).pipe((0,CE.J)(),(0,Ze.U)(u=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Je(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Mn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Sr),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(XA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),UD=(()=>{class n{constructor(e,r,a={}){this.router=e,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ED?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ey&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof cA&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new cA(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const af=new l.OlP("ROUTER_CONFIGURATION"),nx=new l.OlP("ROUTER_FORROOT_GUARD"),dO=[ge,{provide:vA,useClass:CA},{provide:Sr,useFactory:function mO(n,t,e,r,a,u,f={},y,E){const S=new Sr(null,n,t,e,r,a,hA(u));return y&&(S.urlHandlingStrategy=y),E&&(S.routeReuseStrategy=E),function _O(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(f,S),f.enableTracing&&S.events.subscribe(R=>{var O,j;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(j=console.groupEnd)||void 0===j||j.call(console)}),S},deps:[vA,Ay,ge,l.zs3,l.Sil,LD,af,[class tO{},new l.FiY],[class JR{},new l.FiY]]},Ay,{provide:cd,useFactory:function yO(n){return n.routerState.root},deps:[Sr]},tx,ex,class uO{preload(t,e){return e().pipe(ws(()=>Je(null)))}},{provide:af,useValue:{enableTracing:!1}}];function hO(){return new l.PXZ("Router",Sr)}let rx=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[dO,ix(e),{provide:nx,useFactory:gO,deps:[[Sr,new l.FiY,new l.tp0]]},{provide:af,useValue:r||{}},{provide:W,useFactory:pO,deps:[te,[new l.tBr(Te),new l.FiY],af]},{provide:UD,useFactory:fO,deps:[Sr,Oa,af]},{provide:XA,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ex},{provide:l.PXZ,multi:!0,useFactory:hO},[VD,{provide:l.ip1,multi:!0,useFactory:vO,deps:[VD]},{provide:sx,useFactory:CO,deps:[VD]},{provide:l.tb,multi:!0,useExisting:sx}]]}}static forChild(e){return{ngModule:n,providers:[ix(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(nx,8),l.LFG(Sr,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function fO(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new UD(n,t,e)}function pO(n,t,e={}){return e.useHash?new le(n,t):new xe(n,t)}function gO(n){return"guarded"}function ix(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:LD,multi:!0,useValue:n}]}let VD=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new d.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(y=>r=y),u=this.injector.get(Sr),f=this.injector.get(af);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Je(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),a})}bootstrapListener(e){const r=this.injector.get(af),a=this.injector.get(tx),u=this.injector.get(UD),f=this.injector.get(Sr),y=this.injector.get(l.z2F);e===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),a.setUpPreloading(),u.init(),f.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function vO(n){return n.appInitializer.bind(n)}function CO(n){return n.bootstrapListener.bind(n)}const sx=new l.OlP("Router Initializer");function wO(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1)(1,"ul")(2,"li")(3,"button"),l.O4$(),l.TgZ(4,"svg",2),l._UZ(5,"path",3),l.qZA(),l.kcU(),l.TgZ(6,"span"),l._uU(7,"My account"),l.qZA()()(),l.TgZ(8,"li")(9,"button",4),l.NdJ("click",function(){return l.CHM(e),l.oxw().onLogOut()}),l.O4$(),l.TgZ(10,"svg",5)(11,"g",6)(12,"g",7),l._UZ(13,"rect",8)(14,"path",9)(15,"path",10),l.qZA()()(),l.kcU(),l.TgZ(16,"span"),l._uU(17,"Log out"),l.qZA()()()()()}}let bO=(()=>{class n{constructor(e,r,a){this.store=e,this.router=r,this.headerDropdownService=a,this.opened=!1}ngOnInit(){this.headerDropdownService.dropdownControl.subscribe(e=>{this.opened=e})}onLogOut(){this.store.dispatch(new Kx),this.store.dispatch(new Qx),this.store.dispatch(new CS)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi),l.Y36(Sr),l.Y36(yD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header-dropdown"]],decls:1,vars:1,consts:[["class","dropdown_wrapper dropdown_wrapper_header",4,"ngIf"],[1,"dropdown_wrapper","dropdown_wrapper_header"],["width","24px","height","24px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M16.0724 4.02447C15.1063 3.04182 13.7429 2.5 12.152 2.5C10.5611 2.5 9.19773 3.04182 8.23167 4.02447C7.26636 5.00636 6.73644 6.38891 6.73644 8C6.73644 10.169 7.68081 11.567 8.8496 12.4062C9.07675 12.5692 9.3115 12.7107 9.54832 12.8327C8.24215 13.1916 7.18158 13.8173 6.31809 14.5934C4.95272 15.8205 4.10647 17.3993 3.53633 18.813C3.43305 19.0691 3.55693 19.3604 3.81304 19.4637C4.06914 19.567 4.36047 19.4431 4.46375 19.187C5.00642 17.8414 5.78146 16.4202 6.98653 15.3371C8.1795 14.265 9.82009 13.5 12.152 13.5C14.332 13.5 15.9058 14.1685 17.074 15.1279C18.252 16.0953 19.0453 17.3816 19.6137 18.6532C19.9929 19.5016 19.3274 20.5 18.2827 20.5H6.74488C6.46874 20.5 6.24488 20.7239 6.24488 21C6.24488 21.2761 6.46874 21.5 6.74488 21.5H18.2827C19.9348 21.5 21.2479 19.8588 20.5267 18.2452C19.9232 16.8952 19.0504 15.4569 17.7087 14.3551C16.9123 13.7011 15.9603 13.1737 14.8203 12.8507C15.43 12.5136 15.9312 12.0662 16.33 11.5591C17.1929 10.462 17.5676 9.10016 17.5676 8C17.5676 6.38891 17.0377 5.00636 16.0724 4.02447ZM15.3593 4.72553C16.1144 5.49364 16.5676 6.61109 16.5676 8C16.5676 8.89984 16.2541 10.038 15.544 10.9409C14.8475 11.8265 13.7607 12.5 12.152 12.5C11.5014 12.5 10.3789 12.2731 9.43284 11.5938C8.51251 10.933 7.73644 9.83102 7.73644 8C7.73644 6.61109 8.18963 5.49364 8.94477 4.72553C9.69916 3.95818 10.7935 3.5 12.152 3.5C13.5105 3.5 14.6049 3.95818 15.3593 4.72553Z","fill","black"],[3,"click"],["width","24px","height","24px","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"log_out_svg"],["data-name","Layer 2"],["data-name","log-out"],["transform","rotate(90 12 12)"],["d","M7 6a1 1 0 0 0 0-2H5a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h2a1 1 0 0 0 0-2H6V6z"],["d","M20.82 11.42l-2.82-4a1 1 0 0 0-1.39-.24 1 1 0 0 0-.24 1.4L18.09 11H10a1 1 0 0 0 0 2h8l-1.8 2.4a1 1 0 0 0 .2 1.4 1 1 0 0 0 .6.2 1 1 0 0 0 .8-.4l3-4a1 1 0 0 0 .02-1.18z"]],template:function(e,r){1&e&&l.YNc(0,wO,18,0,"div",0),2&e&&l.Q6J("ngIf",r.opened)},directives:[sn],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;display:flex}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:block}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;display:flex!important;align-items:center;background-color:var(--base-color);border:none}span[_ngcontent-%COMP%]{display:block;margin-left:7px}.log_out_svg[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),n})();const IO=["headerDropdownController"],DO=function(){return{page:1}};let TO=(()=>{class n{constructor(e,r){this.headerDropdownService=e,this.renderer=r}ngOnInit(){this.pageRenderer=this.renderer.listen("window","click",e=>{this.headerDropdownService.opened&&!this.headerDropdownController.nativeElement.contains(e.target)&&this.headerDropdownService.onDropdownControl(!1)})}ngOnDestroy(){this.pageRenderer()}onDropdown(){this.headerDropdownService.onDropdownControl()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yD),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],viewQuery:function(e,r){if(1&e&&l.Gf(IO,5),2&e){let a;l.iGM(a=l.CRH())&&(r.headerDropdownController=a.first)}},decls:19,vars:2,consts:[[1,"header"],[1,"header_left"],["routerLink","",1,"logo_holder",3,"queryParams"],["src","assets/images/mvmt_logo_white.png","alt","MVMT Logo"],[1,"header_right"],[1,"svg_link","header_link",3,"click"],["headerDropdownController",""],["fill","#ffffff","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg"],["d","M7 10l5 5 5-5"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"a",2),l._UZ(3,"img",3),l.TgZ(4,"div")(5,"h6"),l._uU(6,"MANAGEMENT"),l.qZA(),l.TgZ(7,"h6"),l._uU(8,"SYSTEM"),l.qZA()()()(),l.TgZ(9,"div",4)(10,"ul")(11,"li")(12,"button",5,6),l.NdJ("click",function(){return r.onDropdown()}),l._uU(14," ACCOUNT "),l.O4$(),l.TgZ(15,"svg",7)(16,"g"),l._UZ(17,"path",8),l.qZA()()(),l.kcU(),l._UZ(18,"app-header-dropdown"),l.qZA()()()()),2&e&&(l.xp6(2),l.Q6J("queryParams",l.DdM(1,DO)))},directives:[sf,bO],styles:[".header[_ngcontent-%COMP%]{position:fixed;background-color:var(--secondery-color);width:100%;display:flex;justify-content:space-between;align-items:center;z-index:99}.header_left[_ngcontent-%COMP%]{display:flex}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;display:flex}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:block}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{display:block;cursor:pointer;text-transform:uppercase}.header_link[_ngcontent-%COMP%]{position:relative;display:inline-flex;text-transform:uppercase;background-color:transparent;font-family:var(--side-font);font-weight:700;color:var(--base-color);border:none;padding:32px 42px;font-size:14px;transition:.2s ease-in-out;overflow:hidden;z-index:2}.header_link[_ngcontent-%COMP%]:hover, .header_link[_ngcontent-%COMP%]:focus-visible{text-decoration:underline}.header_link[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{position:absolute;width:100%;height:8px;top:100%;left:0%;background-color:var(--base-color);transition:.2s ease-in-out;z-index:1}.active_link[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{top:calc(100% - 8px)}.sign_up_link[_ngcontent-%COMP%]{background-color:var(--dark-pink);color:var(--base-color)}.logo_holder[_ngcontent-%COMP%]{width:260px;display:inline-flex;justify-content:center;align-items:center}.logo_holder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-end}.logo_holder[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:block;color:var(--base-color);font-family:var(--side-font);font-size:7px;font-weight:600;margin:0}img[_ngcontent-%COMP%]{display:block;width:144px}@media only screen and (max-width: 1365px){.header_link[_ngcontent-%COMP%]{padding:24px 34px}.logo_holder[_ngcontent-%COMP%]{width:220px}img[_ngcontent-%COMP%]{width:112px}.logo_holder[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:6px}}"]}),n})(),SO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-main"]],decls:2,vars:0,consts:[[1,"page_content"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"router-outlet"),l.qZA())},directives:[PD],styles:[""]}),n})(),AO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"footer"],[1,"logo_wrapper"],["src","assets/images/mvmt_logo_white.png","alt","mvmt-logo"],[1,"site_arr"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"p",3),l._uU(4,"MVMT MANAGMENT SYSTEM, ARR 2022."),l.qZA()())},styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:var(--secondery-color);padding:14px;text-transform:uppercase}.logo_wrapper[_ngcontent-%COMP%]{margin-right:28px}.logo_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:96px}.site_arr[_ngcontent-%COMP%]{font-family:inherit;font-size:12px;color:var(--base-color);margin:0}"]}),n})();function xO(n,t){1&n&&l._UZ(0,"app-log-in")}function MO(n,t){1&n&&(l.TgZ(0,"div",2),l._UZ(1,"app-header")(2,"app-main",3)(3,"app-footer"),l.qZA())}let RO=(()=>{class n{constructor(e,r){this.store=e,this.appService=r,this.title="MVMT-MS",this.loggedIn=!1}ngOnInit(){this.store.select("authentication").subscribe(e=>{e&&e.error&&("NAN-SUCCESS"===e.error?this.appService.onLogIn():"NAN-TERMINATE"===e.error&&this.appService.onLogOut())}),this.store.dispatch(new Yx),this.loggedInSubscription=this.appService.loggedIn.subscribe(e=>{e?(this.onLoggedIn(),this.store.dispatch(new r1)):(this.onLoggedOut(),this.store.dispatch(new CS))})}onLoggedOut(){this.loggedIn=!1}onLoggedIn(){this.loggedIn=!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi),l.Y36(vy))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","main",4,"ngIf"],[1,"main"],[2,"flex","1"]],template:function(e,r){1&e&&(l.YNc(0,xO,1,0,"app-log-in",0),l.YNc(1,MO,4,0,"div",1)),2&e&&(l.Q6J("ngIf",!r.loggedIn),l.xp6(1),l.Q6J("ngIf",r.loggedIn))},directives:[sn,uM,TO,SO,AO],styles:[""]}),n})();class _c{constructor(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}observe(t){return ox(this,t)}do(t,e,r){const{kind:a,value:u,error:f}=this;return"N"===a?null==t?void 0:t(u):"E"===a?null==e?void 0:e(f):null==r?void 0:r()}accept(t,e,r){var a;return(0,Vn.m)(null===(a=t)||void 0===a?void 0:a.next)?this.observe(t):this.do(t,e,r)}toObservable(){const{kind:t,value:e,error:r}=this,a="N"===t?Je(e):"E"===t?Cy(()=>r):"C"===t?ef.E:0;if(!a)throw new TypeError(`Unexpected notification kind ${t}`);return a}static createNext(t){return new _c("N",t)}static createError(t){return new _c("E",void 0,t)}static createComplete(){return _c.completeNotification}}function ox(n,t){var e,r,a;const{kind:u,value:f,error:y}=n;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(e=t.next)||void 0===e||e.call(t,f):"E"===u?null===(r=t.error)||void 0===r||r.call(t,y):null===(a=t.complete)||void 0===a||a.call(t)}function ax(n,t,e,r){return(0,yn.e)((a,u)=>{let f;t&&"function"!=typeof t?({duration:e,element:f,connector:r}=t):f=t;const y=new Map,E=ce=>{y.forEach(ce),ce(u)},S=ce=>E(Ue=>Ue.error(ce));let R=0,O=!1;const j=new xt.Q(u,ce=>{try{const Ue=n(ce);let ke=y.get(Ue);if(!ke){y.set(Ue,ke=r?r():new d.x);const tt=function q(ce,Ue){const ke=new Sn.y(tt=>{R++;const ut=Ue.subscribe(tt);return()=>{ut.unsubscribe(),0==--R&&O&&j.unsubscribe()}});return ke.key=ce,ke}(Ue,ke);if(u.next(tt),e){const ut=(0,xt.x)(ke,()=>{ke.complete(),null==ut||ut.unsubscribe()},void 0,void 0,()=>y.delete(Ue));j.add((0,At.Xf)(e(tt)).subscribe(ut))}}ke.next(f?f(ce):ce)}catch(Ue){S(Ue)}},()=>E(ce=>ce.complete()),S,()=>y.clear(),()=>(O=!0,0===R));a.subscribe(j)})}function BD(n,t){return t?e=>e.pipe(BD((r,a)=>(0,At.Xf)(n(r,a)).pipe((0,Ze.U)((u,f)=>t(r,u,a,f))))):(0,yn.e)((e,r)=>{let a=0,u=null,f=!1;e.subscribe((0,xt.x)(r,y=>{u||(u=(0,xt.x)(r,void 0,()=>{u=null,f&&r.complete()}),(0,At.Xf)(n(y,a++)).subscribe(u))},()=>{f=!0,!u&&r.complete()}))})}_c.completeNotification=new _c("C");const lx={dispatch:!0,useEffectsErrorHandler:!0},LE="__@ngrx/effects_create__";function NO(n){return Object.getOwnPropertyNames(n).filter(r=>!(!n[r]||!n[r].hasOwnProperty(LE))&&n[r][LE].hasOwnProperty("dispatch")).map(r=>Object.assign({propertyName:r},n[r][LE]))}function jD(n){return Object.getPrototypeOf(n)}const UE="__@ngrx/effects__";function vi(n={}){return function(t,e){!function LO(n,t){cx(n)?n.constructor[UE].push(t):Object.defineProperty(n.constructor,UE,{value:[t]})}(t,Object.assign(Object.assign(Object.assign({},lx),n),{propertyName:e}))}}function FO(n){return lD(UO,jD)(n)}function cx(n){return n.constructor.hasOwnProperty(UE)}function UO(n){return cx(n)?n.constructor[UE]:[]}function VO(n,t,e){const r=jD(n).constructor.name,a=function ux(n){return[FO,NO].reduce((e,r)=>e.concat(r(n)),[])}(n).map(({propertyName:u,dispatch:f,useEffectsErrorHandler:y})=>{const E="function"==typeof n[u]?n[u]():n[u],S=y?e(E,t):E;return!1===f?S.pipe(function OO(){return(0,yn.e)((n,t)=>{n.subscribe((0,xt.x)(t,Gm.Z))})}()):S.pipe(function PO(){return(0,yn.e)((n,t)=>{n.subscribe((0,xt.x)(t,e=>{t.next(_c.createNext(e))},()=>{t.next(_c.createComplete()),t.complete()},e=>{t.next(_c.createError(e)),t.complete()}))})}()).pipe((0,Ze.U)(O=>({effect:n[u],notification:O,propertyName:u,sourceName:r,sourceInstance:n})))});return(0,uh.T)(...a)}function dx(n,t,e=10){return n.pipe(ws(r=>(t&&t.handleError(r),e<=1?n:dx(n,t,e-1))))}let HD=(()=>{class n extends Sn.y{constructor(e){super(),e&&(this.source=e)}lift(e){const r=new n;return r.source=this,r.operator=e,r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ci(...n){return un(t=>n.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}function YO(n){return $D(n,"ngrxOnInitEffects")}function $D(n,t){return n&&t in n&&"function"==typeof n[t]}const hx=new l.OlP("@ngrx/effects Internal Root Guard"),VE=new l.OlP("@ngrx/effects User Provided Effects"),GD=new l.OlP("@ngrx/effects Internal Root Effects"),fx=new l.OlP("@ngrx/effects Root Effects"),px=new l.OlP("@ngrx/effects Internal Feature Effects"),gx=new l.OlP("@ngrx/effects Feature Effects"),mx=new l.OlP("@ngrx/effects Effects Error Handler");let zD=(()=>{class n extends d.x{constructor(e,r){super(),this.errorHandler=e,this.effectsErrorHandler=r}addEffects(e){this.next(e)}toActions(){return this.pipe(ax(jD),(0,Mn.z)(e=>e.pipe(ax(QO))),(0,Mn.z)(e=>{const r=e.pipe(BD(u=>function JO(n,t){return e=>{const r=VO(e,n,t);return function qO(n){return $D(n,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(u)),(0,Ze.U)(u=>(function jO(n,t){if("N"===n.notification.kind){const e=n.notification.value;!function HO(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(e)&&t.handleError(new Error(`Effect ${function $O({propertyName:n,sourceInstance:t,sourceName:e}){const r="function"==typeof t[n];return`"${e}.${String(n)}${r?"()":""}"`}(n)} dispatched an invalid action: ${function GO(n){try{return JSON.stringify(n)}catch(t){return n}}(e)}`))}}(u,this.errorHandler),u.notification)),un(u=>"N"===u.kind&&null!=u.value),function kO(){return(0,yn.e)((n,t)=>{n.subscribe((0,xt.x)(t,e=>ox(e,t)))})}()),a=e.pipe((0,N.q)(1),un(YO),(0,Ze.U)(u=>u.ngrxOnInitEffects()));return(0,uh.T)(r,a)}))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.qLn),l.LFG(mx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function QO(n){return function WO(n){return $D(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let WD=(()=>{class n{constructor(e,r){this.effectSources=e,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zD),l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _x="@ngrx/effects/init";!function w1(n,t){if(_y[n]=(_y[n]||0)+1,"function"==typeof t)return nD(n,(...r)=>Object.assign(Object.assign({},t(...r)),{type:n}));switch(t?t._as:"empty"){case"empty":return nD(n,()=>({type:n}));case"props":return nD(n,r=>Object.assign(Object.assign({},r),{type:n}));default:throw new Error("Unexpected config.")}}(_x);let yx=(()=>{class n{constructor(e,r,a,u,f,y,E){this.sources=e,r.start(),u.forEach(S=>e.addEffects(S)),a.dispatch({type:_x})}addEffects(e){this.sources.addEffects(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zD),l.LFG(WD),l.LFG(yi),l.LFG(fx),l.LFG(vE,8),l.LFG(_D,8),l.LFG(hx,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),XO=(()=>{class n{constructor(e,r,a,u){r.forEach(f=>f.forEach(y=>e.addEffects(y)))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yx),l.LFG(gx),l.LFG(vE,8),l.LFG(_D,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),eP=(()=>{class n{static forFeature(e=[]){return{ngModule:XO,providers:[e,{provide:px,multi:!0,useValue:e},{provide:VE,multi:!0,useValue:[]},{provide:gx,multi:!0,useFactory:vx,deps:[l.zs3,px,VE]}]}}static forRoot(e=[]){return{ngModule:yx,providers:[{provide:mx,useValue:dx},WD,zD,HD,e,{provide:GD,useValue:[e]},{provide:hx,useFactory:nP,deps:[[WD,new l.FiY,new l.tp0],[GD,new l.PiD]]},{provide:VE,multi:!0,useValue:[]},{provide:fx,useFactory:vx,deps:[l.zs3,GD,VE]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function vx(n,t,e){const r=[];for(const a of t)r.push(...a);for(const a of e)r.push(...a);return function tP(n,t){return t.map(e=>n.get(e))}(n,r)}function nP(n,t){if((1!==t.length||0!==t[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}class rP{constructor(t,e,r,a){this.email=t,this.id=e,this._token=r,this._tokenExpirationDate=a}get token(){return!this._tokenExpirationDate||new Date>this._tokenExpirationDate?null:this._token}}function ZD(n,t){switch(n){case"SORT_N":return t.sort((e,r)=>e.name[0]<r.name[0]?-1:e.name[0]>r.name[0]?1:0);case"SORT_LH":return t.sort((e,r)=>e.price-r.price);case"SORT_HL":return t.sort((e,r)=>r.price-e.price);default:return t}}function Cx(n){return n.replace(/(?<=\s|^)./g,t=>t.toUpperCase())}function Ex(n,t){const e=t[n.firstIndex];return t[n.firstIndex]=t[n.secondIndex],t[n.secondIndex]=e,t}const sP={error:null,loading:!1,loadingSearch:!1,products:null,selectedProduct:null,productsInPreview:null,searchedProducts:null,pageInfo:null,editMode:!1,sort:null},aP={authentication:function iP(n,t){switch(t.type){case sS:return Object.assign(Object.assign({},n),{user:null,error:null,loading:!1});case BI:case jI:return Object.assign(Object.assign({},n),{user:null,error:null,loading:!0});case nS:const e=new rP(t.payload.email,t.payload.id,t.payload.token,t.payload.expirationDate);return Object.assign(Object.assign({},n),{user:e,error:"NAN-SUCCESS",loading:!1});case rS:return Object.assign(Object.assign({},n),{user:null,error:t.payload,loading:!1});case iS:return localStorage.removeItem("userData"),Object.assign(Object.assign({},n),{user:null,error:"NAN-TERMINATE",loading:!1});default:return n}},store:function oP(n=sP,t){switch(t.type){case HI:return Object.assign(Object.assign({},n),{loading:!0,error:null});case $I:case GI:return Object.assign({},n);case zI:var e=[...n.products,t.payload];return n.sort&&(e=ZD(n.sort,e)),Object.assign(Object.assign({},n),{loading:!1,error:null,products:e});case lS:return Object.assign(Object.assign({},n),{loading:!1,error:t.payload});case WI:return Object.assign(Object.assign({},n),{error:null,products:[],loading:!0});case cS:return Object.assign(Object.assign({},n),{error:null,products:[...t.payload],loading:!1});case uS:return Object.assign(Object.assign({},n),{error:t.payload,products:[],loading:!1});case dS:return Object.assign(Object.assign({},n),{error:null,editMode:!1,products:[],productsInPreview:null,selectedProduct:null,searchedProducts:null,pageInfo:null,loading:!1,sort:null});case ZI:return Object.assign({},n);case hS:var j=[...n.products],r=[],u=t.payload.lastIndex;u>j.length&&(u=j.length);for(let ke=t.payload.firstIndex;ke<u;++ke)r.push(j[ke]);const ce=Math.ceil(j.length/8);var f={page:t.payload.page,nextPage:t.payload.nextPage,previousPage:t.payload.previousPage,firstIndex:t.payload.firstIndex,lastIndex:t.payload.lastIndex,maxPage:ce};return Object.assign(Object.assign({},n),{pageInfo:f,productsInPreview:r});case qI:return Object.assign(Object.assign({},n),{loading:!0,error:null});case KI:var y=[...n.products];return y=y.filter((ke,tt)=>tt!==t.payload),Object.assign(Object.assign({},n),{loading:!1,error:null,products:y});case fS:return Object.assign(Object.assign({},n),{loading:!1,error:t.payload});case YI:return Object.assign(Object.assign({},n),{loading:!0,error:null,editMode:!0});case QI:case JI:return Object.assign({},n);case pS:var E=[...n.products];E[t.payload.id]=t.payload.product,n.sort&&(E=ZD(n.sort,E));var S={product:t.payload.product,id:t.payload.id};return Object.assign(Object.assign({},n),{error:null,loading:!1,products:E,selectedProduct:S,editMode:!1});case gS:return Object.assign(Object.assign({},n),{loading:!1,error:t.payload});case mS:const Ue=t.payload;j=[...n.products];var R={product:null,id:null,notfound:!0};return j.filter((ke,tt)=>{ke.productKey==Ue&&(R={product:ke,id:tt,notfound:!1})}),Object.assign(Object.assign({},n),{selectedProduct:R});case _S:return Object.assign(Object.assign({},n),{selectedProduct:null});case XI:return Object.assign(Object.assign({},n),{loading:!0});case eD:j=[...n.products],j=ZD(t.payload,j);var O=[];for(let ke=0;ke<8;++ke)O.push(j[ke]);return Object.assign(Object.assign({},n),{loading:!1,products:j,productsInPreview:O,sort:t.payload});case tD:return Object.assign(Object.assign({},n),{loadingSearch:!0,searchedProducts:null});case yS:j=[...n.products];var q=null;return t.payload&&(q=j.filter(ke=>{var tt=new RegExp(t.payload,"ig");return ke.name.match(tt)}).slice(0,12)),q&&0==q.length&&(q=null),Object.assign(Object.assign({},n),{loadingSearch:!1,searchedProducts:q});case vS:return Object.assign(Object.assign({},n),{loadingSearch:!1,searchedProducts:null});default:return n}}};var Ei=P(655);class dd{constructor(t,e,r){this.actions=t,this.http=e,this.router=r,this.authLogIn=this.actions.pipe(Ci(BI),dn(a=>this.http.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyAhRmkIP3wlit8NCVjOO3g8iZWDoZO5te4",{email:a.payload.email,password:a.payload.password,returnSecureToken:!0}).pipe((0,Ze.U)(u=>this.HandleLogIn(u)),ws(u=>Je(new aS(this.HandleError(u))))))),this.authAutoLogIn=this.actions.pipe(Ci(jI),(0,N.q)(1),(0,Ze.U)(()=>{let a=localStorage.getItem("userData");if(a){a=JSON.parse(a);const u=new Date(a.expiresIn);return new oS({email:a.email,id:a.localId,token:a.idToken,expirationDate:u})}return new aS("")}))}HandleLogIn(t){localStorage.setItem("userData",JSON.stringify(t));const e=new Date(t.expiresIn);return new oS({email:t.email,id:t.localId,token:t.idToken,expirationDate:e})}HandleError(t){switch(t.error.error.message){case"EMAIL_NOT_FOUND":return"No acount with this E-mail was found.";case"INVALID_PASSWORD":return"Incorrect password.";default:return"Something went wrong."}}}dd.\u0275fac=function(t){return new(t||dd)(l.LFG(HD),l.LFG(Wd),l.LFG(Sr))},dd.\u0275prov=l.Yz7({token:dd,factory:dd.\u0275fac}),(0,Ei.gn)([vi()],dd.prototype,"authLogIn",void 0),(0,Ei.gn)([vi()],dd.prototype,"authAutoLogIn",void 0);let qD=(()=>{class n{constructor(e){this.router=e}canActivate(e,r){const a=JSON.parse(localStorage.getItem("userData"));return!(!a||!a.idToken)||this.router.createUrlTree([""])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Sr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),wx=(()=>{class n{constructor(e,r){this.elementRef=e,this.renderer=r}onClick(){const e=this.elementRef.nativeElement;let r=e.attributes.visible.value;"false"===r?(e.attributes.visible.value="true",this.renderer.addClass(e,"dropdown_visible")):"true"===r&&(e.attributes.visible.value="false",this.renderer.removeClass(e,"dropdown_visible"))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","dropdown",""]],hostBindings:function(e,r){1&e&&l.NdJ("click",function(){return r.onClick()})}}),n})();const lP=["fileUploader"];function cP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",37)(1,"button",38),l.NdJ("click",function(){const u=l.CHM(e).index;return l.oxw().onSelectImagePreview(u)}),l._UZ(2,"img",39),l.qZA(),l.TgZ(3,"button",40),l.NdJ("click",function(){const u=l.CHM(e).index;return l.oxw().onRemoveImage(u)}),l._uU(4,"x"),l.qZA()()}if(2&n){const e=t.index,r=l.oxw();l.xp6(1),l.Q6J("disabled",r.loading),l.xp6(1),l.s9C("src",r.selectedImagesPreview[e],l.LSH),l.xp6(1),l.Q6J("disabled",r.loading)}}function uP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",41),l.NdJ("dragover",function(a){return l.CHM(e),l.oxw().onColorDrag(a)})("drop",function(a){return l.CHM(e),l.oxw().onColorDrop(a)})("mouseenter",function(){const u=l.CHM(e).index;return l.oxw().toColorSwap.firstIndex=u}),l._uU(1),l._UZ(2,"div",42),l.TgZ(3,"button",40),l.NdJ("click",function(){const u=l.CHM(e).$implicit;return l.oxw().onRemoveColor(u)}),l._uU(4,"x"),l.qZA()()}if(2&n){const e=t.$implicit,r=t.index,a=l.oxw();l.uIk("colorIndex",r),l.xp6(1),l.hij(" ",a.productColors[e].name," "),l.xp6(1),l.Jzz("background-image: url(",a.productColors[e].image,");"),l.xp6(1),l.Q6J("disabled",a.loading)}}function dP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",43),l.NdJ("click",function(){const u=l.CHM(e).index;return l.oxw().onAddColor(u)}),l._uU(1),l._UZ(2,"img",44),l.qZA()}if(2&n){const e=t.$implicit,r=l.oxw();l.Q6J("disabled",r.loading),l.xp6(1),l.hij(" ",e.name," "),l.xp6(1),l.s9C("src",e.image,l.LSH)}}function hP(n,t){if(1&n&&(l.TgZ(0,"div",45),l.O4$(),l.TgZ(1,"svg",46),l._UZ(2,"path",47),l.qZA(),l.kcU(),l.TgZ(3,"p",48),l._uU(4),l.qZA()()),2&n){const e=l.oxw();l.xp6(4),l.Oqu(e.formErrorText)}}function fP(n,t){1&n&&(l.TgZ(0,"a",49),l._uU(1,"Cancel"),l.qZA())}let pP=(()=>{class n{constructor(e,r){this.appService=e,this.store=r,this.productColors=[],this.selectedColors=[],this.toColorSwap={firstIndex:null,secondIndex:null},this.selectedImagesPreview=[],this.selectedImages=[],this.formError=!1,this.formErrorText="Error",this.previewedImage="assets/images/watch_BCK_grey.jpg",this.loading=!1}ngOnInit(){this.productColors=this.appService.productColors,this.createSubscription=this.store.select("store").subscribe(e=>{e&&(this.loading=e.loading)})}ngOnDestroy(){this.createSubscription.unsubscribe()}openFileUploader(){this.fileUploader.nativeElement.click()}onAddImage(e){const r=new FileReader;r.readAsDataURL(e.target.files[0]),this.pushImage(e.target.files[0]),r.onload=a=>{this.pushImagePreview(a.target.result)}}pushImage(e){this.selectedImages.push(e)}pushImagePreview(e){this.selectedImagesPreview.push(e),1==this.selectedImagesPreview.length&&(this.previewedImage=e,this.previewedImageIndex=0)}onRemoveImage(e){this.selectedImages.splice(e,1),this.selectedImagesPreview.splice(e,1),0===this.selectedImagesPreview.length?this.previewedImage="assets/images/watch_BCK_grey.jpg":e==this.previewedImageIndex&&(e<=this.selectedImagesPreview.length-1?this.previewedImage=this.selectedImagesPreview[e]:e==this.selectedImagesPreview.length&&(this.previewedImage=this.selectedImagesPreview[e-1]))}onSelectImagePreview(e){this.previewedImage=this.selectedImagesPreview[e],this.previewedImageIndex=e}onAddColor(e){this.selectedColors.includes(e)||this.selectedColors.push(e)}onRemoveColor(e){this.selectedColors.splice(this.selectedColors.indexOf(e),1)}onColorDrag(e){e.preventDefault()}onColorDrop(e){this.toColorSwap.secondIndex=+e.target.attributes.colorIndex.value,this.toColorSwap.firstIndex!=this.toColorSwap.secondIndex&&(this.selectedColors=Ex(this.toColorSwap,this.selectedColors))}OnSubmit(e){if("VALID"===e.form.status)if(this.formError=!1,this.formErrorText="",this.selectedColors.length<1)this.formErrorText="At least one color must be selected.",this.formError=!0;else if(this.selectedImagesPreview.length<1)this.formErrorText="At least one image must be uploaded.",this.formError=!0;else{const a={name:Cx(e.form.value.name),price:e.form.value.price,colors:[...this.selectedColors],target:e.form.value.target,privecy:e.form.value.privecy,imagesFile:[...this.selectedImages]};this.store.dispatch(new Jx(a))}else if("INVALID"===e.form.status)for(var r of Object.values(e.form.controls))if("INVALID"===r.status){if(r.errors.required){this.formErrorText="Required field, All inputs must be filled.",this.formError=!0;break}r.errors.pattern&&(this.formErrorText="Wrong input pattern.",this.formError=!0)}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vy),l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-create"]],viewQuery:function(e,r){if(1&e&&l.Gf(lP,5),2&e){let a;l.iGM(a=l.CRH())&&(r.fileUploader=a.first)}},decls:63,vars:24,consts:[[3,"ngSubmit"],["addItemForm","ngForm"],[1,"create_content"],[1,"images_section"],[1,"image_preview_wrapper"],["alt","product preview",3,"src"],[1,"selectedImages"],["class","selectedImage_wrapper",4,"ngFor","ngForOf"],["type","file",3,"disabled","change"],["fileUploader",""],["type","button",1,"svg","uplaod_image_btn",3,"disabled","click"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 42 42",0,"xml","space","preserve",2,"enable-background","new 0 0 42 42"],["points","42,20 22,20 22,0 20,0 20,20 0,20 0,22 20,22 20,42 22,42 22,22 42,22 "],[1,"data_section"],[1,"input_wrapper"],["for","name",1,"requerired_input_label"],["type","text","name","name","required","","ngModel","",3,"disabled"],["for","price",1,"requerired_input_label"],["type","text","name","price","ngModel","","pattern","[0-9]*","required","",3,"disabled"],["for","colors",1,"requerired_input_label"],[1,"selectedColors_wrapper"],["class","selectedColor","draggable","true",3,"dragover","drop","mouseenter",4,"ngFor","ngForOf"],["visible","false","dropdown","",1,"colors_btn_dropdown"],["type","button",1,"svg","add_color_btn",3,"disabled"],[1,"colors_list"],["type","button","class","color_btn",3,"disabled","click",4,"ngFor","ngForOf"],["for","target",1,"requerired_input_label"],[1,"radio_label"],["type","radio","value","male","name","target","required","","ngModel","",3,"disabled"],["type","radio","value","female","name","target","ngModel","",3,"disabled"],["for","privecy",1,"requerired_input_label"],["type","radio","value","published","name","privecy","required","","ngModel","",3,"disabled"],["type","radio","value","hidden","name","privecy","ngModel","",3,"disabled"],["class","svg_error form_error_wrapper",4,"ngIf"],[1,"form_controls"],["routerLink","",4,"ngIf"],["type","submit",1,"form_submit",3,"disabled"],[1,"selectedImage_wrapper"],["type","button",1,"selectedImage",3,"disabled","click"],["alt","selected image",3,"src"],["type","button",1,"delete_color_btn",3,"disabled","click"],["draggable","true",1,"selectedColor",3,"dragover","drop","mouseenter"],[1,"color_image_box"],["type","button",1,"color_btn",3,"disabled","click"],["alt","color image",3,"src"],[1,"svg_error","form_error_wrapper"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","200px","height","200px","viewBox","796 698.08 200 200","enable-background","new 796 698.08 200 200",0,"xml","space","preserve"],["d","M994.47,869.072L905.896,715.66c-2.041-3.535-5.813-5.713-9.896-5.713c-4.083,0-7.854,2.178-9.896,5.713l-88.573,153.412  c-2.041,3.536-2.041,7.892,0,11.427c2.041,3.536,5.813,5.714,9.896,5.714h177.147c4.083,0,7.854-2.178,9.896-5.714  C996.511,876.963,996.511,872.608,994.47,869.072z M896,870.253c-7.22,0-13.072-5.852-13.072-13.071  c0-7.221,5.852-13.072,13.072-13.072c7.221,0,13.072,5.852,13.072,13.072C909.072,864.402,903.221,870.253,896,870.253z   M910.58,765.235l-7.793,62.267c-0.469,3.748-3.889,6.407-7.637,5.938c-3.168-0.396-5.557-2.908-5.938-5.938l-7.793-62.267  c-1.007-8.053,4.703-15.397,12.755-16.405c8.053-1.007,15.397,4.703,16.405,12.756C910.732,762.8,910.719,764.072,910.58,765.235z"],[1,"form_error"],["routerLink",""]],template:function(e,r){if(1&e){const a=l.EpF();l.TgZ(0,"form",0,1),l.NdJ("ngSubmit",function(){l.CHM(a);const f=l.MAs(1);return r.OnSubmit(f)}),l.TgZ(2,"div",2)(3,"div",3)(4,"div",4),l._UZ(5,"img",5),l.qZA(),l.TgZ(6,"div",6),l.YNc(7,cP,5,3,"div",7),l.qZA(),l.TgZ(8,"input",8,9),l.NdJ("change",function(f){return r.onAddImage(f)}),l.qZA(),l.TgZ(10,"div")(11,"button",10),l.NdJ("click",function(){return r.openFileUploader()}),l._uU(12," Upload image "),l.O4$(),l.TgZ(13,"svg",11),l._UZ(14,"polygon",12),l.qZA()()()(),l.kcU(),l.TgZ(15,"div",13)(16,"div",14)(17,"label",15),l._uU(18,"Product name"),l.qZA(),l._UZ(19,"input",16),l.qZA(),l.TgZ(20,"div",14)(21,"label",17),l._uU(22,"Product price (USD)"),l.qZA(),l._UZ(23,"input",18),l.qZA(),l.TgZ(24,"div",14)(25,"label",19),l._uU(26,"Product colors"),l.qZA(),l.TgZ(27,"div",20),l.YNc(28,uP,5,6,"div",21),l.qZA(),l.TgZ(29,"div",22)(30,"button",23),l._uU(31," Add color "),l.O4$(),l.TgZ(32,"svg",11),l._UZ(33,"polygon",12),l.qZA()(),l.kcU(),l.TgZ(34,"div",24),l.YNc(35,dP,3,3,"button",25),l.qZA()()(),l.TgZ(36,"div",14)(37,"label",26),l._uU(38,"Product target"),l.qZA(),l.TgZ(39,"div")(40,"label",27),l._UZ(41,"input",28),l._uU(42,"Male"),l.qZA()(),l.TgZ(43,"div")(44,"label",27),l._UZ(45,"input",29),l._uU(46,"Female"),l.qZA()()(),l.TgZ(47,"div",14)(48,"label",30),l._uU(49,"Product privecy"),l.qZA(),l.TgZ(50,"div")(51,"label",27),l._UZ(52,"input",31),l._uU(53,"Published"),l.qZA()(),l.TgZ(54,"div")(55,"label",27),l._UZ(56,"input",32),l._uU(57,"Hidden"),l.qZA()()(),l.YNc(58,hP,5,1,"div",33),l.TgZ(59,"div",34),l.YNc(60,fP,2,0,"a",35),l.TgZ(61,"button",36),l._uU(62,"Add item"),l.qZA()()()()()}2&e&&(l.xp6(5),l.s9C("src",r.previewedImage,l.LSH),l.xp6(2),l.Q6J("ngForOf",r.selectedImagesPreview),l.xp6(1),l.Q6J("disabled",r.loading),l.xp6(3),l.ekj("form_disabled_submit",r.loading),l.Q6J("disabled",r.loading),l.xp6(8),l.ekj("form_disabled_input",r.loading),l.Q6J("disabled",r.loading),l.xp6(4),l.ekj("form_disabled_input",r.loading),l.Q6J("disabled",r.loading),l.xp6(5),l.Q6J("ngForOf",r.selectedColors),l.xp6(2),l.Q6J("disabled",r.loading),l.xp6(5),l.Q6J("ngForOf",r.productColors),l.xp6(6),l.Q6J("disabled",r.loading),l.xp6(4),l.Q6J("disabled",r.loading),l.xp6(7),l.Q6J("disabled",r.loading),l.xp6(4),l.Q6J("disabled",r.loading),l.xp6(2),l.Q6J("ngIf",r.formError),l.xp6(2),l.Q6J("ngIf",!r.loading),l.xp6(1),l.ekj("form_disabled_submit",r.loading),l.Q6J("disabled",r.loading))},directives:[Za,Kr,za,Jt,ai,zs,Vs,Wa,ou,wx,Yr,sn,sf],styles:["input[type=file][_ngcontent-%COMP%]{display:none}.create_content[_ngcontent-%COMP%]{display:flex;width:1352px;margin:40px auto}.image_preview_wrapper[_ngcontent-%COMP%]{width:308px;height:308px}.image_preview_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:308px;height:308px;object-fit:cover}.selectedImages[_ngcontent-%COMP%]{width:308px;margin-top:14px;display:flex;flex-wrap:wrap}.selectedImage_wrapper[_ngcontent-%COMP%]{position:relative;margin-right:14.5px}.selectedImage_wrapper[_ngcontent-%COMP%]:nth-child(4n){margin-right:0}.selectedImage[_ngcontent-%COMP%]{background-color:transparent;border:none;border:1px var(--light-grey) solid;margin-bottom:14.5px}.selectedImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:cover}.uplaod_image_btn[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;margin-top:14px;width:308px;padding:14px;background-color:var(--secondery-color);border:none;color:var(--base-color);font-family:var(--main-font);font-weight:500;text-transform:uppercase}.uplaod_image_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;fill:var(--base-color);margin-left:7px}.data_section[_ngcontent-%COMP%]{margin-left:28px;border-left:1px var(--light-grey) solid;flex:1;padding-left:14px}.input_wrapper[_ngcontent-%COMP%]{margin-bottom:28px}.input_wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:0}.input_wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .input_wrapper[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{display:block;width:calc(100% - 14px);padding:4px 7px;border:1px var(--light-grey) solid;font-family:var(--main-font);font-size:inherit}.input_wrapper[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:inline-block}.radio_label[_ngcontent-%COMP%]{font-weight:500}.radio_label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:7px}.add_item_btn[_ngcontent-%COMP%]{display:block;width:90px;margin-left:auto;padding:7px;background-color:var(--secondery-color);border:none;color:var(--base-color)}.add_color_btn[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:125px;padding:7px 0;background-color:var(--light-grey);border:none;text-transform:uppercase;font-size:12px}.add_color_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;margin-left:7px;width:19px;height:19px}.colors_btn_dropdown[_ngcontent-%COMP%]{display:inline-block;position:relative}.colors_list[_ngcontent-%COMP%]{display:none;position:absolute;height:120px;overflow-y:scroll;background-color:var(--base-color);border:1px var(--light-grey) solid}.color_btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:125px;border:none;background-color:transparent;padding:4px 14px;border-bottom:1px var(--light-grey) solid}.color_btn[_ngcontent-%COMP%]:last-child{border-bottom:none}.color_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;object-fit:fill;border:1px #000 solid}.add_color_btn[_ngcontent-%COMP%]:hover   .colors_list[_ngcontent-%COMP%]{display:block}.selectedColors_wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:4px 0;cursor:grab}.selectedColor[_ngcontent-%COMP%]{position:relative;display:inline-flex;justify-content:center;align-items:center;padding:4px;border:1px var(--light-grey) solid;margin-right:2px}.selectedColor[_ngcontent-%COMP%]   .color_image_box[_ngcontent-%COMP%]{width:16px;height:16px;border:1px #000 solid;margin-left:4px}.delete_color_btn[_ngcontent-%COMP%]{position:absolute;top:-7px;right:-7px;padding:4px;font-size:9px;font-weight:600;border-radius:20px;border:none;line-height:4px;background-color:var(--light-grey)}.form_controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.form_controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;background-color:var(--light-grey);padding:14px;width:120px;text-align:center;text-transform:uppercase}.form_controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:14px}"]}),n})(),gP=(()=>{class n{constructor(e){this.store=e,this.closePopUp=new l.vpe}ngOnInit(){}onCancel(e){e.target===e.currentTarget&&this.closePopUp.emit()}onConfirmDelete(){this.store.dispatch(new a1({key:this.productKey,id:this.productID})),this.closePopUp.emit()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-delete"]],inputs:{productKey:"productKey",productID:"productID"},outputs:{closePopUp:"closePopUp"},decls:9,vars:0,consts:[[1,"pop-up-bck",3,"click"],[1,"pop_up_content"],[1,"pop_up_controls"],["type","button",3,"click"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.NdJ("click",function(u){return r.onCancel(u)}),l.TgZ(1,"div",1)(2,"p"),l._uU(3,"This item will be permenantly deleted and it will never be restored, Confirm this action?"),l.qZA(),l.TgZ(4,"div",2)(5,"button",3),l.NdJ("click",function(u){return r.onCancel(u)}),l._uU(6,"Cancel"),l.qZA(),l.TgZ(7,"button",3),l.NdJ("click",function(){return r.onConfirmDelete()}),l._uU(8,"Confirm deletion"),l.qZA()()()())},styles:[".pop_up_content[_ngcontent-%COMP%]{width:420px;background-color:var(--base-color);padding:24px}.pop_up_content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:inherit;margin-bottom:14px}.pop_up_controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--light-grey);border:none;text-transform:uppercase;font-family:var(--side-font);padding:14px}.pop_up_controls[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}.pop_up_controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){background-color:#d80000;color:var(--base-color);font-weight:700}"]}),n})();const mP=["fileUploader"];function _P(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-delete",27),l.NdJ("closePopUp",function(){return l.CHM(e),l.oxw().onDeleteItem()}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("productKey",e.productKey)("productID",e.productID)}}function yP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",32),l.NdJ("click",function(){l.CHM(e);const a=l.oxw().index;return l.oxw().onRemoveImage(a)}),l._uU(1,"x"),l.qZA()}if(2&n){const e=l.oxw(2);l.Q6J("disabled",e.loading)}}function vP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",28)(1,"button",29),l.NdJ("click",function(){const u=l.CHM(e).index;return l.oxw().onSelectImagePreview(u)}),l._UZ(2,"img",30),l.qZA(),l.YNc(3,yP,2,1,"button",31),l.qZA()}if(2&n){const e=t.index,r=l.oxw();l.xp6(1),l.Q6J("disabled",r.loading),l.xp6(1),l.s9C("src",r.selectedImagesPreview[e],l.LSH),l.xp6(1),l.Q6J("ngIf",r.editing)}}function CP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"input",33,34),l.NdJ("change",function(a){return l.CHM(e),l.oxw().onAddImage(a)}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("disabled",e.loading)}}function EP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",35),l.NdJ("click",function(){return l.CHM(e),l.oxw().openFileUploader()}),l._uU(1," Upload image "),l.O4$(),l.TgZ(2,"svg",36),l._UZ(3,"polygon",37),l.qZA()()}if(2&n){const e=l.oxw();l.ekj("form_disabled_submit",e.loading),l.Q6J("disabled",e.loading)}}function wP(n,t){if(1&n&&(l.TgZ(0,"p",38),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.product.name)}}function bP(n,t){if(1&n&&l._UZ(0,"input",39),2&n){const e=l.oxw();l.ekj("form_disabled_input",e.loading),l.Q6J("ngModel",e.product.name)("disabled",e.loading)}}function IP(n,t){if(1&n&&(l.TgZ(0,"p",38),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.product.price)}}function DP(n,t){if(1&n&&l._UZ(0,"input",40),2&n){const e=l.oxw();l.ekj("form_disabled_input",e.loading),l.Q6J("ngModel",e.product.price)("disabled",e.loading)}}function TP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",32),l.NdJ("click",function(){l.CHM(e);const a=l.oxw().$implicit;return l.oxw().onRemoveColor(a)}),l._uU(1,"x"),l.qZA()}if(2&n){const e=l.oxw(2);l.Q6J("disabled",e.loading)}}function SP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",41),l.NdJ("dragover",function(a){return l.CHM(e),l.oxw().onColorDrag(a)})("drop",function(a){return l.CHM(e),l.oxw().onColorDrop(a)})("mouseenter",function(){const u=l.CHM(e).index;return l.oxw().toColorSwap.firstIndex=u}),l._uU(1),l._UZ(2,"div",42),l.YNc(3,TP,2,1,"button",31),l.qZA()}if(2&n){const e=t.$implicit,r=t.index,a=l.oxw();l.uIk("colorIndex",r),l.xp6(1),l.hij(" ",a.productColors[e].name," "),l.xp6(1),l.Jzz("background-image: url(",a.productColors[e].image,");"),l.xp6(1),l.Q6J("ngIf",a.editing)}}function AP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",47),l.NdJ("click",function(){const u=l.CHM(e).index;return l.oxw(2).onAddColor(u)}),l._uU(1),l._UZ(2,"img",48),l.qZA()}if(2&n){const e=t.$implicit,r=l.oxw(2);l.Q6J("disabled",r.loading),l.xp6(1),l.hij(" ",e.name," "),l.xp6(1),l.s9C("src",e.image,l.LSH)}}function xP(n,t){if(1&n&&(l.TgZ(0,"div",43)(1,"button",44),l._uU(2," Add color "),l.O4$(),l.TgZ(3,"svg",36),l._UZ(4,"polygon",37),l.qZA()(),l.kcU(),l.TgZ(5,"div",45),l.YNc(6,AP,3,3,"button",46),l.qZA()()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("disabled",e.loading),l.xp6(5),l.Q6J("ngForOf",e.productColors)}}function MP(n,t){if(1&n&&(l.TgZ(0,"p",38),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.product.target)}}function RP(n,t){if(1&n&&(l.TgZ(0,"div")(1,"label",49),l._UZ(2,"input",50),l._uU(3,"Male"),l.qZA()()),2&n){const e=l.oxw();l.xp6(2),l.Q6J("disabled",e.loading)("checked","male"==e.product.target)}}function OP(n,t){if(1&n&&(l.TgZ(0,"div")(1,"label",49),l._UZ(2,"input",51),l._uU(3,"Female"),l.qZA()()),2&n){const e=l.oxw();l.xp6(2),l.Q6J("disabled",e.loading)("checked","female"==e.product.target)}}function PP(n,t){if(1&n&&(l.TgZ(0,"p",38),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.product.privecy)}}function kP(n,t){if(1&n&&(l.TgZ(0,"div")(1,"label",49),l._UZ(2,"input",52),l._uU(3,"Published"),l.qZA()()),2&n){const e=l.oxw();l.xp6(2),l.Q6J("disabled",e.loading)("checked","published"==e.product.privecy)}}function NP(n,t){if(1&n&&(l.TgZ(0,"div")(1,"label",49),l._UZ(2,"input",53),l._uU(3,"Hidden"),l.qZA()()),2&n){const e=l.oxw();l.xp6(2),l.Q6J("disabled",e.loading)("checked","hidden"==e.product.privecy)}}function FP(n,t){if(1&n&&(l.TgZ(0,"div",54),l.O4$(),l.TgZ(1,"svg",55),l._UZ(2,"path",56),l.qZA(),l.kcU(),l.TgZ(3,"p",57),l._uU(4),l.qZA()()),2&n){const e=l.oxw();l.xp6(4),l.Oqu(e.formErrorText)}}function LP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"a",61),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).onEdit()}),l._uU(1,"Cancel"),l.qZA()}}function UP(n,t){if(1&n&&(l.TgZ(0,"div",58),l.YNc(1,LP,2,0,"a",59),l.TgZ(2,"button",60),l._uU(3,"Save"),l.qZA()()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",!e.loading),l.xp6(1),l.ekj("form_disabled_submit",e.loading),l.Q6J("disabled",e.loading)}}function VP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",58)(1,"button",62),l.NdJ("click",function(){return l.CHM(e),l.oxw().onDeleteItem()}),l._uU(2,"Delete item"),l.qZA(),l.TgZ(3,"button",63),l.NdJ("click",function(){return l.CHM(e),l.oxw().onEdit()}),l._uU(4,"Edit item"),l.qZA()()}}let bx=(()=>{class n{constructor(e,r,a,u){this.store=e,this.appService=r,this.route=a,this.router=u,this.product={name:"",price:0,colors:[],target:"",privecy:""},this.productState="READY",this.productColors=[],this.selectedColors=[],this.toColorSwap={firstIndex:null,secondIndex:null},this.selectedImagesPreview=[],this.selectedImages=[],this.formError=!1,this.formErrorText="Error",this.previewedImage="assets/images/watch_BCK_grey.jpg",this.previewedImageIndex=0,this.loading=!1,this.editing=!1,this.deletePopUp=!1,this.imagesURL=[]}ngOnInit(){this.route.children[0]?this.productKey=this.route.children[0].snapshot.params.product:this.router.navigate(["/"]),this.productColors=this.appService.productColors,this.storeSubscription=this.store.select("store").subscribe(e=>{e.products.length>0&&"READY"==this.productState&&(this.store.dispatch(new p1(this.productKey)),this.productState="DONE"),e&&(this.loading=e.loading,this.editing=e.editMode,e.error&&(this.formErrorText=e.error,this.formError=!0)),e.selectedProduct&&(e.selectedProduct.notfound?this.router.navigate(["/"]):(this.product=Object.assign({},e.selectedProduct.product),this.selectedColors=[...this.product.colors],this.selectedImagesPreview=[...this.product.imagesURL],this.imagesURL=[...this.product.imagesURL],this.previewedImage=this.selectedImagesPreview[0],this.productID=e.selectedProduct.id))})}ngOnDestroy(){this.store.dispatch(new g1),this.storeSubscription.unsubscribe()}openFileUploader(){this.fileUploader.nativeElement.click()}onAddImage(e){const r=new FileReader;r.readAsDataURL(e.target.files[0]),this.pushImage(e.target.files[0]),r.onload=a=>{this.pushImagePreview(a.target.result)}}pushImage(e){this.selectedImages.push(e)}pushImagePreview(e){this.selectedImagesPreview.push(e),1==this.selectedImagesPreview.length&&(this.previewedImage=e,this.previewedImageIndex=0)}onRemoveImage(e){this.selectedImages.splice(e+this.imagesURL.length-2,1),this.selectedImagesPreview.splice(e,1),0===this.selectedImagesPreview.length?this.previewedImage="assets/images/watch_BCK_grey.jpg":e==this.previewedImageIndex&&(e<=this.selectedImagesPreview.length-1?this.previewedImage=this.selectedImagesPreview[e]:e==this.selectedImagesPreview.length&&(this.previewedImage=this.selectedImagesPreview[e-1])),e<this.imagesURL.length&&this.imagesURL.splice(e,1)}onSelectImagePreview(e){this.previewedImage=this.selectedImagesPreview[e],this.previewedImageIndex=e}onAddColor(e){this.selectedColors.includes(e)||this.selectedColors.push(e)}onRemoveColor(e){this.selectedColors.splice(this.selectedColors.indexOf(e),1)}onColorDrag(e){e.preventDefault()}onColorDrop(e){this.toColorSwap.secondIndex=+e.target.attributes.colorIndex.value,this.toColorSwap.firstIndex!=this.toColorSwap.secondIndex&&(this.selectedColors=Ex(this.toColorSwap,this.selectedColors))}onEdit(){this.editing&&(this.formError=!1,this.formErrorText=""),this.editing=!this.editing}onDeleteItem(){this.deletePopUp=!this.deletePopUp}OnSubmit(e){if("VALID"===e.form.status)if(this.formError=!1,this.formErrorText="",this.selectedColors.length<1)this.formErrorText="At least one color must be selected.",this.formError=!0;else if(this.selectedImagesPreview.length<1)this.formErrorText="At least one image must be uploaded.",this.formError=!0;else{const a={name:Cx(e.form.value.name),price:e.form.value.price,colors:[...this.selectedColors],target:e.form.value.target,privecy:e.form.value.privecy,imagesFile:[...this.selectedImages],imagesURL:[...this.imagesURL],productKey:this.product.productKey};this.store.dispatch(new u1({product:a,id:this.productID}))}else if("INVALID"===e.form.status)for(var r of Object.values(e.form.controls))if("INVALID"===r.status){if(r.errors.required){this.formErrorText="Required field, All inputs must be filled.",this.formError=!0;break}r.errors.pattern&&(this.formErrorText="Wrong input pattern.",this.formError=!0)}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi),l.Y36(vy),l.Y36(cd),l.Y36(Sr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-product"]],viewQuery:function(e,r){if(1&e&&l.Gf(mP,5),2&e){let a;l.iGM(a=l.CRH())&&(r.fileUploader=a.first)}},decls:44,vars:40,consts:[[3,"productKey","productID","closePopUp",4,"ngIf"],[3,"ngSubmit"],["addItemForm","ngForm"],[1,"create_content"],[1,"images_section"],[1,"image_preview_wrapper"],["alt","product preview",3,"src"],[1,"selectedImages"],["class","selectedImage_wrapper",4,"ngFor","ngForOf"],["type","file",3,"disabled","change",4,"ngIf"],["type","button","class","svg uplaod_image_btn",3,"disabled","form_disabled_submit","click",4,"ngIf"],[1,"data_section"],[1,"input_wrapper"],["for","name"],["class","product_value",4,"ngIf"],["type","text","name","name","required","",3,"ngModel","disabled","form_disabled_input",4,"ngIf"],["for","price"],["type","text","name","price","pattern","[0-9]*","required","",3,"ngModel","disabled","form_disabled_input",4,"ngIf"],["for","colors"],[1,"selectedColors_wrapper"],["class","selectedColor","draggable","true",3,"dragover","drop","mouseenter",4,"ngFor","ngForOf"],["class","colors_btn_dropdown","visible","false","dropdown","",4,"ngIf"],["for","target"],[4,"ngIf"],["for","privecy"],["class","svg_error form_error_wrapper",4,"ngIf"],["class","form_controls",4,"ngIf"],[3,"productKey","productID","closePopUp"],[1,"selectedImage_wrapper"],["type","button",1,"selectedImage",3,"disabled","click"],["alt","selected image",3,"src"],["type","button","class","delete_color_btn",3,"disabled","click",4,"ngIf"],["type","button",1,"delete_color_btn",3,"disabled","click"],["type","file",3,"disabled","change"],["fileUploader",""],["type","button",1,"svg","uplaod_image_btn",3,"disabled","click"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 42 42",0,"xml","space","preserve",2,"enable-background","new 0 0 42 42"],["points","42,20 22,20 22,0 20,0 20,20 0,20 0,22 20,22 20,42 22,42 22,22 42,22 "],[1,"product_value"],["type","text","name","name","required","",3,"ngModel","disabled"],["type","text","name","price","pattern","[0-9]*","required","",3,"ngModel","disabled"],["draggable","true",1,"selectedColor",3,"dragover","drop","mouseenter"],[1,"color_image_box"],["visible","false","dropdown","",1,"colors_btn_dropdown"],["type","button",1,"svg","add_color_btn",3,"disabled"],[1,"colors_list"],["type","button","class","color_btn",3,"disabled","click",4,"ngFor","ngForOf"],["type","button",1,"color_btn",3,"disabled","click"],["alt","color image",3,"src"],[1,"radio_label"],["type","radio","value","male","name","target","required","","ngModel","",3,"disabled","checked"],["type","radio","value","female","name","target","ngModel","",3,"disabled","checked"],["type","radio","value","published","name","privecy","required","","ngModel","",3,"disabled","checked"],["type","radio","value","hidden","name","privecy","ngModel","",3,"disabled","checked"],[1,"svg_error","form_error_wrapper"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","200px","height","200px","viewBox","796 698.08 200 200","enable-background","new 796 698.08 200 200",0,"xml","space","preserve"],["d","M994.47,869.072L905.896,715.66c-2.041-3.535-5.813-5.713-9.896-5.713c-4.083,0-7.854,2.178-9.896,5.713l-88.573,153.412  c-2.041,3.536-2.041,7.892,0,11.427c2.041,3.536,5.813,5.714,9.896,5.714h177.147c4.083,0,7.854-2.178,9.896-5.714  C996.511,876.963,996.511,872.608,994.47,869.072z M896,870.253c-7.22,0-13.072-5.852-13.072-13.071  c0-7.221,5.852-13.072,13.072-13.072c7.221,0,13.072,5.852,13.072,13.072C909.072,864.402,903.221,870.253,896,870.253z   M910.58,765.235l-7.793,62.267c-0.469,3.748-3.889,6.407-7.637,5.938c-3.168-0.396-5.557-2.908-5.938-5.938l-7.793-62.267  c-1.007-8.053,4.703-15.397,12.755-16.405c8.053-1.007,15.397,4.703,16.405,12.756C910.732,762.8,910.719,764.072,910.58,765.235z"],[1,"form_error"],[1,"form_controls"],[3,"click",4,"ngIf"],["type","submit",1,"form_submit",3,"disabled"],[3,"click"],["type","button",1,"Delete",3,"click"],["type","button",1,"form_submit",3,"click"]],template:function(e,r){if(1&e){const a=l.EpF();l.YNc(0,_P,1,2,"app-delete",0),l.TgZ(1,"form",1,2),l.NdJ("ngSubmit",function(){l.CHM(a);const f=l.MAs(2);return r.OnSubmit(f)}),l.TgZ(3,"div",3)(4,"div",4)(5,"div",5),l._UZ(6,"img",6),l.qZA(),l.TgZ(7,"div",7),l.YNc(8,vP,4,3,"div",8),l.qZA(),l.YNc(9,CP,2,1,"input",9),l.TgZ(10,"div"),l.YNc(11,EP,4,3,"button",10),l.qZA()(),l.TgZ(12,"div",11)(13,"div",12)(14,"label",13),l._uU(15,"Product name"),l.qZA(),l.YNc(16,wP,2,1,"p",14),l.YNc(17,bP,1,4,"input",15),l.qZA(),l.TgZ(18,"div",12)(19,"label",16),l._uU(20,"Product price (USD)"),l.qZA(),l.YNc(21,IP,2,1,"p",14),l.YNc(22,DP,1,4,"input",17),l.qZA(),l.TgZ(23,"div",12)(24,"label",18),l._uU(25,"Product colors"),l.qZA(),l.TgZ(26,"div",19),l.YNc(27,SP,4,6,"div",20),l.qZA(),l.YNc(28,xP,7,2,"div",21),l.qZA(),l.TgZ(29,"div",12)(30,"label",22),l._uU(31,"Product target"),l.qZA(),l.YNc(32,MP,2,1,"p",14),l.YNc(33,RP,4,2,"div",23),l.YNc(34,OP,4,2,"div",23),l.qZA(),l.TgZ(35,"div",12)(36,"label",24),l._uU(37,"Product privecy"),l.qZA(),l.YNc(38,PP,2,1,"p",14),l.YNc(39,kP,4,2,"div",23),l.YNc(40,NP,4,2,"div",23),l.qZA(),l.YNc(41,FP,5,1,"div",25),l.YNc(42,UP,4,4,"div",26),l.YNc(43,VP,5,0,"div",26),l.qZA()()()}2&e&&(l.Q6J("ngIf",r.deletePopUp),l.xp6(6),l.s9C("src",r.previewedImage,l.LSH),l.xp6(2),l.Q6J("ngForOf",r.selectedImagesPreview),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(2),l.Q6J("ngIf",r.editing),l.xp6(3),l.ekj("requerired_input_label",r.editing)("input_label",!r.editing),l.xp6(2),l.Q6J("ngIf",!r.editing),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(2),l.ekj("requerired_input_label",r.editing)("input_label",!r.editing),l.xp6(2),l.Q6J("ngIf",!r.editing),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(2),l.ekj("requerired_input_label",r.editing)("input_label",!r.editing),l.xp6(3),l.Q6J("ngForOf",r.selectedColors),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(2),l.ekj("requerired_input_label",r.editing)("input_label",!r.editing),l.xp6(2),l.Q6J("ngIf",!r.editing),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(2),l.ekj("requerired_input_label",r.editing)("input_label",!r.editing),l.xp6(2),l.Q6J("ngIf",!r.editing),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(1),l.Q6J("ngIf",r.formError),l.xp6(1),l.Q6J("ngIf",r.editing),l.xp6(1),l.Q6J("ngIf",!r.editing))},directives:[sn,gP,Za,Kr,za,Jt,ai,zs,Vs,Wa,ou,wx,Yr],styles:["input[type=file][_ngcontent-%COMP%]{display:none}.create_content[_ngcontent-%COMP%]{display:flex;width:1352px;margin:40px auto}.image_preview_wrapper[_ngcontent-%COMP%]{width:308px;height:308px}.image_preview_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:308px;height:308px;object-fit:cover}.selectedImages[_ngcontent-%COMP%]{width:308px;margin-top:14px;display:flex;flex-wrap:wrap}.selectedImage_wrapper[_ngcontent-%COMP%]{position:relative;margin-right:14.5px}.selectedImage_wrapper[_ngcontent-%COMP%]:nth-child(4n){margin-right:0}.selectedImage[_ngcontent-%COMP%]{background-color:transparent;border:none;border:1px var(--light-grey) solid;margin-bottom:14.5px}.selectedImage[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;object-fit:cover}.uplaod_image_btn[_ngcontent-%COMP%]{display:inline-flex;justify-content:center;align-items:center;margin-top:14px;width:308px;padding:14px;background-color:var(--secondery-color);border:none;color:var(--base-color);font-family:var(--main-font);font-weight:500;text-transform:uppercase}.uplaod_image_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;fill:var(--base-color);margin-left:7px}.data_section[_ngcontent-%COMP%]{margin-left:28px;border-left:1px var(--light-grey) solid;flex:1;padding-left:14px}.input_wrapper[_ngcontent-%COMP%]{margin-bottom:28px}.input_wrapper[_ngcontent-%COMP%]:last-child{margin-bottom:0}.input_wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .input_wrapper[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{display:block;width:calc(100% - 14px);padding:4px 7px;border:1px var(--light-grey) solid;font-family:var(--main-font);font-size:inherit}.input_wrapper[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:inline-block}.radio_label[_ngcontent-%COMP%]{font-weight:500}.radio_label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:7px}.add_item_btn[_ngcontent-%COMP%]{display:block;width:90px;margin-left:auto;padding:7px;background-color:var(--secondery-color);border:none;color:var(--base-color)}.add_color_btn[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:125px;padding:7px 0;background-color:var(--light-grey);border:none;text-transform:uppercase;font-size:12px}.add_color_btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;margin-left:7px;width:19px;height:19px}.colors_btn_dropdown[_ngcontent-%COMP%]{display:inline-block;position:relative}.colors_list[_ngcontent-%COMP%]{display:none;position:absolute;height:120px;overflow-y:scroll;background-color:var(--base-color);border:1px var(--light-grey) solid}.color_btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:125px;border:none;background-color:transparent;padding:4px 14px;border-bottom:1px var(--light-grey) solid}.color_btn[_ngcontent-%COMP%]:last-child{border-bottom:none}.color_btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:16px;height:16px;object-fit:fill;border:1px #000 solid}.add_color_btn[_ngcontent-%COMP%]:hover   .colors_list[_ngcontent-%COMP%]{display:block}.selectedColors_wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:4px 0;cursor:grab}.selectedColor[_ngcontent-%COMP%]{position:relative;display:inline-flex;justify-content:center;align-items:center;padding:4px;border:1px var(--light-grey) solid;margin-right:2px}.selectedColor[_ngcontent-%COMP%]   .color_image_box[_ngcontent-%COMP%]{width:16px;height:16px;border:1px #000 solid;margin-left:4px}.delete_color_btn[_ngcontent-%COMP%]{position:absolute;top:-7px;right:-7px;padding:4px;font-size:9px;font-weight:600;border-radius:20px;border:none;line-height:4px;background-color:var(--light-grey)}.form_controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.form_controls[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;background-color:var(--light-grey);padding:14px;width:120px;text-align:center;text-transform:uppercase}.form_controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:14px}.product_value[_ngcontent-%COMP%]{text-transform:capitalize;margin:0;border:1px var(--light-grey) solid;padding:4px 7px}.Delete[_ngcontent-%COMP%]{padding:14px;border:none;background-color:#d80000;color:var(--base-color);font-family:var(--side-font);font-weight:700;text-transform:uppercase}"]}),n})(),KD=(()=>{class n{constructor(){this.opened=!1,this.dropdownControl=new d.x}onDropdownControl(e){if(!e)return this.opened=!this.opened,void this.dropdownControl.next(this.opened);this.opened=e,this.dropdownControl.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),YD=(()=>{class n{constructor(){this.componentControl=new d.x}onComponentControl(){this.componentControl.next()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const BP=["searchInput"];function jP(n,t){1&n&&(l.TgZ(0,"div",19),l.O4$(),l.TgZ(1,"svg",20)(2,"g",21)(3,"g",21),l._UZ(4,"path",22)(5,"path",23)(6,"path",24),l.qZA()()()())}function HP(n,t){if(1&n&&(l.TgZ(0,"a",12),l.YNc(1,jP,7,0,"div",13),l.TgZ(2,"div",14),l._UZ(3,"img",15),l.qZA(),l.TgZ(4,"div",16)(5,"div",17),l._uU(6),l.qZA(),l.TgZ(7,"div",18),l._uU(8),l.qZA()()()),2&n){const e=t.$implicit;l.MGl("routerLink","Product/",e.productKey,""),l.xp6(1),l.Q6J("ngIf","hidden"==e.privecy),l.xp6(2),l.s9C("src",e.imagesURL[0],l.LSH),l.xp6(3),l.Oqu(e.name),l.xp6(2),l.hij("",e.price,"$")}}function $P(n,t){if(1&n&&(l.TgZ(0,"div",10),l.YNc(1,HP,9,5,"a",11),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",e.searchedProducts)}}function GP(n,t){1&n&&(l.TgZ(0,"div",25),l.O4$(),l.TgZ(1,"svg",26)(2,"g")(3,"g")(4,"g"),l._UZ(5,"path",27)(6,"path",28)(7,"path",29)(8,"path",30)(9,"path",31)(10,"path",32),l.qZA()()()(),l.kcU(),l.TgZ(11,"p"),l._uU(12,"Hmmm, We're sorry but nothing was found."),l.qZA()())}function zP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1)(1,"div",2),l.O4$(),l.TgZ(2,"svg",3)(3,"g",4)(4,"g",4),l._UZ(5,"path",5),l.qZA()()(),l.kcU(),l.TgZ(6,"input",6,7),l.NdJ("input",function(){return l.CHM(e),l.oxw().onSearch()}),l.qZA()(),l.TgZ(8,"div"),l.YNc(9,$P,2,1,"div",8),l.YNc(10,GP,13,0,"div",9),l.qZA()()}if(2&n){const e=l.MAs(7),r=l.oxw();l.xp6(9),l.Q6J("ngIf",r.searchedProducts),l.xp6(1),l.Q6J("ngIf",e.value&&!r.searchedProducts)}}let WP=(()=>{class n{constructor(e,r){this.searchService=e,this.store=r,this.opened=!1}ngOnInit(){this.searchServiceSubscription=this.searchService.componentControl.subscribe(()=>{this.opened=!this.opened,this.opened?setTimeout(()=>{this.searchInput.nativeElement.focus()},0):this.store.dispatch(new bS)}),this.productsSubscription=this.store.select("store").subscribe(e=>{this.searchedProducts=e.searchedProducts})}ngOnDestroy(){this.store.dispatch(new bS),this.searchServiceSubscription.unsubscribe(),this.productsSubscription.unsubscribe()}onSearch(){this.store.dispatch(new y1(this.searchInput.nativeElement.value))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(YD),l.Y36(yi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-search"]],viewQuery:function(e,r){if(1&e&&l.Gf(BP,5),2&e){let a;l.iGM(a=l.CRH())&&(r.searchInput=a.first)}},decls:1,vars:1,consts:[["class","search",4,"ngIf"],[1,"search"],[1,"search_input_wrapper"],["_ngcontent-kjb-c57","","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 487.95 487.95",0,"xml","space","preserve",2,"enable-background","new 0 0 487.95 487.95"],["_ngcontent-kjb-c57",""],["_ngcontent-kjb-c57","","d","M481.8,453l-140-140.1c27.6-33.1,44.2-75.4,44.2-121.6C386,85.9,299.5,0.2,193.1,0.2S0,86,0,191.4s86.5,191.1,192.9,191.1    c45.2,0,86.8-15.5,119.8-41.4l140.5,140.5c8.2,8.2,20.4,8.2,28.6,0C490,473.4,490,461.2,481.8,453z M41,191.4    c0-82.8,68.2-150.1,151.9-150.1s151.9,67.3,151.9,150.1s-68.2,150.1-151.9,150.1S41,274.1,41,191.4z"],["type","text","placeholder","search...",1,"search_input",3,"input"],["searchInput",""],["class","searched_products",4,"ngIf"],["class","empty_searched_products",4,"ngIf"],[1,"searched_products"],["class","product",3,"routerLink",4,"ngFor","ngForOf"],[1,"product",3,"routerLink"],["class","hidden_cover",4,"ngIf"],[1,"product_image_wrapper"],["alt","",1,"product_image",3,"src"],[1,"product_details"],[1,"product_name"],[1,"product_price"],[1,"hidden_cover"],["_ngcontent-arw-c57","","version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","98.48px","height","98.481px","viewBox","0 0 98.48 98.481",0,"xml","space","preserve",2,"enable-background","new 0 0 98.48 98.481"],["_ngcontent-arw-c57",""],["_ngcontent-arw-c57","","d","M69.322,44.716L49.715,64.323C60.438,64.072,69.071,55.438,69.322,44.716z"],["_ngcontent-arw-c57","","d","M97.204,45.789c-0.449-0.529-6.245-7.23-15.402-13.554l-6.2,6.2c5.99,3.954,10.559,8.275,13.011,10.806    C83.235,54.795,67.7,68.969,49.241,68.969c-1.334,0-2.651-0.082-3.952-0.222l-7.439,7.438c3.639,0.91,7.449,1.451,11.391,1.451    c26.426,0,47.098-23.927,47.964-24.946C98.906,50.692,98.906,47.79,97.204,45.789z"],["_ngcontent-arw-c57","","d","M90.651,15.901c0-0.266-0.104-0.52-0.293-0.707l-7.071-7.07c-0.391-0.391-1.022-0.391-1.414,0L66.045,23.952    c-5.202-1.893-10.855-3.108-16.804-3.108c-26.427,0-47.098,23.926-47.965,24.946c-1.701,2-1.701,4.902,0.001,6.903    c0.517,0.606,8.083,9.354,19.707,16.319l-12.86,12.86c-0.188,0.188-0.293,0.441-0.293,0.707c0,0.267,0.105,0.521,0.293,0.707    l7.071,7.07c0.195,0.194,0.451,0.293,0.707,0.293c0.256,0,0.512-0.099,0.707-0.293l73.75-73.75    C90.546,16.421,90.651,16.167,90.651,15.901z M9.869,49.241C13.5,45.49,21.767,37.812,32.436,33.22    c-2.081,3.166-3.301,6.949-3.301,11.021c0,4.665,1.601,8.945,4.27,12.352l-6.124,6.123C19.129,58.196,12.89,52.361,9.869,49.241z"],[1,"empty_searched_products"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 512 512",0,"xml","space","preserve",2,"enable-background","new 0 0 512 512"],["d","M32,352c-17.643,0-32,14.357-32,32c0,17.643,14.357,32,32,32s32-14.357,32-32C64,366.357,49.643,352,32,352z M32,394.667     c-5.867,0-10.667-4.779-10.667-10.667c0-5.888,4.8-10.667,10.667-10.667S42.667,378.112,42.667,384     C42.667,389.888,37.867,394.667,32,394.667z"],["d","M106.667,288C83.136,288,64,307.136,64,330.667s19.136,42.667,42.667,42.667c23.531,0,42.667-19.136,42.667-42.667     S130.197,288,106.667,288z M106.667,352c-11.776,0-21.333-9.579-21.333-21.333s9.557-21.333,21.333-21.333     S128,318.912,128,330.667S118.443,352,106.667,352z"],["d","M405.333,373.333c-23.531,0-42.667,19.136-42.667,42.667c0,23.531,19.136,42.667,42.667,42.667     C428.864,458.667,448,439.531,448,416C448,392.469,428.864,373.333,405.333,373.333z M405.333,437.333     C393.557,437.333,384,427.755,384,416c0-11.755,9.557-21.333,21.333-21.333s21.333,9.579,21.333,21.333     C426.667,427.755,417.109,437.333,405.333,437.333z"],["d","M480,437.333c-17.643,0-32,14.357-32,32c0,17.643,14.357,32,32,32c17.643,0,32-14.357,32-32     C512,451.691,497.643,437.333,480,437.333z M480,480c-5.867,0-10.667-4.779-10.667-10.667c0-5.888,4.8-10.667,10.667-10.667     c5.867,0,10.667,4.779,10.667,10.667C490.667,475.221,485.867,480,480,480z"],["d","M212.267,245.333h54.4C331.349,245.333,384,192.704,384,128S331.349,10.667,266.667,10.667     c-45.675,0-86.976,27.2-105.963,68.011C143.147,62.4,120.384,53.333,96,53.333c-52.928,0-96,43.072-96,96     c0,52.928,43.072,96,96,96h11.733C112.683,269.653,134.251,288,160,288S207.317,269.653,212.267,245.333z M192,234.667     c0,17.643-14.357,32-32,32s-32-14.357-32-32c0-5.888-4.779-10.667-10.667-10.667H96c-41.173,0-74.667-33.493-74.667-74.667     S54.827,74.667,96,74.667c23.765,0,45.611,11.136,59.925,30.592c2.389,3.264,6.464,4.928,10.475,4.16     c4.011-0.725,7.253-3.669,8.363-7.573C186.496,60.715,224.277,32,266.667,32c52.928,0,96,43.072,96,96s-43.072,96-96,96h-64     C196.779,224,192,228.779,192,234.667z"],["d","M404.267,330.645H416c52.928,0,96-43.072,96-96c0-52.864-42.965-95.893-97.707-95.893h-0.213     c-5.845,0.107-9.664,4.864-9.6,10.709c0.043,5.845,5.675,10.517,11.52,10.517c41.173,0,74.667,33.493,74.667,74.667     S457.173,309.312,416,309.312h-21.333c-5.888,0-10.667,4.779-10.667,10.667c0,17.643-14.357,32-32,32c-17.643,0-32-14.357-32-32     c0-5.888-4.779-10.667-10.667-10.667h-64c-13.717,0-27.349-3.115-40.512-9.28c-5.291-2.496-11.691-0.213-14.187,5.141     c-2.496,5.333-0.192,11.691,5.141,14.187c16.021,7.509,32.683,11.307,49.557,11.307h54.4     c4.949,24.32,26.517,42.667,52.267,42.667C377.749,373.333,399.317,354.987,404.267,330.645z"]],template:function(e,r){1&e&&l.YNc(0,zP,11,2,"div",0),2&e&&l.Q6J("ngIf",r.opened)},directives:[sn,Jt,sf],styles:[".search[_ngcontent-%COMP%]{background-color:var(--base-color);position:absolute;width:100%;left:0px;top:100%;z-index:5}.search_input_wrapper[_ngcontent-%COMP%]{display:flex}.search_input_wrapper[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px;height:36px;fill:var(--secondery-color)}.search_input_wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;border:none;border-bottom:2px var(--secondery-color) solid;margin-left:7px;font-family:inherit;font-size:21px}.search_input_wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{font-family:inherit;font-size:21px;text-transform:uppercase}.searched_products[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;box-shadow:0 9px 4px -4px #0000004d}.product[_ngcontent-%COMP%]{position:relative;margin:10.3px 12.4px 0 0}.product[_ngcontent-%COMP%]:nth-child(6n){margin:10.3px 0 0}.hidden_cover[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;width:215px;height:254px;z-index:2;background-color:#bbb6}.hidden_cover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--base-color);width:72px;height:72px}.product_image_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:215px;height:215px;object-fit:cover}.product_details[_ngcontent-%COMP%]{background-color:var(--light-grey);padding:7px 4px;height:39px}.product_details[_ngcontent-%COMP%]   .product_name[_ngcontent-%COMP%]{font-family:var(--side-font);font-weight:200;font-size:14px;line-height:9px}.product_details[_ngcontent-%COMP%]   .product_price[_ngcontent-%COMP%]{font-family:var(--side-font);font-weight:200;font-size:14px;text-align:right;line-height:16px}.empty_searched_products[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;box-shadow:0 9px 4px -4px #0000004d}.empty_searched_products[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:180px;height:180px;margin-top:14px;fill:#bbb6}.empty_searched_products[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:inherit;font-size:18px;font-weight:400;color:#bbb6}"]}),n})();function ZP(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1)(1,"ul")(2,"li")(3,"button",2),l.NdJ("click",function(){return l.CHM(e),l.oxw().onSort("SORT_N")}),l._uU(4,"Name"),l.qZA()(),l.TgZ(5,"li")(6,"button",2),l.NdJ("click",function(){return l.CHM(e),l.oxw().onSort("SORT_LH")}),l._uU(7,"Price LOW to HIGH"),l.qZA()(),l.TgZ(8,"li")(9,"button",2),l.NdJ("click",function(){return l.CHM(e),l.oxw().onSort("SORT_HL")}),l._uU(10,"Price HIGH to LOW"),l.qZA()()()()}if(2&n){const e=l.oxw();l.xp6(3),l.ekj("active_sort","SORT_N"===e.sortType),l.xp6(3),l.ekj("active_sort","SORT_LH"===e.sortType),l.xp6(3),l.ekj("active_sort","SORT_HL"===e.sortType)}}let qP=(()=>{class n{constructor(e,r){this.store=e,this.sortDropdownService=r,this.opened=!1}ngOnInit(){this.sortDropdownService.dropdownControl.subscribe(e=>{this.opened=e}),this.storeSubscription=this.store.select("store").subscribe(e=>{this.sortType=e.sort})}ngOnDestroy(){this.storeSubscription.unsubscribe()}onSort(e){this.sortType=e,this.store.dispatch(new m1(e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi),l.Y36(KD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sort-dropdown"]],decls:1,vars:1,consts:[["class","dropdown_wrapper dropdown_wrapper_header",4,"ngIf"],[1,"dropdown_wrapper","dropdown_wrapper_header"],["type","button",3,"click"]],template:function(e,r){1&e&&l.YNc(0,ZP,11,6,"div",0),2&e&&l.Q6J("ngIf",r.opened)},directives:[sn],styles:["ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;display:flex}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;display:block}a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%;display:flex!important;align-items:center;background-color:var(--base-color);border:none}span[_ngcontent-%COMP%]{display:block;margin-left:7px}.active_sort[_ngcontent-%COMP%]{background-color:var(--secondery-color);color:var(--base-color)}"]}),n})();const KP=["sortDropdownController"];function YP(n,t){1&n&&(l.TgZ(0,"div",34),l.O4$(),l.TgZ(1,"svg",35)(2,"g")(3,"g"),l._UZ(4,"path",36)(5,"path",37)(6,"path",38),l.qZA()()()())}function QP(n,t){if(1&n&&l._UZ(0,"img",39),2&n){const e=t.$implicit,r=l.oxw(3);l.s9C("src",r.productColors[e].image,l.LSH)}}function JP(n,t){1&n&&(l.TgZ(0,"span",40),l._uU(1,"M"),l.qZA())}function XP(n,t){1&n&&(l.TgZ(0,"span",40),l._uU(1,"F"),l.qZA())}function ek(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"a",23),l.YNc(1,YP,7,0,"div",24),l.TgZ(2,"div",25)(3,"img",26),l.NdJ("mouseover",function(a){const f=l.CHM(e).index;return l.oxw(2).onImageSwap(a,f)})("mouseout",function(a){const f=l.CHM(e).index;return l.oxw(2).onImageRestore(a,f)}),l.qZA(),l.TgZ(4,"div",27),l.YNc(5,QP,1,1,"img",28),l.qZA()(),l.TgZ(6,"div",29)(7,"div")(8,"h3",30),l._uU(9),l.qZA()(),l.TgZ(10,"div",31)(11,"span",32),l._uU(12),l.qZA(),l.YNc(13,JP,2,0,"span",33),l.YNc(14,XP,2,0,"span",33),l.qZA()()()}if(2&n){const e=t.$implicit;l.MGl("routerLink","/Product/",e.productKey,""),l.xp6(1),l.Q6J("ngIf","hidden"===e.privecy),l.xp6(2),l.s9C("src",e.imagesURL[0],l.LSH),l.xp6(2),l.Q6J("ngForOf",e.colors),l.xp6(4),l.Oqu(e.name),l.xp6(3),l.hij("",e.price,"$"),l.xp6(1),l.Q6J("ngIf","male"==e.target),l.xp6(1),l.Q6J("ngIf","female"==e.target)}}function tk(n,t){if(1&n&&(l.O4$(),l.kcU(),l.TgZ(0,"span",41),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.previousPage)}}function nk(n,t){if(1&n&&(l.TgZ(0,"span",41),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.nextPage)}}const Ix=function(n){return{page:n}};function rk(n,t){if(1&n&&(l.TgZ(0,"div")(1,"div",14),l.YNc(2,ek,15,8,"a",15),l.qZA(),l.TgZ(3,"div",16)(4,"button",17),l.O4$(),l.TgZ(5,"svg",18)(6,"g"),l._UZ(7,"polygon",19)(8,"path",20),l.qZA()()(),l.YNc(9,tk,2,1,"span",21),l.kcU(),l.TgZ(10,"span",22),l._uU(11),l.qZA(),l.YNc(12,nk,2,1,"span",21),l.TgZ(13,"button",17),l.O4$(),l.TgZ(14,"svg",18)(15,"g"),l._UZ(16,"polygon",19)(17,"path",20),l.qZA()()()()()),2&n){const e=l.oxw();l.xp6(2),l.Q6J("ngForOf",e.products),l.xp6(2),l.Q6J("queryParams",l.VKq(8,Ix,e.previousPage))("disabled",e.previousPage<1),l.xp6(5),l.Q6J("ngIf",e.previousPage>=1),l.xp6(2),l.Oqu(e.page),l.xp6(1),l.Q6J("ngIf",e.nextPage<=e.maxPage),l.xp6(1),l.Q6J("queryParams",l.VKq(10,Ix,e.nextPage))("disabled",e.nextPage>e.maxPage)}}function ik(n,t){1&n&&(l.TgZ(0,"div")(1,"div",14)(2,"div",42),l._UZ(3,"div",43),l.TgZ(4,"div",44),l._UZ(5,"div",45),l.TgZ(6,"div",46),l._UZ(7,"div",47)(8,"div",48),l.qZA()()(),l.TgZ(9,"div",42),l._UZ(10,"div",43),l.TgZ(11,"div",44),l._UZ(12,"div",45),l.TgZ(13,"div",46),l._UZ(14,"div",47)(15,"div",48),l.qZA()()(),l.TgZ(16,"div",42),l._UZ(17,"div",43),l.TgZ(18,"div",44),l._UZ(19,"div",45)(20,"div",46),l.qZA()(),l.TgZ(21,"div",42),l._UZ(22,"div",43),l.TgZ(23,"div",44),l._UZ(24,"div",45),l.TgZ(25,"div",46),l._UZ(26,"div",47)(27,"div",48),l.qZA()()(),l.TgZ(28,"div",42),l._UZ(29,"div",43),l.TgZ(30,"div",44),l._UZ(31,"div",45),l.TgZ(32,"div",46),l._UZ(33,"div",47)(34,"div",48),l.qZA()()(),l.TgZ(35,"div",42),l._UZ(36,"div",43),l.TgZ(37,"div",44),l._UZ(38,"div",45),l.TgZ(39,"div",46),l._UZ(40,"div",47)(41,"div",48),l.qZA()()(),l.TgZ(42,"div",42),l._UZ(43,"div",43),l.TgZ(44,"div",44),l._UZ(45,"div",45),l.TgZ(46,"div",46),l._UZ(47,"div",47)(48,"div",48),l.qZA()()(),l.TgZ(49,"div",42),l._UZ(50,"div",43),l.TgZ(51,"div",44),l._UZ(52,"div",45),l.TgZ(53,"div",46),l._UZ(54,"div",47)(55,"div",48),l.qZA()()()()())}let Dx=(()=>{class n{constructor(e,r,a,u,f,y,E){this.store=e,this.appService=r,this.route=a,this.router=u,this.sortDropdownService=f,this.searchService=y,this.renderer=E,this.products=[],this.loading=!1,this.error=!1,this.productColors=[],this.swapInterval=null,this.page=1,this.pageState="READY"}ngOnInit(){this.productsSubscription=this.store.select("store").subscribe(e=>{e&&(this.loading=e.loading,e.pageInfo&&(this.nextPage=e.pageInfo.nextPage,this.previousPage=e.pageInfo.previousPage,this.maxPage=e.pageInfo.maxPage,this.page=e.pageInfo.page,(this.page>this.maxPage||this.page<0)&&this.router.navigate(["/"],{queryParams:{page:1}})),e.products.length>0&&"READY"==this.pageState&&(this.pageState="DONE",this.store.dispatch(new ES(this.page))),e.productsInPreview&&(this.products=e.productsInPreview))}),this.routeSubscription=this.route.queryParams.subscribe(e=>{e.page&&(this.page=+e.page,"DONE"==this.pageState&&this.store.dispatch(new ES(this.page)))}),this.productColors=this.appService.productColors,this.pageRenderer=this.renderer.listen("window","click",e=>{this.sortDropdownService.opened&&!this.sortDropdownController.nativeElement.contains(e.target)&&this.sortDropdownService.onDropdownControl(!1)})}ngOnDestroy(){this.products=[],this.productsSubscription.unsubscribe(),this.routeSubscription.unsubscribe(),clearInterval(this.swapInterval),this.pageRenderer()}onImageSwap(e,r){var a=0;const u=this.products[r].imagesURL.length;this.swapInterval=setInterval(()=>{++a<u?e.target.src=this.products[r].imagesURL[a]:(e.target.src=this.products[r].imagesURL[0],a=0)},1500)}onImageRestore(e,r){clearInterval(this.swapInterval),e.target.src=this.products[r].imagesURL[0]}onDropdown(){this.sortDropdownService.onDropdownControl()}onSearch(){this.searchService.onComponentControl()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi),l.Y36(vy),l.Y36(cd),l.Y36(Sr),l.Y36(KD),l.Y36(YD),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-store"]],viewQuery:function(e,r){if(1&e&&l.Gf(KP,5),2&e){let a;l.iGM(a=l.CRH())&&(r.sortDropdownController=a.first)}},decls:33,vars:2,consts:[[1,"store_header"],[1,"store_controls"],["routerLink","/Create",1,"svg","add_new"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 42 42",0,"xml","space","preserve",2,"enable-background","new 0 0 42 42"],["points","42,20 22,20 22,0 20,0 20,20 0,20 0,22 20,22 20,42 22,42 22,22 42,22 "],[1,"svg",3,"click"],["sortDropdownController",""],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 489.389 489.389",0,"xml","space","preserve",2,"enable-background","new 0 0 489.389 489.389"],["d","M261.294,326.102c-8.3-7.3-21.8-6.2-29.1,2.1l-77,86.8v-346.9c0-11.4-9.4-20.8-20.8-20.8s-20.8,9.4-20.8,20.8v346.9    l-77-86.8c-8.3-8.3-20.8-9.4-29.1-2.1c-8.3,8.3-9.4,20.8-2.1,29.1l113.4,126.9c8.5,10.5,23.5,8.9,30.2,0l114.4-126.9    C270.694,347.002,269.694,333.402,261.294,326.102z"],["d","M483.994,134.702l-112.4-126.9c-10-10.1-22.5-10.7-31.2,0l-114.4,126.9c-7.3,8.3-6.2,21.8,2.1,29.1    c12.8,10.2,25.7,3.2,29.1-2.1l77-86.8v345.9c0,11.4,9.4,20.8,20.8,20.8s20.8-8.3,20.8-19.8v-346.8l77,86.8    c8.3,8.3,20.8,9.4,29.1,2.1C490.194,155.502,491.294,143.002,483.994,134.702z"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 487.95 487.95",0,"xml","space","preserve",2,"enable-background","new 0 0 487.95 487.95"],["d","M481.8,453l-140-140.1c27.6-33.1,44.2-75.4,44.2-121.6C386,85.9,299.5,0.2,193.1,0.2S0,86,0,191.4s86.5,191.1,192.9,191.1    c45.2,0,86.8-15.5,119.8-41.4l140.5,140.5c8.2,8.2,20.4,8.2,28.6,0C490,473.4,490,461.2,481.8,453z M41,191.4    c0-82.8,68.2-150.1,151.9-150.1s151.9,67.3,151.9,150.1s-68.2,150.1-151.9,150.1S41,274.1,41,191.4z"],[1,"store_content"],[4,"ngIf"],[1,"products_wrapper"],["class","product",3,"routerLink",4,"ngFor","ngForOf"],[1,"paggenation_wrapper"],["routerLink","/",1,"svg","page_link",3,"queryParams","disabled"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 49.656 49.656",0,"xml","space","preserve",2,"enable-background","new 0 0 49.656 49.656"],["points","14.535,48.242 11.707,45.414 32.292,24.828 11.707,4.242 14.535,1.414 37.949,24.828  "],["d","M14.535,49.656l-4.242-4.242l20.585-20.586L10.293,4.242L14.535,0l24.829,24.828L14.535,49.656z    M13.121,45.414l1.414,1.414l22-22l-22-22l-1.414,1.414l20.585,20.586L13.121,45.414z"],["class","page_number",4,"ngIf"],[1,"page_number","current_page"],[1,"product",3,"routerLink"],["class","hidden_cover",4,"ngIf"],[1,"product_image_wrapper"],["alt","",3,"src","mouseover","mouseout"],[1,"colors_wrapper"],["alt","",3,"src",4,"ngFor","ngForOf"],[1,"product_info_wrapper"],[1,"product_name"],[1,"product_info_right"],[1,"product_price"],["class","product_target",4,"ngIf"],[1,"hidden_cover"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","width","98.48px","height","98.481px","viewBox","0 0 98.48 98.481",0,"xml","space","preserve",2,"enable-background","new 0 0 98.48 98.481"],["d","M69.322,44.716L49.715,64.323C60.438,64.072,69.071,55.438,69.322,44.716z"],["d","M97.204,45.789c-0.449-0.529-6.245-7.23-15.402-13.554l-6.2,6.2c5.99,3.954,10.559,8.275,13.011,10.806    C83.235,54.795,67.7,68.969,49.241,68.969c-1.334,0-2.651-0.082-3.952-0.222l-7.439,7.438c3.639,0.91,7.449,1.451,11.391,1.451    c26.426,0,47.098-23.927,47.964-24.946C98.906,50.692,98.906,47.79,97.204,45.789z"],["d","M90.651,15.901c0-0.266-0.104-0.52-0.293-0.707l-7.071-7.07c-0.391-0.391-1.022-0.391-1.414,0L66.045,23.952    c-5.202-1.893-10.855-3.108-16.804-3.108c-26.427,0-47.098,23.926-47.965,24.946c-1.701,2-1.701,4.902,0.001,6.903    c0.517,0.606,8.083,9.354,19.707,16.319l-12.86,12.86c-0.188,0.188-0.293,0.441-0.293,0.707c0,0.267,0.105,0.521,0.293,0.707    l7.071,7.07c0.195,0.194,0.451,0.293,0.707,0.293c0.256,0,0.512-0.099,0.707-0.293l73.75-73.75    C90.546,16.421,90.651,16.167,90.651,15.901z M9.869,49.241C13.5,45.49,21.767,37.812,32.436,33.22    c-2.081,3.166-3.301,6.949-3.301,11.021c0,4.665,1.601,8.945,4.27,12.352l-6.124,6.123C19.129,58.196,12.89,52.361,9.869,49.241z"],["alt","",3,"src"],[1,"product_target"],[1,"page_number"],[1,"loading_product"],[1,"loading_product_image"],[1,"loading_product_data"],[1,"loading_product_name"],[1,"loading_product_data_right"],[1,"loading_product_price"],[1,"loading_product_target"]],template:function(e,r){1&e&&(l.TgZ(0,"div")(1,"div",0),l._UZ(2,"app-search")(3,"hr"),l.TgZ(4,"ul",1)(5,"li")(6,"a",2)(7,"span"),l._uU(8,"Add product"),l.qZA(),l.O4$(),l.TgZ(9,"svg",3),l._UZ(10,"polygon",4),l.qZA()()(),l.kcU(),l.TgZ(11,"li")(12,"button",5,6),l.NdJ("click",function(){return r.onDropdown()}),l.TgZ(14,"span"),l._uU(15,"Sort by"),l.qZA(),l.O4$(),l.TgZ(16,"svg",7)(17,"g")(18,"g"),l._UZ(19,"path",8)(20,"path",9),l.qZA()()()(),l.kcU(),l._UZ(21,"app-sort-dropdown"),l.qZA(),l.TgZ(22,"li")(23,"button",5),l.NdJ("click",function(){return r.onSearch()}),l.TgZ(24,"span"),l._uU(25,"Search"),l.qZA(),l.O4$(),l.TgZ(26,"svg",10)(27,"g")(28,"g"),l._UZ(29,"path",11),l.qZA()()()()()()(),l.kcU(),l.TgZ(30,"div",12),l.YNc(31,rk,18,12,"div",13),l.YNc(32,ik,56,0,"div",13),l.qZA()()),2&e&&(l.xp6(31),l.Q6J("ngIf",!r.loading),l.xp6(1),l.Q6J("ngIf",r.loading))},directives:[WP,sf,qP,sn,Jt,FE],styles:[".store_header[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:flex-end;align-items:center;width:1352px;margin:40px auto}.store_header[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{flex:1;background-color:var(--light-grey)}.store_controls[_ngcontent-%COMP%]{margin-bottom:0}.store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;position:relative}.store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:14px;background-color:var(--light-grey);margin-left:7px;text-transform:uppercase}.store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .add_new[_ngcontent-%COMP%]{background-color:var(--secondery-color);color:var(--base-color)!important}.add_new[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--base-color)}.store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:4px;font-family:var(--main-font);font-weight:500;font-size:14px}.products_wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:1352px;margin:0 auto}.product[_ngcontent-%COMP%]{position:relative;display:inline-block;width:320px;height:390px;margin-right:24px;margin-bottom:24px}.product[_ngcontent-%COMP%]:nth-child(4n){margin-right:0}.product[_ngcontent-%COMP%]:hover{text-decoration:none}.product_image_wrapper[_ngcontent-%COMP%]{position:relative}.product_image_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:320px;height:320px;object-fit:cover}.product_info_wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;height:70px;background-color:var(--light-grey);padding:14px}.product_info_wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){flex:1}.product_name[_ngcontent-%COMP%]{margin:0 4px 0 0;font-family:var(--side-font);font-size:18px;font-weight:200}.product_name[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.colors_wrapper[_ngcontent-%COMP%]{position:absolute;bottom:0%;right:0%;width:40px;box-shadow:-2px -2px 2px #0000001a}.colors_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:40px;height:20px}.product_info_right[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.product_price[_ngcontent-%COMP%]{display:block;font-family:var(--side-font);font-weight:200;font-size:24px;line-height:24px}.product_target[_ngcontent-%COMP%]{display:block;text-align:right;font-family:var(--side-font);font-size:14px;text-transform:uppercase;line-height:14px}.hidden_cover[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;width:320px;height:390px;z-index:2;background-color:#bbb6}.hidden_cover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--base-color);width:128px;height:128px}.paggenation_wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:1352px;margin:40px auto}.paggenation_wrapper[_ngcontent-%COMP%]   .page_link[_ngcontent-%COMP%]:nth-child(1){transform:rotate(180deg)}.page_link[_ngcontent-%COMP%]{display:block;background-color:var(--secondery-color);padding:7px;cursor:pointer}.page_link[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:var(--base-color)}.page_number[_ngcontent-%COMP%]{margin:0 14px;color:#a8a8a8}.current_page[_ngcontent-%COMP%]{margin-top:4px;color:#000;font-size:18px;align-self:flex-start}.loading_product[_ngcontent-%COMP%]{background-color:var(--light-grey);margin-right:24px;margin-bottom:24px;opacity:1;animation:fade 4s steps(2);animation-timing-function:ease-out;animation-iteration-count:infinite}.loading_product[_ngcontent-%COMP%]:nth-child(4n){margin-right:0}.loading_product_image[_ngcontent-%COMP%]{width:320px;height:320px}.loading_product_data[_ngcontent-%COMP%]{padding:14px;display:flex;justify-content:space-between;width:320px;height:70px;background-color:#e0e0e0}.loading_product_data_right[_ngcontent-%COMP%]{width:60px;height:42px;background-color:#b8b8b8}.loading_product_name[_ngcontent-%COMP%]{width:210px;height:20px;background-color:#b8b8b8}@keyframes fade{0%,to{opacity:1}50%{opacity:0}}@media only screen and (max-width: 1385px){.store_header[_ngcontent-%COMP%], .products_wrapper[_ngcontent-%COMP%], .paggenation_wrapper[_ngcontent-%COMP%]{width:1112px}.store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:11px}.product[_ngcontent-%COMP%], .hidden_cover[_ngcontent-%COMP%]{width:260px;height:320px}.product_image_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .loading_product_image[_ngcontent-%COMP%]{width:260px;height:260px}.product_info_wrapper[_ngcontent-%COMP%], .loading_product_data[_ngcontent-%COMP%]{height:60px}.loading_product_data[_ngcontent-%COMP%]{width:260px}.hidden_cover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:98px;height:98px}.colors_wrapper[_ngcontent-%COMP%]{width:35px}.colors_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:15px}.loading_product_data_right[_ngcontent-%COMP%]{width:40px;height:28px}.loading_product_name[_ngcontent-%COMP%]{width:160px;height:20px}}@media only screen and (max-width: 1136px){.store_header[_ngcontent-%COMP%], .products_wrapper[_ngcontent-%COMP%], .paggenation_wrapper[_ngcontent-%COMP%]{width:808px}.store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px}.store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .store_controls[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.product[_ngcontent-%COMP%], .hidden_cover[_ngcontent-%COMP%], .loading_product[_ngcontent-%COMP%]{width:190px;height:240px}.product[_ngcontent-%COMP%], .loading_product[_ngcontent-%COMP%]{margin-right:16px}.product_image_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .loading_product_image[_ngcontent-%COMP%]{width:190px;height:190px}.product_info_wrapper[_ngcontent-%COMP%], .loading_product_data[_ngcontent-%COMP%]{height:50px}.colors_wrapper[_ngcontent-%COMP%]{width:30px}.colors_wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:15px}.hidden_cover[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:62px;height:62px}.product_name[_ngcontent-%COMP%]{font-size:14px;line-height:24px}.product_price[_ngcontent-%COMP%]{font-size:18px}.product_target[_ngcontent-%COMP%]{font-size:12px}.product_info_wrapper[_ngcontent-%COMP%], .loading_product_data[_ngcontent-%COMP%]{padding:9px}.loading_product_data[_ngcontent-%COMP%]{width:190px}.loading_product_data_right[_ngcontent-%COMP%]{width:30px;height:24px}.loading_product_name[_ngcontent-%COMP%]{width:110px;height:20px}}"]}),n})();const sk=[{path:"",component:Dx,pathMatch:"full",children:[{path:":page",component:Dx}]},{path:"Create",component:pP,canActivate:[qD]},{path:"Product",component:bx,canActivate:[qD],children:[{path:":product",component:bx}]}];let ok=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[rx.forRoot(sk)],rx]}),n})(),ak=(()=>{class n{constructor(e){this.store=e}intercept(e,r){return this.store.select("authentication").pipe((0,N.q)(1),(0,Ze.U)(a=>a?a.user:null),BD(a=>{const u=e.clone({params:(new ls).set("auth",(null==a?void 0:a.token)?a.token:"")});return r.handle(u)}))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class pr{constructor(t,e,r,a,u){this.store=t,this.actions=e,this.http=r,this.router=a,this.storge=u,this.storeCreateStart=this.actions.pipe(Ci(HI),(0,Ze.U)(f=>new Xx(f.payload))),this.storeCreateUpload=this.actions.pipe(Ci($I),(0,Gr.b)(f=>{this.imageUploader(f.payload,"INSERT")})),this.storeCreateInsert=this.actions.pipe(Ci(GI),dn(f=>this.http.post("https://mvmt-manager-default-rtdb.firebaseio.com/products.json",f.payload).pipe((0,Ze.U)(y=>new t1({name:f.payload.name,price:f.payload.price,colors:f.payload.colors,target:f.payload.target,privecy:f.payload.privecy,imagesURL:f.payload.imagesURL,productKey:y.name})),ws(y=>Je(new n1(y.name)))))),this.storeCreateSuccess=this.actions.pipe(Ci(zI),(0,Gr.b)(()=>{this.router.navigate(["/"],{queryParams:{page:1}})})),this.storeFetchStart=this.actions.pipe(Ci(WI),dn(f=>this.http.get("https://mvmt-manager-default-rtdb.firebaseio.com/products.json").pipe((0,Ze.U)(y=>{var E=[];for(let S in y)E.push({name:y[S].name,price:y[S].price,target:y[S].target,privecy:y[S].privecy,colors:y[S].colors,imagesURL:y[S].imagesURL,productKey:S});return new i1(E)}),ws(y=>Je(new s1(y.name)))))),this.storeGetProducStart=this.actions.pipe(Ci(ZI),(0,Ze.U)(f=>{const y=f.payload;return new o1({page:y,nextPage:y+1,previousPage:y-1,firstIndex:8*y-8,lastIndex:8*y})})),this.storeDeleteStart=this.actions.pipe(Ci(qI),dn(f=>this.http.delete("https://mvmt-manager-default-rtdb.firebaseio.com/products/"+f.payload.key+".json").pipe((0,Ze.U)(()=>new l1(f.payload.id)),ws(E=>Je(new c1(E.name)))))),this.storeDeleteSuccess=this.actions.pipe(Ci(KI),(0,Gr.b)(()=>{this.router.navigate(["/"],{queryParams:{page:1}})})),this.storeEditStart=this.actions.pipe(Ci(YI),(0,Ze.U)(f=>new f1(f.payload))),this.storeEditUpload=this.actions.pipe(Ci(QI),(0,Gr.b)(f=>{f.payload.product.imagesFile.length>0?this.imageUploader(f.payload.product,"UPDATE",f.payload.id):this.store.dispatch(new wS({product:f.payload.product,id:f.payload.id}))})),this.storeEditEdit=this.actions.pipe(Ci(JI),dn(f=>this.http.put("https://mvmt-manager-default-rtdb.firebaseio.com/products/"+f.payload.product.productKey+".json",f.payload.product).pipe((0,Ze.U)(()=>new d1({product:f.payload.product,id:f.payload.id})),ws(E=>Je(new h1(E.name)))))),this.storeSortStart=this.actions.pipe(Ci(XI),(0,Ze.U)(f=>new _1(f.payload))),this.storeSort=this.actions.pipe(Ci(eD),(0,Gr.b)(()=>{this.router.navigate(["/"],{queryParams:{page:1}})})),this.storeSearchStart=this.actions.pipe(Ci(tD),(0,Ze.U)(f=>new v1(f.payload)))}imageUploader(t,e,r){var a=t.imagesFile,u=t.imagesURL?[...t.imagesURL]:[],f=0;for(let y=0;y<a.length;y++)setTimeout(()=>{var E="product-"+a[y].name+"-"+(new Date).getTime(),S=this.storge.ref(E);this.storge.upload(E,a[y]).snapshotChanges().pipe(sA(()=>{S.getDownloadURL().subscribe(R=>{if(u.push(R),++f==a.length){const O={name:t.name,price:t.price,colors:t.colors,target:t.target,privecy:t.privecy,imagesURL:u,imagesFile:[],productKey:t.productKey};"INSERT"===e?this.store.dispatch(new e1(O)):"UPDATE"===e&&this.store.dispatch(new wS({product:O,id:r}))}})})).subscribe()},0)}}pr.\u0275fac=function(t){return new(t||pr)(l.LFG(yi),l.LFG(HD),l.LFG(Wd),l.LFG(Sr),l.LFG(jm))},pr.\u0275prov=l.Yz7({token:pr,factory:pr.\u0275fac}),(0,Ei.gn)([vi()],pr.prototype,"storeCreateStart",void 0),(0,Ei.gn)([vi({dispatch:!1})],pr.prototype,"storeCreateUpload",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeCreateInsert",void 0),(0,Ei.gn)([vi({dispatch:!1})],pr.prototype,"storeCreateSuccess",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeFetchStart",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeGetProducStart",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeDeleteStart",void 0),(0,Ei.gn)([vi({dispatch:!1})],pr.prototype,"storeDeleteSuccess",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeEditStart",void 0),(0,Ei.gn)([vi({dispatch:!1})],pr.prototype,"storeEditUpload",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeEditEdit",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeSortStart",void 0),(0,Ei.gn)([vi({dispatch:!1})],pr.prototype,"storeSort",void 0),(0,Ei.gn)([vi()],pr.prototype,"storeSearchStart",void 0);let lk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[RO]}),n.\u0275inj=l.cJS({providers:[vy,yD,KD,YD,qD,{provide:Zd,useClass:ak,multi:!0}],imports:[[yl,By,jy,ok,hu,nM.forRoot(aP),eP.forRoot([dd,pr]),Wn.hO.initializeApp(tS_firebase),qv,Zx]]}),n})();(0,l.G48)(),Nc().bootstrapModule(lk).catch(n=>console.error(n))},5867:(Ye,we,P)=>{"use strict";P.d(we,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=P(9681);(0,l.registerVersion)("firebase","9.6.8","app")},127:(Ye,we,P)=>{"use strict";P.d(we,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.6.8","app-compat")},3059:(Ye,we,P)=>{"use strict";P.r(we);var l=P(5861),Q=P(3942),k=P(2090),de=P(9681),X=P(655),pe=P(1877),se=P(4859);const Ae=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},W=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new pe.Yd("@firebase/auth");function xe(m,...h){Te.logLevel<=pe.in.ERROR&&Te.error(`Auth (${de.SDK_VERSION}): ${m}`,...h)}function le(m,...h){throw je(m,...h)}function ge(m,...h){return je(m,...h)}function ve(m,h,g){const v=Object.assign(Object.assign({},Ne()),{[h]:g});return new k.LL("auth","Firebase",v).create(h,{appName:m.name})}function Be(m,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&le(m,"argument-error"),ve(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(m,...h){if("string"!=typeof m){const g=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(g,...v)}return W.create(m,...h)}function re(m,h,...g){if(!m)throw je(h,...g)}function K(m){const h="INTERNAL ASSERTION FAILED: "+m;throw xe(h),new Error(h)}function oe(m,h){m||K(h)}const me=new Map;function ae(m){oe(m instanceof Function,"Expected a class definition");let h=me.get(m);return h?(oe(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,me.set(m,h),h)}function ct(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Mt(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class tn{constructor(h,g){this.shortDelay=h,this.longDelay=g,oe(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Ke(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Mt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rt(m,h){oe(m.emulator,"Emulator should always be set here");const{url:g}=m.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class On{static initialize(h,g,v){this.fetchImpl=h,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void K("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void K("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void K("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ar=new tn(3e4,6e4);function Ot(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function Ct(m,h,g,v){return ti.apply(this,arguments)}function ti(){return(ti=(0,l.Z)(function*(m,h,g,v,T={}){return xr(m,T,(0,l.Z)(function*(){let M={},z={};v&&("GET"===h?z=v:M={body:JSON.stringify(v)});const fe=(0,k.xO)(Object.assign({key:m.config.apiKey},z)).slice(1),Fe=yield m._getAdditionalHeaders();return Fe["Content-Type"]="application/json",m.languageCode&&(Fe["X-Firebase-Locale"]=m.languageCode),On.fetch()(Zi(m,m.config.apiHost,g,fe),Object.assign({method:h,headers:Fe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function xr(m,h,g){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(m,h,g){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},Bt),h);try{const T=new gr(m),M=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield M.json();if("needConfirmation"in z)throw ri(m,"account-exists-with-different-credential",z);if(M.ok&&!("errorMessage"in z))return z;{const fe=M.ok?z.errorMessage:z.error.message,[Fe,qe]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw ri(m,"credential-already-in-use",z);if("EMAIL_EXISTS"===Fe)throw ri(m,"email-already-in-use",z);const at=v[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw ve(m,at,qe);le(m,at)}}catch(T){if(T instanceof k.ZR)throw T;le(m,"network-request-failed")}})).apply(this,arguments)}function nr(m,h,g,v){return ni.apply(this,arguments)}function ni(){return(ni=(0,l.Z)(function*(m,h,g,v,T={}){const M=yield Ct(m,h,g,v,T);return"mfaPendingCredential"in M&&le(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Zi(m,h,g,v){const T=`${h}${g}?${v}`;return m.config.emulator?Rt(m.config,T):`${m.config.apiScheme}://${T}`}class gr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(ge(this.auth,"network-request-failed")),Ar.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ri(m,h,g){const v={appName:m.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const T=ge(m,h,v);return T.customData._tokenResponse=g,T}function Mr(){return(Mr=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function nn(m,h){return pn.apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function qi(m,h){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Pn(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Ki(){return(Ki=(0,l.Z)(function*(m,h=!1){const g=(0,k.m9)(m),v=yield g.getIdToken(h),T=Qe(v);re(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const M="object"==typeof T.firebase?T.firebase:void 0,z=null==M?void 0:M.sign_in_provider;return{claims:T,token:v,authTime:Pn(Tt(T.auth_time)),issuedAtTime:Pn(Tt(T.iat)),expirationTime:Pn(Tt(T.exp)),signInProvider:z||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function Tt(m){return 1e3*Number(m)}function Qe(m){const[h,g,v]=m.split(".");if(void 0===h||void 0===g||void 0===v)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,k.tV)(g);return T?JSON.parse(T):(xe("Failed to decode base64 JWT payload"),null)}catch(T){return xe("Caught error parsing JWT payload as JSON",T),null}}function Zn(m,h){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(m,h,g=!1){if(g)return h;try{return yield h}catch(v){throw v instanceof k.ZR&&_t(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function _t({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class wi{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),v)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&h.schedule(!0))}h.schedule()})()}}class qn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pn(this.lastLoginAt),this.creationTime=Pn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(m){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(m){var h;const g=m.auth,v=yield m.getIdToken(),T=yield Zn(m,qi(g,{idToken:v}));re(null==T?void 0:T.users.length,g,"internal-error");const M=T.users[0];m._notifyReloadListener(M);const z=(null===(h=M.providerUserInfo)||void 0===h?void 0:h.length)?ee(M.providerUserInfo):[],fe=Ce(m.providerData,z),at=!!m.isAnonymous&&!(m.email&&M.passwordHash||(null==fe?void 0:fe.length)),Xe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:fe,metadata:new qn(M.createdAt,M.lastLoginAt),isAnonymous:at};Object.assign(m,Xe)})).apply(this,arguments)}function G(){return(G=(0,l.Z)(function*(m){const h=(0,k.m9)(m);yield rr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ce(m,h){return[...m.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function ee(m){return m.map(h=>{var{providerId:g}=h,v=(0,X._T)(h,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Ee(){return(Ee=(0,l.Z)(function*(m,h){const g=yield xr(m,{},(0,l.Z)(function*(){const v=(0,k.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:M}=m.config,z=Zi(m,T,"/v1/token",`key=${M}`),fe=yield m._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",On.fetch()(z,{method:"POST",headers:fe,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class _e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){re(h.idToken,"internal-error"),re(void 0!==h.idToken,"internal-error"),re(void 0!==h.refreshToken,"internal-error");const g="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function st(m){const h=Qe(m);return re(h,"internal-error"),re(void 0!==h.exp,"internal-error"),re(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var v=this;return(0,l.Z)(function*(){return re(!v.accessToken||v.refreshToken,h,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var v=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:M,expiresIn:z}=yield function He(m,h){return Ee.apply(this,arguments)}(h,g);v.updateTokensAndExpiration(T,M,Number(z))})()}updateTokensAndExpiration(h,g,v){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,g){const{refreshToken:v,accessToken:T,expirationTime:M}=g,z=new _e;return v&&(re("string"==typeof v,"internal-error",{appName:h}),z.refreshToken=v),T&&(re("string"==typeof T,"internal-error",{appName:h}),z.accessToken=T),M&&(re("number"==typeof M,"internal-error",{appName:h}),z.expirationTime=M),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new _e,this.toJSON())}_performRefresh(){return K("not implemented")}}function Pe(m,h){re("string"==typeof m||void 0===m,"internal-error",{appName:h})}class We{constructor(h){var{uid:g,auth:v,stsTokenManager:T}=h,M=(0,X._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new qn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,l.Z)(function*(){const v=yield Zn(g,g.stsTokenManager.getToken(g.auth,h));return re(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(h){return function Rr(m){return Ki.apply(this,arguments)}(this,h)}reload(){return function $(m){return G.apply(this,arguments)}(this)}_assign(h){this!==h&&(re(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new We(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var v=this;return(0,l.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),g&&(yield rr(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,l.Z)(function*(){const g=yield h.getIdToken();return yield Zn(h,function it(m,h){return Mr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var v,T,M,z,fe,Fe,qe,at;const Xe=null!==(v=g.displayName)&&void 0!==v?v:void 0,Kt=null!==(T=g.email)&&void 0!==T?T:void 0,Qr=null!==(M=g.phoneNumber)&&void 0!==M?M:void 0,Hl=null!==(z=g.photoURL)&&void 0!==z?z:void 0,Ya=null!==(fe=g.tenantId)&&void 0!==fe?fe:void 0,$l=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,Bf=null!==(qe=g.createdAt)&&void 0!==qe?qe:void 0,$y=null!==(at=g.lastLoginAt)&&void 0!==at?at:void 0,{uid:wo,emailVerified:hu,isAnonymous:jf,providerData:Hf,stsTokenManager:Wn}=g;re(wo&&Wn,h,"internal-error");const $f=_e.fromJSON(this.name,Wn);re("string"==typeof wo,h,"internal-error"),Pe(Xe,h.name),Pe(Kt,h.name),re("boolean"==typeof hu,h,"internal-error"),re("boolean"==typeof jf,h,"internal-error"),Pe(Qr,h.name),Pe(Hl,h.name),Pe(Ya,h.name),Pe($l,h.name),Pe(Bf,h.name),Pe($y,h.name);const qd=new We({uid:wo,auth:h,email:Kt,emailVerified:hu,displayName:Xe,isAnonymous:jf,photoURL:Hl,phoneNumber:Qr,tenantId:Ya,stsTokenManager:$f,createdAt:Bf,lastLoginAt:$y});return Hf&&Array.isArray(Hf)&&(qd.providerData=Hf.map(dn=>Object.assign({},dn))),$l&&(qd._redirectEventId=$l),qd}static _fromIdTokenResponse(h,g,v=!1){return(0,l.Z)(function*(){const T=new _e;T.updateFromServerResponse(g);const M=new We({uid:g.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield rr(M),M})()}}const et=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,v){var T=this;return(0,l.Z)(function*(){T.storage[g]=v})()}_get(g){var v=this;return(0,l.Z)(function*(){const T=v.storage[g];return void 0===T?null:T})()}_remove(g){var v=this;return(0,l.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return m.type="NONE",m})();function kt(m,h,g){return`firebase:${m}:${h}:${g}`}class qt{constructor(h,g,v){this.persistence=h,this.auth=g,this.userKey=v;const{config:T,name:M}=this.auth;this.fullUserKey=kt(this.userKey,T.apiKey,M),this.fullPersistenceKey=kt("persistence",T.apiKey,M),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?We._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,l.Z)(function*(){if(g.persistence===h)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,v="authUser"){return(0,l.Z)(function*(){if(!g.length)return new qt(ae(et),h,v);const T=(yield Promise.all(g.map(function(){var qe=(0,l.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let M=T[0]||ae(et);const z=kt(v,h.config.apiKey,h.name);let fe=null;for(const qe of g)try{const at=yield qe._get(z);if(at){const Xe=We._fromJSON(h,at);qe!==M&&(fe=Xe),M=qe;break}}catch(at){}const Fe=T.filter(qe=>qe._shouldAllowMigration);return M._shouldAllowMigration&&Fe.length?(M=Fe[0],fe&&(yield M._set(z,fe.toJSON())),yield Promise.all(g.map(function(){var qe=(0,l.Z)(function*(at){if(at!==M)try{yield at._remove(z)}catch(Xe){}});return function(at){return qe.apply(this,arguments)}}())),new qt(M,h,v)):new qt(M,h,v)})()}}function Sa(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(In(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(No(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(bi(h))return"Blackberry";if(Dn(h))return"Webos";if(Aa(h))return"Safari";if((h.includes("chrome/")||Fo(h))&&!h.includes("edge/"))return"Chrome";if(ir(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function No(m=(0,k.z$)()){return/firefox\//i.test(m)}function Aa(m=(0,k.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Fo(m=(0,k.z$)()){return/crios\//i.test(m)}function In(m=(0,k.z$)()){return/iemobile/i.test(m)}function ir(m=(0,k.z$)()){return/android/i.test(m)}function bi(m=(0,k.z$)()){return/blackberry/i.test(m)}function Dn(m=(0,k.z$)()){return/webos/i.test(m)}function _r(m=(0,k.z$)()){return/iphone|ipad|ipod/i.test(m)}function Yi(m=(0,k.z$)()){return _r(m)||ir(m)||Dn(m)||bi(m)||/windows phone/i.test(m)||In(m)}function ro(m,h=[]){let g;switch(m){case"Browser":g=Sa((0,k.z$)());break;case"Worker":g=`${Sa((0,k.z$)())}-${m}`;break;default:g=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${de.SDK_VERSION}/${v}`}class yr{constructor(h,g){this.app=h,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mt(this),this.idTokenSubscription=new mt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=W,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(h,g){var v=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T,M;if(!v._deleted&&(v.persistenceManager=yield qt.create(v,h),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(z){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g)}})()}initializeCurrentUser(h){var g=this;return(0,l.Z)(function*(){var v;let T=yield g.assertedPersistence.getCurrentUser();if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const M=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,z=null==T?void 0:T._redirectEventId,fe=yield g.tryRedirectSignIn(h);(!M||M===z)&&(null==fe?void 0:fe.user)&&(T=fe.user)}return T?T._redirectEventId?(re(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===T._redirectEventId?g.directlySetCurrentUser(T):g.reloadAndSetCurrentUserOrClear(T)):g.reloadAndSetCurrentUserOrClear(T):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var g=this;return(0,l.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch(T){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,l.Z)(function*(){try{yield rr(h)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function lt(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,l.Z)(function*(){const v=h?(0,k.m9)(h):null;return v&&re(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(h){var g=this;return(0,l.Z)(function*(){if(!g._deleted)return h&&re(g.tenantId===h.tenantId,g,"tenant-id-mismatch"),g.queue((0,l.Z)(function*(){yield g.directlySetCurrentUser(h),g.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new k.LL("auth","Firebase",h())}onAuthStateChanged(h,g,v){return this.registerStateListener(this.authStateSubscription,h,g,v)}onIdTokenChanged(h,g,v){return this.registerStateListener(this.idTokenSubscription,h,g,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var v=this;return(0,l.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(g);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const v=h&&ae(h)||g._popupRedirectResolver;re(v,g,"argument-error"),g.redirectPersistenceManager=yield qt.create(g,[ae(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,l.Z)(function*(){var v,T;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===h?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,l.Z)(function*(){if(h===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,v,T){if(this._deleted)return()=>{};const M="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return re(z,this,"internal-error"),z.then(()=>M(this.currentUser)),"function"==typeof g?h.addObserver(g,v,T):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==h&&(g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh()),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ro(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){const g={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(g["X-Firebase-gmpid"]=h.app.options.appId),g})()}}function Oe(m){return(0,k.m9)(m)}class mt{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sr(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function gn(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class Nt{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return K("not implemented")}_getIdTokenResponse(h){return K("not implemented")}_linkToIdToken(h,g){return K("not implemented")}_getReauthenticationResolver(h){return K("not implemented")}}function Ds(m,h){return rn.apply(this,arguments)}function rn(){return(rn=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:resetPassword",Ot(m,h))})).apply(this,arguments)}function ht(m,h){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function io(m,h){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:update",Ot(m,h))})).apply(this,arguments)}function Jt(){return(Jt=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signInWithPassword",Ot(m,h))})).apply(this,arguments)}function Qi(m,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:sendOobCode",Ot(m,h))})).apply(this,arguments)}function sn(m,h){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(m,h){return Qi(m,h)})).apply(this,arguments)}function vc(m,h){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(m,h){return Qi(m,h)})).apply(this,arguments)}function Wr(m,h){return Or.apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(m,h){return Qi(m,h)})).apply(this,arguments)}function Cc(m,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(m,h){return Qi(m,h)})).apply(this,arguments)}function Pr(){return(Pr=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,h))})).apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signInWithEmailLink",Ot(m,h))})).apply(this,arguments)}class Ma extends Nt{constructor(h,g,v,T=null){super("password",v),this._email=h,this._password=g,this._tenantId=T}static _fromEmailAndPassword(h,g){return new Ma(h,g,"password")}static _fromEmailAndCode(h,g,v=null){return new Ma(h,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function oo(m,h){return Jt.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Ji(m,h){return Pr.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:le(h,"internal-error")}})()}_linkToIdToken(h,g){var v=this;return(0,l.Z)(function*(){switch(v.signInMethod){case"password":return ht(h,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function hd(m,h){return Ec.apply(this,arguments)}(h,{idToken:g,email:v._email,oobCode:v._password});default:le(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function vn(m,h){return wc.apply(this,arguments)}function wc(){return(wc=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signInWithIdp",Ot(m,h))})).apply(this,arguments)}class Ti extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new Ti(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):le("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=g,M=(0,X._T)(g,["providerId","signInMethod"]);if(!v||!T)return null;const z=new Ti(v,T);return z.idToken=M.idToken||void 0,z.accessToken=M.accessToken||void 0,z.secret=M.secret,z.nonce=M.nonce,z.pendingToken=M.pendingToken||null,z}_getIdTokenResponse(h){return vn(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,vn(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,vn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,k.xO)(g)}return h}}function cf(m,h){return bc.apply(this,arguments)}function bc(){return(bc=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:sendVerificationCode",Ot(m,h))})).apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,h))})).apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(m,h){const g=yield nr(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,h));if(g.temporaryProof)throw ri(m,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const df={USER_NOT_FOUND:"user-not-found"};function Dc(){return(Dc=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signInWithPhoneNumber",Ot(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),df)})).apply(this,arguments)}class lo extends Nt{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new lo({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new lo({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function uf(m,h){return Uo.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function ao(m,h){return Ic.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function hf(m,h){return Dc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:v,verificationCode:T}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:M}=h;return v||g||T||M?new lo({verificationId:g,verificationCode:v,phoneNumber:T,temporaryProof:M}):null}}class Si{constructor(h){var g,v,T,M,z,fe;const Fe=(0,k.zd)((0,k.pd)(h)),qe=null!==(g=Fe.apiKey)&&void 0!==g?g:null,at=null!==(v=Fe.oobCode)&&void 0!==v?v:null,Xe=function ff(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Fe.mode)&&void 0!==T?T:null);re(qe&&at&&Xe,"argument-error"),this.apiKey=qe,this.operation=Xe,this.code=at,this.continueUrl=null!==(M=Fe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(z=Fe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(fe=Fe.tenantId)&&void 0!==fe?fe:null}static parseLink(h){const g=function fd(m){const h=(0,k.zd)((0,k.pd)(m)).link,g=h?(0,k.zd)((0,k.pd)(h)).deep_link_id:null,v=(0,k.zd)((0,k.pd)(m)).deep_link_id;return(v?(0,k.zd)((0,k.pd)(v)).link:null)||v||g||h||m}(h);try{return new Si(g)}catch(v){return null}}}let Vo=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(g,v){return Ma._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const T=Si.parseLink(v);return re(T,"argument-error"),Ma._fromEmailAndCode(g,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Xi{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class kr extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class xs extends kr{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return re("providerId"in g&&"signInMethod"in g,"argument-error"),Ti._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return re(h.idToken||h.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return xs.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return xs.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:M,nonce:z,providerId:fe}=h;if(!v&&!T&&!g&&!M||!fe)return null;try{return new xs(fe)._credential({idToken:g,accessToken:v,nonce:z,pendingToken:M})}catch(Fe){return null}}}let co=(()=>{class m extends kr{constructor(){super("facebook.com")}static credential(g){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return m.credential(g.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),uo=(()=>{class m extends kr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:T}=g;if(!v&&!T)return null;try{return m.credential(v,T)}catch(M){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Tc=(()=>{class m extends kr{constructor(){super("github.com")}static credential(g){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return m.credential(g.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Ms extends Nt{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return vn(h,this.buildRequest())}_linkToIdToken(h,g){const v=this.buildRequest();return v.idToken=g,vn(h,v)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,vn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:M}=g;return v&&T&&M&&v===T?new Ms(v,M):null}static _create(h,g){return new Ms(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ai extends Xi{constructor(h){re(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ai.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ai.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Ms.fromJSON(h);return re(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:v}=h;if(!g||!v)return null;try{return Ms._create(v,g)}catch(T){return null}}}let Nr=(()=>{class m extends kr{constructor(){super("twitter.com")}static credential(g,v){return Ti._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=g;if(!v||!T)return null;try{return m.credential(v,T)}catch(M){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Ac(m,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signUp",Ot(m,h))})).apply(this,arguments)}class or{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,v,T=!1){return(0,l.Z)(function*(){const M=yield We._fromIdTokenResponse(h,v,T),z=xc(v);return new or({user:M,providerId:z,_tokenResponse:v,operationType:g})})()}static _forOperation(h,g,v){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=xc(v);return new or({user:h,providerId:T,_tokenResponse:v,operationType:g})})()}}function xc(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Ra(){return(Ra=(0,l.Z)(function*(m){var h;const g=Oe(m);if(yield g._initializationPromise,null===(h=g.currentUser)||void 0===h?void 0:h.isAnonymous)return new or({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield Ac(g,{returnSecureToken:!0}),T=yield or._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Oa extends k.ZR{constructor(h,g,v,T){var M;super(g.code,g.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,g,v,T){return new Oa(h,g,v,T)}}function Pa(m,h,g,v){return("reauthenticate"===h?g._getReauthenticationResolver(m):g._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Oa._fromErrorAndOperation(m,M,h,v):M})}function dl(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function hl(){return(hl=(0,l.Z)(function*(m,h){const g=(0,k.m9)(m);yield es(!0,g,h);const{providerUserInfo:v}=yield nn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),T=dl(v||[]);return g.providerData=g.providerData.filter(M=>T.has(M.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function jt(m,h){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(m,h,g=!1){const v=yield Zn(m,h._linkToIdToken(m.auth,yield m.getIdToken()),g);return or._forOperation(m,"link",v)})).apply(this,arguments)}function es(m,h,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(m,h,g){yield rr(h);const T=!1===m?"provider-already-linked":"no-such-provider";re(dl(h.providerData).has(g)===m,h.auth,T)})).apply(this,arguments)}function ka(m,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(m,h,g=!1){const{auth:v}=m,T="reauthenticate";try{const M=yield Zn(m,Pa(v,T,h,m),g);re(M.idToken,v,"internal-error");const z=Qe(M.idToken);re(z,v,"internal-error");const{sub:fe}=z;return re(m.uid===fe,v,"user-mismatch"),or._forOperation(m,T,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&le(v,"user-mismatch"),M}})).apply(this,arguments)}function Rs(m,h){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(m,h,g=!1){const v="signIn",T=yield Pa(m,v,h),M=yield or._fromIdTokenResponse(m,v,T);return g||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Na(m,h){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(m,h){return Rs(Oe(m),h)})).apply(this,arguments)}function Mi(m,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(m,h){const g=(0,k.m9)(m);return yield es(!1,g,h.providerId),jt(g,h)})).apply(this,arguments)}function ho(m,h){return ii.apply(this,arguments)}function ii(){return(ii=(0,l.Z)(function*(m,h){return ka((0,k.m9)(m),h)})).apply(this,arguments)}function fl(m,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(m,h){return nr(m,"POST","/v1/accounts:signInWithCustomToken",Ot(m,h))})).apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(m,h){const g=Oe(m),v=yield fl(g,{token:h,returnSecureToken:!0}),T=yield or._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class nt{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Ho._fromServerResponse(h,g):le(h,"internal-error")}}class Ho extends nt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Ho(g)}}function $o(m,h,g){var v;re((null===(v=g.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),re(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(re(g.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(re(g.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Go(){return(Go=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m),T={requestType:"PASSWORD_RESET",email:h};g&&$o(v,T,g),yield vc(v,T)})).apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(m,h,g){yield Ds((0,k.m9)(m),{oobCode:h,newPassword:g})})).apply(this,arguments)}function be(){return(be=(0,l.Z)(function*(m,h){yield io((0,k.m9)(m),{oobCode:h})})).apply(this,arguments)}function yt(m,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(m,h){const g=(0,k.m9)(m),v=yield Ds(g,{oobCode:h}),T=v.requestType;switch(re(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(v.mfaInfo,g,"internal-error");default:re(v.email,g,"internal-error")}let M=null;return v.mfaInfo&&(M=nt._fromServerResponse(Oe(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:T}})).apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(m,h){const{data:g}=yield yt((0,k.m9)(m),h);return g.email})).apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(m,h,g){const v=Oe(m),T=yield Ac(v,{returnSecureToken:!0,email:h,password:g}),M=yield or._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};re(g.handleCodeInApp,v,"argument-error"),g&&$o(v,T,g),yield Wr(v,T)})).apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m),T=Vo.credentialWithLink(h,g||ct());return re(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Na(v,T)})).apply(this,arguments)}function Tn(m,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:createAuthUri",Ot(m,h))})).apply(this,arguments)}function si(){return(si=(0,l.Z)(function*(m,h){const v={identifier:h,continueUri:Mt()?ct():"http://localhost"},{signinMethods:T}=yield Tn((0,k.m9)(m),v);return T||[]})).apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(m,h){const g=(0,k.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&$o(g.auth,T,h);const{email:M}=yield sn(g.auth,T);M!==m.email&&(yield m.reload())})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};g&&$o(v.auth,M,g);const{email:z}=yield Cc(v.auth,M);z!==m.email&&(yield m.reload())})).apply(this,arguments)}function Nc(m,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(m,h){return Ct(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(m,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const v=(0,k.m9)(m),M={idToken:yield v.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},z=yield Zn(v,Nc(v.auth,M));v.displayName=z.displayName||null,v.photoURL=z.photoUrl||null;const fe=v.providerData.find(({providerId:Fe})=>"password"===Fe);fe&&(fe.displayName=v.displayName,fe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(z)})).apply(this,arguments)}function Fa(m,h,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(m,h,g){const{auth:v}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(M.email=h),g&&(M.password=g);const z=yield Zn(m,ht(v,M));yield m._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class ks{constructor(h,g,v={}){this.isNewUser=h,this.providerId=g,this.profile=v}}class Fc extends ks{constructor(h,g,v,T){super(h,g,v),this.username=T}}class gd extends ks{constructor(h,g){super(h,"facebook.com",g)}}class po extends Fc{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class oi extends ks{constructor(h,g){super(h,"google.com",g)}}class md extends Fc{constructor(h,g,v){super(h,"twitter.com",g,v)}}function Fn(m){const{user:h,_tokenResponse:g}=m;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Cl(m){var h,g;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const z=null===(g=null===(h=Qe(m.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new ks(M,"anonymous"!==z&&"custom"!==z?z:null)}if(!v)return null;switch(v){case"facebook.com":return new gd(M,T);case"github.com":return new po(M,T);case"google.com":return new oi(M,T);case"twitter.com":return new md(M,T,m.screenName||null);case"custom":case"anonymous":return new ks(M,null);default:return new ks(M,v,T)}}(g)}class Pi{constructor(h,g){this.type=h,this.credential=g}static _fromIdtoken(h){return new Pi("enroll",h)}static _fromMfaPendingCredential(h){return new Pi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,v;if(null==h?void 0:h.multiFactorSession){if(null===(g=h.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Pi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return Pi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Jo{constructor(h,g,v){this.session=h,this.hints=g,this.signInResolver=v}static _fromError(h,g){const v=Oe(h),T=g.customData._serverResponse,M=(T.mfaInfo||[]).map(fe=>nt._fromServerResponse(v,fe));re(T.mfaPendingCredential,v,"internal-error");const z=Pi._fromMfaPendingCredential(T.mfaPendingCredential);return new Jo(z,M,function(){var fe=(0,l.Z)(function*(Fe){const qe=yield Fe._process(v,z);delete T.mfaInfo,delete T.mfaPendingCredential;const at=Object.assign(Object.assign({},T),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(g.operationType){case"signIn":const Xe=yield or._fromIdTokenResponse(v,g.operationType,at);return yield v._updateCurrentUser(Xe.user),Xe;case"reauthenticate":return re(g.user,v,"internal-error"),or._forOperation(g.user,g.operationType,at);default:le(v,"internal-error")}});return function(Fe){return fe.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,l.Z)(function*(){return g.signInResolver(h)})()}}function La(m,h){return Ct(m,"POST","/v2/accounts/mfaEnrollment:start",Ot(m,h))}class ki{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>nt._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new ki(h)}getSession(){var h=this;return(0,l.Z)(function*(){return Pi._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,g){var v=this;return(0,l.Z)(function*(){const T=h,M=yield v.getSession(),z=yield Zn(v.user,T._process(v.user.auth,M,g));return yield v.user._updateTokensIfNecessary(z),v.user.reload()})()}unenroll(h){var g=this;return(0,l.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield g.user.getIdToken(),M=yield Zn(g.user,function yd(m,h){return Ct(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Ot(m,h))}(g.user.auth,{idToken:T,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==v),yield g.user._updateTokensIfNecessary(M);try{yield g.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const go=new WeakMap,Xo="__sak";class ea{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sn=(()=>{class m extends ea{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ua(){const m=(0,k.z$)();return Aa(m)||_r(m)}()&&function Hn(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=Yi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),M=this.localCache[v];T!==M&&g(v,M,T)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((fe,Fe,qe)=>{this.notifyListeners(fe,qe)});const T=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(T);if(g.newValue!==fe)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!v)return}const M=()=>{const fe=this.storage.getItem(T);!v&&this.localCache[T]===fe||this.notifyListeners(T,fe)},z=this.storage.getItem(T);!function Lo(){return(0,k.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?M():setTimeout(M,10)}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const M of Array.from(T))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var T=()=>super._set,M=this;return(0,l.Z)(function*(){yield T().call(M,g,v),M.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,T=this;return(0,l.Z)(function*(){const M=yield v().call(T,g);return T.localCache[g]=JSON.stringify(M),M})()}_remove(g){var v=()=>super._remove,T=this;return(0,l.Z)(function*(){yield v().call(T,g),delete T.localCache[g]})()}}return m.type="LOCAL",m})(),Ni=(()=>{class m extends ea{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return m.type="SESSION",m})();let Va=(()=>{class m{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(M=>M.isListeningto(g));if(v)return v;const T=new m(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,l.Z)(function*(){const T=g,{eventId:M,eventType:z,data:fe}=T.data,Fe=v.handlersMap[z];if(!(null==Fe?void 0:Fe.size))return;T.ports[0].postMessage({status:"ack",eventId:M,eventType:z});const qe=Array.from(Fe).map(function(){var Xe=(0,l.Z)(function*(Kt){return Kt(T.origin,fe)});return function(Kt){return Xe.apply(this,arguments)}}()),at=yield function bl(m){return Promise.all(m.map(function(){var h=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return h.apply(this,arguments)}}()))}(qe);T.ports[0].postMessage({status:"done",eventId:M,eventType:z,response:at})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function is(m="",h=10){let g="";for(let v=0;v<h;v++)g+=Math.floor(10*Math.random());return m+g}class Uc{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,v=50){var T=this;return(0,l.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let z,fe;return new Promise((Fe,qe)=>{const at=is("",20);M.port1.start();const Xe=setTimeout(()=>{qe(new Error("unsupported_event"))},v);fe={messageChannel:M,onMessage(Kt){const Qr=Kt;if(Qr.data.eventId===at)switch(Qr.data.status){case"ack":clearTimeout(Xe),z=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Fe(Qr.data.response);break;default:clearTimeout(Xe),clearTimeout(z),qe(new Error("invalid_response"))}}},T.handlers.add(fe),M.port1.addEventListener("message",fe.onMessage),T.target.postMessage({eventType:h,eventId:at,data:g},[M.port2])}).finally(()=>{fe&&T.removeMessageHandler(fe)})})()}}function At(){return window}function xt(){return void 0!==At().WorkerGlobalScope&&"function"==typeof At().importScripts}function Ns(){return(Ns=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Ba="firebaseLocalStorageDb",ta="firebaseLocalStorage",lr="fbase_key";class $n{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ss(m,h){return m.transaction([ta],h?"readwrite":"readonly").objectStore(ta)}function cr(){const m=indexedDB.open(Ba,1);return new Promise((h,g)=>{m.addEventListener("error",()=>{g(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(ta,{keyPath:lr})}catch(T){g(T)}}),m.addEventListener("success",(0,l.Z)(function*(){const v=m.result;v.objectStoreNames.contains(ta)?h(v):(v.close(),yield function na(){const m=indexedDB.deleteDatabase(Ba);return new $n(m).toPromise()}(),h(yield cr()))}))})}function Dl(m,h,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(m,h,g){const v=ss(m,!0).put({[lr]:h,value:g});return new $n(v).toPromise()})).apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(m,h){const g=ss(m,!1).get(h),v=yield new $n(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function ia(m,h){const g=ss(m,!0).delete(h);return new $n(g).toPromise()}const Li=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield cr()),g.db})()}_withRetries(g){var v=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const M=yield v._openDb();return yield g(M)}catch(M){if(T++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return xt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=Va._getInstance(function Il(){return xt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,l.Z)(function*(T,M){return{keyProcessed:(yield g._poll()).includes(M.key)}});return function(T,M){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,l.Z)(function*(T,M){return["keyChanged"]});return function(T,M){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var v,T;if(g.activeServiceWorker=yield function Ze(){return Ns.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Uc(g.activeServiceWorker);const M=yield g.sender._send("ping",{},800);!M||(null===(v=M[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=M[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,l.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Vc(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield cr();return yield Dl(g,Xo,"1"),yield ia(g,Xo),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,l.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(M=>Dl(M,g,v)),T.localCache[g]=v,T.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,l.Z)(function*(){const T=yield v._withRetries(M=>function ai(m,h){return Fr.apply(this,arguments)}(M,g));return v.localCache[g]=T,T})()}_remove(g){var v=this;return(0,l.Z)(function*(){return v._withPendingWrite((0,l.Z)(function*(){return yield v._withRetries(T=>ia(T,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const v=yield g._withRetries(z=>{const fe=ss(z,!1).getAll();return new $n(fe).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const T=[],M=new Set;for(const{fbase_key:z,value:fe}of v)M.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(fe)&&(g.notifyListeners(z,fe),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!M.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,v){this.localCache[g]=v;const T=this.listeners[g];if(T)for(const M of Array.from(T))M(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function jc(m,h){return Ct(m,"POST","/v2/accounts/mfaSignIn:start",Ot(m,h))}function Ui(){return(Ui=(0,l.Z)(function*(m){return(yield Ct(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function aa(m){return new Promise((h,g)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=T=>{const M=ge("internal-error");M.customData=T,g(M)},v.type="text/javascript",v.charset="UTF-8",function oa(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function Fs(m){return`__${m}${Math.floor(1e6*Math.random())}`}const ci=1e12;class la{constructor(h){this.auth=h,this.counter=ci,this._widgets=new Map}render(h,g){const v=this.counter;return this._widgets.set(v,new Sl(h,this.auth.name,g||{})),this.counter++,v}reset(h){var g;const v=h||ci;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(h){var g;return(null===(g=this._widgets.get(h||ci))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,l.Z)(function*(){var v;return null===(v=g._widgets.get(h||ci))||void 0===v||v.execute(),""})()}}class Sl{constructor(h,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;re(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Us(m){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)h.push(g.charAt(Math.floor(Math.random()*g.length)));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hc=Fs("rcb"),ja=new tn(3e4,6e4);class $c{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!At().grecaptcha}load(h,g=""){return re(function yf(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(g),h,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(At().grecaptcha):new Promise((v,T)=>{const M=At().setTimeout(()=>{T(ge(h,"network-request-failed"))},ja.get());At()[Hc]=()=>{At().clearTimeout(M),delete At()[Hc];const fe=At().grecaptcha;if(!fe)return void T(ge(h,"internal-error"));const Fe=fe.render;fe.render=(qe,at)=>{const Xe=Fe(qe,at);return this.counter++,Xe},this.hostLanguage=g,v(fe)},aa(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:Hc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(M),T(ge(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!At().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ed{load(h){return(0,l.Z)(function*(){return new la(h)})()}clearedOneInstance(){}}const Gc="recaptcha",zc={theme:"light",type:"image"};class Wc{constructor(h,g=Object.assign({},zc),v){this.parameters=g,this.type=Gc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(v),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;re(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ed:new $c,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const g=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(g)||new Promise(M=>{const z=fe=>{!fe||(h.tokenChangeListeners.delete(z),M(fe))};h.tokenChangeListeners.add(z),h.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof h)h(g);else if("string"==typeof h){const v=At()[h];"function"==typeof v&&v(g)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){re(Mt()&&!xt(),h.auth,"internal-error"),yield function Zc(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function sa(m){return Ui.apply(this,arguments)}(h.auth);re(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ui{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=lo._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Xt(){return(Xt=(0,l.Z)(function*(m,h,g){const v=Oe(m),T=yield Gn(v,h,(0,k.m9)(g));return new ui(T,M=>Na(v,M))})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m);yield es(!1,v,"phone");const T=yield Gn(v.auth,h,(0,k.m9)(g));return new ui(T,M=>Mi(v,M))})).apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m),T=yield Gn(v.auth,h,(0,k.m9)(g));return new ui(T,M=>ho(v,M))})).apply(this,arguments)}function Gn(m,h,g){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(m,h,g){var v;const T=yield g.verify();try{let M;if(re("string"==typeof T,m,"argument-error"),re(g.type===Gc,m,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const z=M.session;if("phoneNumber"in M)return re("enroll"===z.type,m,"internal-error"),(yield La(m,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{re("signin"===z.type,m,"internal-error");const fe=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return re(fe,m,"missing-multi-factor-info"),(yield jc(m,{mfaPendingCredential:z.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield cf(m,{phoneNumber:M.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}})).apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(m,h){yield jt((0,k.m9)(m),h)})).apply(this,arguments)}let Er=(()=>{class m{constructor(g){this.providerId=m.PROVIDER_ID,this.auth=Oe(g)}verifyPhoneNumber(g,v){return Gn(this.auth,g,(0,k.m9)(v))}static credential(g,v){return lo._fromVerification(g,v)}static credentialFromResult(g){return m.credentialFromTaggedObject(g)}static credentialFromError(g){return m.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:T}=g;return v&&T?lo._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function wr(m,h){return h?ae(h):(re(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class qc extends Nt{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return vn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return vn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return vn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Kc(m){return Rs(m.auth,new qc(m),m.bypassAuthState)}function Ng(m){const{auth:h,user:g}=m;return re(g,h,"internal-error"),ka(g,new qc(m),m.bypassAuthState)}function Fg(m){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(m){const{auth:h,user:g}=m;return re(g,h,"internal-error"),jt(g,new qc(m),m.bypassAuthState)})).apply(this,arguments)}class An{constructor(h,g,v,T,M=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,l.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(v,T){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,l.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:M,tenantId:z,error:fe,type:Fe}=h;if(fe)return void g.reject(fe);const qe={auth:g.auth,requestUri:v,sessionId:T,tenantId:z||void 0,postBody:M||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(qe))}catch(at){g.reject(at)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Kc;case"linkViaPopup":case"linkViaRedirect":return Fg;case"reauthViaPopup":case"reauthViaRedirect":return Ng;default:le(this.auth,"internal-error")}}resolve(h){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){oe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xl=new tn(2e3,1e4);function bd(){return(bd=(0,l.Z)(function*(m,h,g){const v=Oe(m);Be(m,h,Xi);const T=wr(v,g);return new Yc(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m);Be(v.auth,h,Xi);const T=wr(v.auth,g);return new Yc(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m);Be(v.auth,h,Xi);const T=wr(v.auth,g);return new Yc(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let Yc=(()=>{class m extends An{constructor(g,v,T,M,z){super(g,v,M,z),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const v=yield g.execute();return re(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,l.Z)(function*(){oe(1===g.filter.length,"Popup operations only handle one event");const v=is();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,xl.get())};g()}}return m.currentPopupAction=null,m})();const Vi=new Map;class _o extends An{constructor(h,g,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,l.Z)(function*(){let v=Vi.get(g.auth._key());if(!v){try{const M=(yield function yo(m,h){return b.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;v=()=>Promise.resolve(M)}catch(T){v=()=>Promise.reject(T)}Vi.set(g.auth._key(),v)}return g.bypassAuthState||Vi.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,v=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,g().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function b(){return(b=(0,l.Z)(function*(m,h){const g=ie(h),v=Z(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(g));return yield v._remove(g),T})).apply(this,arguments)}function I(m,h){return x.apply(this,arguments)}function x(){return(x=(0,l.Z)(function*(m,h){return Z(m)._set(ie(h),"true")})).apply(this,arguments)}function Z(m){return ae(m._redirectPersistence)}function ie(m){return kt("pendingRedirect",m.config.apiKey,m.name)}function Ge(){return(Ge=(0,l.Z)(function*(m,h,g){const v=Oe(m);Be(m,h,Xi);const T=wr(v,g);return yield I(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m);Be(v.auth,h,Xi);const T=wr(v.auth,g);yield I(T,v.auth);const M=yield vo(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(m,h,g){const v=(0,k.m9)(m);Be(v.auth,h,Xi);const T=wr(v.auth,g);yield es(!1,v,h.providerId),yield I(T,v.auth);const M=yield vo(v);return T._openRedirect(v.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(m,h){return yield Oe(m)._initializationPromise,Lr(m,h,!1)})).apply(this,arguments)}function Lr(m,h){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(m,h,g=!1){const v=Oe(m),T=wr(v,h),z=yield new _o(v,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield v._persistUserIfCurrent(z.user),yield v._setRedirectUser(null,h)),z})).apply(this,arguments)}function vo(m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(m){const h=is(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class Qc{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(g=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Jc(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Id(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var v;if(h.error&&!Id(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(ge(this.auth,T))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const v=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Co(h))}saveEventToCache(h){this.cachedEventUids.add(Co(h)),this.lastProcessedEventTime=Date.now()}}function Co(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Id({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Rl(m){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(m,h={}){return Ct(m,"GET","/v1/projects",h)})).apply(this,arguments)}const Dd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Td=/^https?/;function Gs(){return(Gs=(0,l.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield Rl(m);for(const g of h)try{if($a(g))return}catch(v){}le(m,"unauthorized-domain")})).apply(this,arguments)}function $a(m){const h=ct(),{protocol:g,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const z=new URL(m);return""===z.hostname&&""===v?"chrome-extension:"===g&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===v}if(!Td.test(g))return!1;if(Dd.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const vf=new tn(3e4,6e4);function Sd(){const m=At().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let g=0;g<m.CP.length;g++)m.CP[g]=null}let Ga=null;function Py(m){return Ga=Ga||function Ad(m){return new Promise((h,g)=>{var v,T,M;function z(){Sd(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Sd(),g(ge(m,"network-request-failed"))},timeout:vf.get()})}if(null===(T=null===(v=At().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(M=At().gapi)||void 0===M?void 0:M.load)){const fe=Fs("iframefcb");return At()[fe]=()=>{gapi.load?z():g(ge(m,"network-request-failed"))},aa(`https://apis.google.com/js/api.js?onload=${fe}`).catch(Fe=>g(Fe))}z()}}).catch(h=>{throw Ga=null,h})}(m),Ga}const Ug=new tn(5e3,15e3),Pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kl(m){const h=m.config;re(h.authDomain,m,"auth-domain-config-required");const g=h.emulator?Rt(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:de.SDK_VERSION},T=Cf.get(m.config.apiHost);T&&(v.eid=T);const M=m._getFrameworks();return M.length&&(v.fw=M.join(",")),`${g}?${(0,k.xO)(v).slice(1)}`}function Ef(){return Ef=(0,l.Z)(function*(m){const h=yield Py(m),g=At().gapi;return re(g,m,"internal-error"),h.open({where:document.body,url:kl(m),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pl,dontclear:!0},v=>new Promise(function(){var T=(0,l.Z)(function*(M,z){yield v.restyle({setHideOnLeave:!1});const fe=ge(m,"network-request-failed"),Fe=At().setTimeout(()=>{z(fe)},Ug.get());function qe(){At().clearTimeout(Fe),M(v)}v.ping(qe).then(qe,()=>{z(fe)})});return function(M,z){return T.apply(this,arguments)}}()))}),Ef.apply(this,arguments)}const Ny={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Za{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Xc(m,h,g,v,T,M){re(m.config.authDomain,m,"auth-domain-config-required"),re(m.config.apiKey,m,"invalid-api-key");const z={apiKey:m.config.apiKey,appName:m.name,authType:g,redirectUrl:v,v:de.SDK_VERSION,eventId:T};if(h instanceof Xi){h.setDefaultLanguage(m.languageCode),z.providerId=h.providerId||"",(0,k.xb)(h.getCustomParameters())||(z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Fe,qe]of Object.entries(M||{}))z[Fe]=qe}if(h instanceof kr){const Fe=h.getScopes().filter(qe=>""!==qe);Fe.length>0&&(z.scopes=Fe.join(","))}m.tenantId&&(z.tid=m.tenantId);const fe=z;for(const Fe of Object.keys(fe))void 0===fe[Fe]&&delete fe[Fe];return`${function Bg({config:m}){return m.emulator?Rt(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,k.xO)(fe).slice(1)}`}const Yr="webStorageSupport";class Df extends class If{constructor(h){this.factorId=h}_process(h,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,v);case"signin":return this._finalizeSignIn(h,g.credential);default:return K("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Df(h)}_finalizeEnroll(h,g,v){return function Ln(m,h){return Ct(m,"POST","/v2/accounts/mfaEnrollment:finalize",Ot(m,h))}(h,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function Tl(m,h){return Ct(m,"POST","/v2/accounts/mfaSignIn:finalize",Ot(m,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jg=(()=>{class m{constructor(){}static assertion(g){return Df._fromCredential(g)}}return m.FACTOR_ID="phone",m})();var Hg="@firebase/auth";class Tf{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(v=>{var T;h((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Eo(){return window}function qa(){return(qa=(0,l.Z)(function*(m,h,g){var v;const{BuildInfo:T}=Eo();oe(h.sessionId,"AuthEvent did not contain a session ID");const M=yield Uy(h.sessionId),z={};return _r()?z.ibi=T.packageName:ir()?z.apn=T.packageName:le(m,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=M,Xc(m,g,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,z)})).apply(this,arguments)}function hi(){return(hi=(0,l.Z)(function*(m){const{BuildInfo:h}=Eo(),g={};_r()?g.iosBundleId=h.packageName:ir()?g.androidPackageName=h.packageName:le(m,"operation-not-supported-in-this-environment"),yield Rl(m,g)})).apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(m,h,g){const{cordova:v}=Eo();let T=()=>{};try{yield new Promise((M,z)=>{let fe=null;function Fe(){var Xe;M();const Kt=null===(Xe=v.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof Kt&&Kt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function qe(){fe||(fe=window.setTimeout(()=>{z(ge(m,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===(null==document?void 0:document.visibilityState)&&qe()}h.addPassiveListener(Fe),document.addEventListener("resume",qe,!1),ir()&&document.addEventListener("visibilitychange",at,!1),T=()=>{h.removePassiveListener(Fe),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",at,!1),fe&&window.clearTimeout(fe)}})}finally{T()}})).apply(this,arguments)}function Uy(m){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,l.Z)(function*(m){const h=Mf(m),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Mf(m){if(oe(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const h=new ArrayBuffer(m.length),g=new Uint8Array(h);for(let v=0;v<m.length;v++)g[v]=m.charCodeAt(v);return g}!function $g(m){(0,de._registerComponent)(new se.wA("auth",(h,{options:g})=>{const v=h.getProvider("app").getImmediate(),{apiKey:T,authDomain:M}=v.options;return(z=>{re(T&&!T.includes(":"),"invalid-api-key",{appName:z.name}),re(!(null==M?void 0:M.includes(":")),"argument-error",{appName:z.name});const fe={apiKey:T,authDomain:M,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ro(m)},Fe=new yr(z,fe);return function he(m,h){const g=(null==h?void 0:h.persistence)||[],v=(Array.isArray(g)?g:[g]).map(ae);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Fe,g),Fe})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,v)=>{h.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new se.wA("auth-internal",h=>{const g=Oe(h.getProvider("auth").getImmediate());return new Tf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Hg,"0.19.9",function Pd(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,de.registerVersion)(Hg,"0.19.9","esm2017")}("Browser");class tu extends Qc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,l.Z)(function*(){yield h.initPromise})()}}function fa(m){return nu.apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(m){const h=yield ru()._get(Ud(m));return h&&(yield ru()._remove(Ud(m))),h})).apply(this,arguments)}function Wg(){const m=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*h.length);m.push(h.charAt(v))}return m.join("")}function ru(){return ae(Sn)}function Ud(m){return kt("authEvent",m.config.apiKey,m.name)}function Ll(m){if(!(null==m?void 0:m.includes("?")))return{};const[h,...g]=m.split("?");return(0,k.zd)(g.join("?"))}function iu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function jd(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function qg(m=(0,k.z$)()){return!("file:"!==jd()&&"ionic:"!==jd()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){try{const m=self.localStorage,h=is();if(m)return m.setItem(h,"1"),m.removeItem(h),!function au(m=(0,k.z$)()){return function By(){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)}()||function jy(m=(0,k.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,k.hl)()}catch(m){return lu()&&(0,k.hl)()}return!1}function lu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Je(){return(function Vy(){return"http:"===jd()||"https:"===jd()}()||(0,k.ru)()||qg())&&!function kf(){return(0,k.b$)()||(0,k.UG)()}()&&br()&&!lu()}function Mn(){return qg()&&"undefined"!=typeof document}function fi(){return(fi=(0,l.Z)(function*(){return!!Mn()&&new Promise(m=>{const h=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),m(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},Ka=re,cu="persistence";function uu(m){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,l.Z)(function*(m){yield m._initializationPromise;const h=Ff(),g=kt(cu,m.config.apiKey,m.name);h&&h.setItem(g,m._getPersistence())})).apply(this,arguments)}function Ff(){var m;try{return(null===(m=function yn(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(h){return null}}const Lf=re;class ji{constructor(){this.browserResolver=ae(class Fl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ni,this._completeRedirectFn=Lr}_openPopup(h,g,v,T){var M=this;return(0,l.Z)(function*(){var z;oe(null===(z=M.eventManagers[h._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const fe=Xc(h,g,v,ct(),T);return function wf(m,h,g,v=500,T=600){const M=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-v)/2,0).toString();let fe="";const Fe=Object.assign(Object.assign({},Ny),{width:v.toString(),height:T.toString(),top:M,left:z}),qe=(0,k.z$)().toLowerCase();g&&(fe=Fo(qe)?"_blank":g),No(qe)&&(h=h||"http://localhost",Fe.scrollbars="yes");const at=Object.entries(Fe).reduce((Kt,[Qr,Hl])=>`${Kt}${Qr}=${Hl},`,"");if(function Is(m=(0,k.z$)()){var h;return _r(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(qe)&&"_self"!==fe)return function bf(m,h){const g=document.createElement("a");g.href=m,g.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(h||"",fe),new Za(null);const Xe=window.open(h||"",fe,at);re(Xe,m,"popup-blocked");try{Xe.focus()}catch(Kt){}return new Za(Xe)}(h,fe,is())})()}_openRedirect(h,g,v,T){var M=this;return(0,l.Z)(function*(){return yield M._originValidation(h),function Fi(m){At().location.href=m}(Xc(h,g,v,ct(),T)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:T,promise:M}=this.eventManagers[g];return T?Promise.resolve(T):(oe(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(h);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(h){var g=this;return(0,l.Z)(function*(){const v=yield function ky(m){return Ef.apply(this,arguments)}(h),T=new Qc(h);return v.register("authEvent",M=>(re(null==M?void 0:M.authEvent,h,"invalid-auth-event"),{status:T.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:T},g.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(Yr,{type:Yr},T=>{var M;const z=null===(M=null==T?void 0:T[0])||void 0===M?void 0:M[Yr];void 0!==z&&g(!!z),le(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Lg(m){return Gs.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Yi()||Aa()||_r()}}),this.cordovaResolver=ae(class Bd{constructor(){this._redirectPersistence=Ni,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Lr}_initialize(h){var g=this;return(0,l.Z)(function*(){const v=h._key();let T=g.eventManagers.get(v);return T||(T=new tu(h),g.eventManagers.set(v,T),g.attachCallbackListeners(h,T)),T})()}_openPopup(h){le(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,v,T){var M=this;return(0,l.Z)(function*(){!function Nd(m){var h,g,v,T,M,z,fe,Fe,qe,at;const Xe=Eo();re("function"==typeof(null===(h=null==Xe?void 0:Xe.universalLinks)||void 0===h?void 0:h.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(void 0!==(null===(g=null==Xe?void 0:Xe.BuildInfo)||void 0===g?void 0:g.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(M=null===(T=null===(v=null==Xe?void 0:Xe.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===M?void 0:M.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Fe=null===(fe=null===(z=null==Xe?void 0:Xe.cordova)||void 0===z?void 0:z.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===Fe?void 0:Fe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(at=null===(qe=null==Xe?void 0:Xe.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===at?void 0:at.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const z=yield M._initialize(h);yield z.initialized(),z.resetRedirect(),function L(){Vi.clear()}(),yield M._originValidation(h);const fe=function Ld(m,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Wg(),postBody:null,tenantId:m.tenantId,error:ge(m,"no-auth-event")}}(h,v,T);yield function zg(m,h){return ru()._set(Ud(m),h)}(h,fe);const Fe=yield function Af(m,h,g){return qa.apply(this,arguments)}(h,fe,g),qe=yield function ha(m){const{cordova:h}=Eo();return new Promise(g=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(m):T=h.InAppBrowser.open(m,function yc(m=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),g(T)})})}(Fe);return function xf(m,h,g){return eu.apply(this,arguments)}(h,z,qe)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function kd(m){return hi.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:v,handleOpenURL:T,BuildInfo:M}=Eo(),z=setTimeout((0,l.Z)(function*(){yield fa(h),g.onEvent(iu())}),500),fe=function(){var at=(0,l.Z)(function*(Xe){clearTimeout(z);const Kt=yield fa(h);let Qr=null;Kt&&(null==Xe?void 0:Xe.url)&&(Qr=function Rf(m,h){var g,v;const T=function zs(m){const h=Ll(m),g=h.link?decodeURIComponent(h.link):void 0,v=Ll(g).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Ll(T).link||T||v||g||m}(h);if(T.includes("/__/auth/callback")){const M=Ll(T),z=M.firebaseError?function Of(m){try{return JSON.parse(m)}catch(h){return null}}(decodeURIComponent(M.firebaseError)):null,fe=null===(v=null===(g=null==z?void 0:z.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Fe=fe?ge(fe):null;return Fe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:T,postBody:null}}return null}(Kt,Xe.url)),g.onEvent(Qr||iu())});return function(Kt){return at.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,fe);const Fe=T,qe=`${M.packageName.toLowerCase()}://`;Eo().handleOpenURL=function(){var at=(0,l.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(qe)&&fe({url:Xe}),"function"==typeof Fe)try{Fe(Xe)}catch(Kt){console.error(Kt)}});return function(Xe){return at.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ni,this._completeRedirectFn=Lr}_initialize(h){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,v,T){var M=this;return(0,l.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,g,v,T)})()}_openRedirect(h,g,v,T){var M=this;return(0,l.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,g,v,T)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Mn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Lf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,l.Z)(function*(){if(h.underlyingResolver)return;const g=yield function Vn(){return fi.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function ls(m){return m.unwrap()}function $d(m){return Gd(m)}function Gd(m){const{_tokenResponse:h}=m instanceof k.ZR?m.customData:m;if(!h)return null;if(!(m instanceof k.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Er.credentialFromResult(m);const g=h.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=uo;break;case"facebook.com":v=co;break;case"github.com":v=Tc;break;case"twitter.com":v=Nr;break;default:const{oauthIdToken:T,oauthAccessToken:M,oauthTokenSecret:z,pendingToken:fe,nonce:Fe}=h;return M||z||T||fe?fe?g.startsWith("saml.")?Ms._create(g,fe):Ti._fromParams({providerId:g,signInMethod:g,pendingToken:fe,idToken:T,accessToken:M}):new xs(g).credential({idToken:T,accessToken:M,rawNonce:Fe}):null}return m instanceof k.ZR?v.credentialFromError(m):v.credentialFromResult(m)}function zn(m,h){return h.catch(g=>{throw g instanceof k.ZR&&function Kg(m,h){var g;const v=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Ul(m,function wl(m,h){var g;const v=(0,k.m9)(m),T=h;return re(h.customData.operationType,v,"argument-error"),re(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Jo._fromError(v,T)}(m,h));else if(v){const T=Gd(h),M=h;T&&(M.credential=T,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(m,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:$d(g),additionalUserInfo:Fn(g),user:zt.getOrCreate(T)}})}function du(m,h){return zd.apply(this,arguments)}function zd(){return(zd=(0,l.Z)(function*(m,h){const g=yield h;return{verificationId:g.verificationId,confirm:v=>zn(m,g.confirm(v))}})).apply(this,arguments)}class Ul{constructor(h,g){this.resolver=g,this.auth=function Hy(m){return m.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return zn(ls(this.auth),this.resolver.resolveSignIn(h))}}class zt{constructor(h){this._delegate=h,this.multiFactor=function mf(m){const h=(0,k.m9)(m);return go.has(h)||go.set(h,ki._fromUser(h)),go.get(h)}(h)}static getOrCreate(h){return zt.USER_MAP.has(h)||zt.USER_MAP.set(h,new zt(h)),zt.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,l.Z)(function*(){return zn(g.auth,Mi(g._delegate,h))})()}linkWithPhoneNumber(h,g){var v=this;return(0,l.Z)(function*(){return du(v.auth,function ca(m,h,g){return ur.apply(this,arguments)}(v._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,l.Z)(function*(){return zn(g.auth,function Bs(m,h,g){return Ml.apply(this,arguments)}(g._delegate,h,ji))})()}linkWithRedirect(h){var g=this;return(0,l.Z)(function*(){return yield uu(Oe(g.auth)),function Ft(m,h,g){return function Cn(m,h,g){return as.apply(this,arguments)}(m,h,g)}(g._delegate,h,ji)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,l.Z)(function*(){return zn(g.auth,ho(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return du(this.auth,function dr(m,h,g){return mo.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return zn(this.auth,function os(m,h,g){return Ha.apply(this,arguments)}(this._delegate,h,ji))}reauthenticateWithRedirect(h){var g=this;return(0,l.Z)(function*(){return yield uu(Oe(g.auth)),function wt(m,h,g){return function Ht(m,h,g){return Un.apply(this,arguments)}(m,h,g)}(g._delegate,h,ji)})()}sendEmailVerification(h){return function Ri(m,h){return Ko.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,l.Z)(function*(){return yield function xi(m,h){return hl.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function vl(m,h){return Fa((0,k.m9)(m),h,null)}(this._delegate,h)}updatePassword(h){return function gf(m,h){return Fa((0,k.m9)(m),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Vs(m,h){return Kr.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function yl(m,h){return Qo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function kc(m,h,g){return Yo.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const pa=re;let Vl=(()=>{class m{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;pa(T,"invalid-api-key",{appName:g.name}),pa(T,"invalid-api-key",{appName:g.name});const M="undefined"!=typeof window?ji:void 0;this._delegate=v.initialize({options:{persistence:Uf(T,g.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Ae),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Gt(m,h,g){const v=Oe(m);re(v._canInitEmulator,v,"emulator-config-failed"),re(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!(null==g?void 0:g.disableWarnings),M=sr(h),{host:z,port:fe}=function Ii(m){const h=sr(m),g=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const M=T[1];return{host:M,port:gn(v.substr(M.length+1))}}{const[M,z]=v.split(":");return{host:M,port:gn(z)}}}(h);v.config.emulator={url:`${M}//${z}${null===fe?"":`:${fe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:z,port:fe,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Di(){function m(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,g,v)}applyActionCode(g){return function pd(m,h){return be.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return yt(this._delegate,g)}confirmPasswordReset(g,v){return function pl(m,h,g){return zo.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var T=this;return(0,l.Z)(function*(){return zn(T._delegate,function Zo(m,h,g){return ar.apply(this,arguments)}(T._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function _l(m,h){return si.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Pc(m,h){const g=Si.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){pa(Je(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function js(m,h){return di.apply(this,arguments)}(g._delegate,ji);return v?zn(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Zg(m,h){Oe(m)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,v,T){const{next:M,error:z,complete:fe}=Bl(g,v,T);return this._delegate.onAuthStateChanged(M,z,fe)}onIdTokenChanged(g,v,T){const{next:M,error:z,complete:fe}=Bl(g,v,T);return this._delegate.onIdTokenChanged(M,z,fe)}sendSignInLinkToEmail(g,v){return function ml(m,h,g){return Oc.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Rc(m,h,g){return Go.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,l.Z)(function*(){let T;switch(function Ws(m,h){Ka(Object.values(un).includes(h),m,"invalid-persistence-type"),(0,k.b$)()?Ka(h!==un.SESSION,m,"unsupported-persistence-type"):(0,k.UG)()?Ka(h===un.NONE,m,"unsupported-persistence-type"):lu()?Ka(h===un.NONE||h===un.LOCAL&&(0,k.hl)(),m,"unsupported-persistence-type"):Ka(h===un.NONE||br(),m,"unsupported-persistence-type")}(v._delegate,g),g){case un.SESSION:T=Ni;break;case un.LOCAL:T=(yield ae(Li)._isAvailable())?Li:Sn;break;case un.NONE:T=et;break;default:return le("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return zn(this._delegate,function Mc(m){return Ra.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return zn(this._delegate,Na(this._delegate,g))}signInWithCustomToken(g){return zn(this._delegate,function ts(m,h){return ns.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return zn(this._delegate,function gl(m,h,g){return Na((0,k.m9)(m),Vo.credential(h,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return zn(this._delegate,function qo(m,h,g){return fo.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return du(this._delegate,function wd(m,h,g){return Xt.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,l.Z)(function*(){return pa(Je(),v._delegate,"operation-not-supported-in-this-environment"),zn(v._delegate,function ua(m,h,g){return bd.apply(this,arguments)}(v._delegate,g,ji))})()}signInWithRedirect(g){var v=this;return(0,l.Z)(function*(){return pa(Je(),v._delegate,"operation-not-supported-in-this-environment"),yield uu(v._delegate),function Se(m,h,g){return function $e(m,h,g){return Ge.apply(this,arguments)}(m,h,g)}(v._delegate,g,ji)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function an(m,h){return rs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=un,m})();function Bl(m,h,g){let v=m;"function"!=typeof m&&({next:v,error:h,complete:g}=m);const T=v;return{next:z=>T(z&&zt.getOrCreate(z)),error:h,complete:g}}function Uf(m,h){const g=function Nf(m,h){const g=Ff();if(!g)return[];const v=kt(cu,m,h);switch(g.getItem(v)){case un.NONE:return[et];case un.LOCAL:return[Li,Ni];case un.SESSION:return[Ni];default:return[]}}(m,h);if("undefined"!=typeof self&&!g.includes(Li)&&g.push(Li),"undefined"!=typeof window)for(const v of[Sn,Ni])g.includes(v)||g.push(v);return g.includes(et)||g.push(et),g}class jl{constructor(){this.providerId="phone",this._delegate=new Er(ls(Q.Z.auth()))}static credential(h,g){return Er.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}jl.PHONE_SIGN_IN_METHOD=Er.PHONE_SIGN_IN_METHOD,jl.PROVIDER_ID=Er.PROVIDER_ID;const Wd=re;class Vf{constructor(h,g,v=Q.Z.app()){var T;Wd(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Wc(h,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Yg(m){m.INTERNAL.registerComponent(new se.wA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Vl(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Vo,FacebookAuthProvider:co,GithubAuthProvider:Tc,GoogleAuthProvider:uo,OAuthProvider:xs,SAMLAuthProvider:Ai,PhoneAuthProvider:jl,PhoneMultiFactorGenerator:jg,RecaptchaVerifier:Vf,TwitterAuthProvider:Nr,Auth:Vl,AuthCredential:Nt,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.9")}(Q.Z)},2940:function(Ye,we){!function(P){"use strict";function l(W){return Array.prototype.slice.call(W)}function Q(W){return new Promise(function(ue,Te){W.onsuccess=function(){ue(W.result)},W.onerror=function(){Te(W.error)}})}function k(W,ue,Te){var xe,le=new Promise(function(ge,ve){Q(xe=W[ue].apply(W,Te)).then(ge,ve)});return le.request=xe,le}function de(W,ue,Te){var xe=k(W,ue,Te);return xe.then(function(le){if(le)return new B(le,xe.request)})}function X(W,ue,Te){Te.forEach(function(xe){Object.defineProperty(W.prototype,xe,{get:function(){return this[ue][xe]},set:function(le){this[ue][xe]=le}})})}function pe(W,ue,Te,xe){xe.forEach(function(le){le in Te.prototype&&(W.prototype[le]=function(){return k(this[ue],le,arguments)})})}function se(W,ue,Te,xe){xe.forEach(function(le){le in Te.prototype&&(W.prototype[le]=function(){return this[ue][le].apply(this[ue],arguments)})})}function te(W,ue,Te,xe){xe.forEach(function(le){le in Te.prototype&&(W.prototype[le]=function(){return de(this[ue],le,arguments)})})}function ne(W){this._index=W}function B(W,ue){this._cursor=W,this._request=ue}function V(W){this._store=W}function J(W){this._tx=W,this.complete=new Promise(function(ue,Te){W.oncomplete=function(){ue()},W.onerror=function(){Te(W.error)},W.onabort=function(){Te(W.error)}})}function Le(W,ue,Te){this._db=W,this.oldVersion=ue,this.transaction=new J(Te)}function Ie(W){this._db=W}X(ne,"_index",["name","keyPath","multiEntry","unique"]),pe(ne,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),te(ne,"_index",IDBIndex,["openCursor","openKeyCursor"]),X(B,"_cursor",["direction","key","primaryKey","value"]),pe(B,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(W){W in IDBCursor.prototype&&(B.prototype[W]=function(){var ue=this,Te=arguments;return Promise.resolve().then(function(){return ue._cursor[W].apply(ue._cursor,Te),Q(ue._request).then(function(xe){if(xe)return new B(xe,ue._request)})})})}),V.prototype.createIndex=function(){return new ne(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new ne(this._store.index.apply(this._store,arguments))},X(V,"_store",["name","keyPath","indexNames","autoIncrement"]),pe(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),te(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),se(V,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},X(J,"_tx",["objectStoreNames","mode"]),se(J,"_tx",IDBTransaction,["abort"]),Le.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},X(Le,"_db",["name","version","objectStoreNames"]),se(Le,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},X(Ie,"_db",["name","version","objectStoreNames"]),se(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(W){[V,ne].forEach(function(ue){W in ue.prototype&&(ue.prototype[W.replace("open","iterate")]=function(){var Te=l(arguments),xe=Te[Te.length-1],le=this._store||this._index,ge=le[W].apply(le,Te.slice(0,-1));ge.onsuccess=function(){xe(ge.result)}})})}),[ne,V].forEach(function(W){W.prototype.getAll||(W.prototype.getAll=function(ue,Te){var xe=this,le=[];return new Promise(function(ge){xe.iterateCursor(ue,function(ve){ve?(le.push(ve.value),void 0===Te||le.length!=Te?ve.continue():ge(le)):ge(le)})})})}),P.openDb=function Ae(W,ue,Te){var xe=k(indexedDB,"open",[W,ue]),le=xe.request;return le&&(le.onupgradeneeded=function(ge){Te&&Te(new Le(le.result,ge.oldVersion,le.transaction))}),xe.then(function(ge){return new Ie(ge)})},P.deleteDb=function Ne(W){return k(indexedDB,"deleteDatabase",[W])},Object.defineProperty(P,"__esModule",{value:!0})}(we)},8306:(Ye,we,P)=>{"use strict";P.d(we,{y:()=>B});var l=P(930),Q=P(727),k=P(8822),de=P(4671);var se=P(2416),te=P(576),ne=P(2806);let B=(()=>{class Ie{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const W=new Ie;return W.source=this,W.operator=Ne,W}subscribe(Ne,W,ue){const Te=function Le(Ie){return Ie&&Ie instanceof l.Lv||function J(Ie){return Ie&&(0,te.m)(Ie.next)&&(0,te.m)(Ie.error)&&(0,te.m)(Ie.complete)}(Ie)&&(0,Q.Nn)(Ie)}(Ne)?Ne:new l.Hp(Ne,W,ue);return(0,ne.x)(()=>{const{operator:xe,source:le}=this;Te.add(xe?xe.call(Te,le):le?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(W){Ne.error(W)}}forEach(Ne,W){return new(W=V(W))((ue,Te)=>{const xe=new l.Hp({next:le=>{try{Ne(le)}catch(ge){Te(ge),xe.unsubscribe()}},error:Te,complete:ue});this.subscribe(xe)})}_subscribe(Ne){var W;return null===(W=this.source)||void 0===W?void 0:W.subscribe(Ne)}[k.L](){return this}pipe(...Ne){return function pe(Ie){return 0===Ie.length?de.y:1===Ie.length?Ie[0]:function(Ne){return Ie.reduce((W,ue)=>ue(W),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=V(Ne))((W,ue)=>{let Te;this.subscribe(xe=>Te=xe,xe=>ue(xe),()=>W(Te))})}}return Ie.create=Ae=>new Ie(Ae),Ie})();function V(Ie){var Ae;return null!==(Ae=null!=Ie?Ie:se.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Ye,we,P)=>{"use strict";P.d(we,{x:()=>se});var l=P(8306),Q=P(727);const de=(0,P(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=P(8737),pe=P(2806);let se=(()=>{class ne extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(V){const J=new te(this,this);return J.operator=V,J}_throwIfClosed(){if(this.closed)throw new de}next(V){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const J=this.observers.slice();for(const Le of J)Le.next(V)}})}error(V){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=V;const{observers:J}=this;for(;J.length;)J.shift().error(V)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:V}=this;for(;V.length;)V.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var V;return(null===(V=this.observers)||void 0===V?void 0:V.length)>0}_trySubscribe(V){return this._throwIfClosed(),super._trySubscribe(V)}_subscribe(V){return this._throwIfClosed(),this._checkFinalizedStatuses(V),this._innerSubscribe(V)}_innerSubscribe(V){const{hasError:J,isStopped:Le,observers:Ie}=this;return J||Le?Q.Lc:(Ie.push(V),new Q.w0(()=>(0,X.P)(Ie,V)))}_checkFinalizedStatuses(V){const{hasError:J,thrownError:Le,isStopped:Ie}=this;J?V.error(Le):Ie&&V.complete()}asObservable(){const V=new l.y;return V.source=this,V}}return ne.create=(B,V)=>new te(B,V),ne})();class te extends se{constructor(B,V){super(),this.destination=B,this.source=V}next(B){var V,J;null===(J=null===(V=this.destination)||void 0===V?void 0:V.next)||void 0===J||J.call(V,B)}error(B){var V,J;null===(J=null===(V=this.destination)||void 0===V?void 0:V.error)||void 0===J||J.call(V,B)}complete(){var B,V;null===(V=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===V||V.call(B)}_subscribe(B){var V,J;return null!==(J=null===(V=this.source)||void 0===V?void 0:V.subscribe(B))&&void 0!==J?J:Q.Lc}}},930:(Ye,we,P)=>{"use strict";P.d(we,{Hp:()=>Ne,Lv:()=>J});var l=P(576),Q=P(727),k=P(2416),de=P(7849),X=P(5032);const pe=ne("C",void 0,void 0);function ne(le,ge,ve){return{kind:le,value:ge,error:ve}}var B=P(3410),V=P(2806);class J extends Q.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,Q.Nn)(ge)&&ge.add(this)):this.destination=xe}static create(ge,ve,Be){return new Ne(ge,ve,Be)}next(ge){this.isStopped?Te(function te(le){return ne("N",le,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?Te(function se(le){return ne("E",void 0,le)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?Te(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ie(le,ge){return Le.call(le,ge)}class Ae{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:ve}=this;if(ve.next)try{ve.next(ge)}catch(Be){W(Be)}}error(ge){const{partialObserver:ve}=this;if(ve.error)try{ve.error(ge)}catch(Be){W(Be)}else W(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(ve){W(ve)}}}class Ne extends J{constructor(ge,ve,Be){let je;if(super(),(0,l.m)(ge)||!ge)je={next:null!=ge?ge:void 0,error:null!=ve?ve:void 0,complete:null!=Be?Be:void 0};else{let re;this&&k.v.useDeprecatedNextContext?(re=Object.create(ge),re.unsubscribe=()=>this.unsubscribe(),je={next:ge.next&&Ie(ge.next,re),error:ge.error&&Ie(ge.error,re),complete:ge.complete&&Ie(ge.complete,re)}):je=ge}this.destination=new Ae(je)}}function W(le){k.v.useDeprecatedSynchronousErrorHandling?(0,V.O)(le):(0,de.h)(le)}function Te(le,ge){const{onStoppedNotification:ve}=k.v;ve&&B.z.setTimeout(()=>ve(le,ge))}const xe={closed:!0,next:X.Z,error:function ue(le){throw le},complete:X.Z}},727:(Ye,we,P)=>{"use strict";P.d(we,{Lc:()=>pe,w0:()=>X,Nn:()=>se});var l=P(576);const k=(0,P(3888).d)(ne=>function(V){ne(this),this.message=V?`${V.length} errors occurred during unsubscription:\n${V.map((J,Le)=>`${Le+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=V});var de=P(8737);class X{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:V}=this;if(V)if(this._parentage=null,Array.isArray(V))for(const Ie of V)Ie.remove(this);else V.remove(this);const{initialTeardown:J}=this;if((0,l.m)(J))try{J()}catch(Ie){B=Ie instanceof k?Ie.errors:[Ie]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const Ie of Le)try{te(Ie)}catch(Ae){B=null!=B?B:[],Ae instanceof k?B=[...B,...Ae.errors]:B.push(Ae)}}if(B)throw new k(B)}}add(B){var V;if(B&&B!==this)if(this.closed)te(B);else{if(B instanceof X){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._teardowns=null!==(V=this._teardowns)&&void 0!==V?V:[]).push(B)}}_hasParent(B){const{_parentage:V}=this;return V===B||Array.isArray(V)&&V.includes(B)}_addParent(B){const{_parentage:V}=this;this._parentage=Array.isArray(V)?(V.push(B),V):V?[V,B]:B}_removeParent(B){const{_parentage:V}=this;V===B?this._parentage=null:Array.isArray(V)&&(0,de.P)(V,B)}remove(B){const{_teardowns:V}=this;V&&(0,de.P)(V,B),B instanceof X&&B._removeParent(this)}}X.EMPTY=(()=>{const ne=new X;return ne.closed=!0,ne})();const pe=X.EMPTY;function se(ne){return ne instanceof X||ne&&"closed"in ne&&(0,l.m)(ne.remove)&&(0,l.m)(ne.add)&&(0,l.m)(ne.unsubscribe)}function te(ne){(0,l.m)(ne)?ne():ne.unsubscribe()}},2416:(Ye,we,P)=>{"use strict";P.d(we,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ye,we,P)=>{"use strict";P.d(we,{E:()=>Q});const Q=new(P(8306).y)(X=>X.complete())},8996:(Ye,we,P)=>{"use strict";P.d(we,{D:()=>ge});var l=P(8421),Q=P(5363),k=P(9468),pe=P(8306),te=P(2202),ne=P(576),B=P(9672);function J(ve,Be){if(!ve)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,B.f)(je,Be,()=>{const re=ve[Symbol.asyncIterator]();(0,B.f)(je,Be,()=>{re.next().then(K=>{K.done?je.complete():je.next(K.value)})},0,!0)})})}var Le=P(3670),Ie=P(8239),Ae=P(1144),Ne=P(6495),W=P(2206),ue=P(4532),Te=P(3260);function ge(ve,Be){return Be?function le(ve,Be){if(null!=ve){if((0,Le.c)(ve))return function de(ve,Be){return(0,l.Xf)(ve).pipe((0,k.R)(Be),(0,Q.Q)(Be))}(ve,Be);if((0,Ae.z)(ve))return function se(ve,Be){return new pe.y(je=>{let re=0;return Be.schedule(function(){re===ve.length?je.complete():(je.next(ve[re++]),je.closed||this.schedule())})})}(ve,Be);if((0,Ie.t)(ve))return function X(ve,Be){return(0,l.Xf)(ve).pipe((0,k.R)(Be),(0,Q.Q)(Be))}(ve,Be);if((0,W.D)(ve))return J(ve,Be);if((0,Ne.T)(ve))return function V(ve,Be){return new pe.y(je=>{let re;return(0,B.f)(je,Be,()=>{re=ve[te.h](),(0,B.f)(je,Be,()=>{let K,oe;try{({value:K,done:oe}=re.next())}catch(me){return void je.error(me)}oe?je.complete():je.next(K)},0,!0)}),()=>(0,ne.m)(null==re?void 0:re.return)&&re.return()})}(ve,Be);if((0,Te.L)(ve))return function xe(ve,Be){return J((0,Te.Q)(ve),Be)}(ve,Be)}throw(0,ue.z)(ve)}(ve,Be):(0,l.Xf)(ve)}},8421:(Ye,we,P)=>{"use strict";P.d(we,{Xf:()=>Le});var l=P(655),Q=P(1144),k=P(8239),de=P(8306),X=P(3670),pe=P(2206),se=P(4532),te=P(6495),ne=P(3260),B=P(576),V=P(7849),J=P(8822);function Le(le){if(le instanceof de.y)return le;if(null!=le){if((0,X.c)(le))return function Ie(le){return new de.y(ge=>{const ve=le[J.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(le);if((0,Q.z)(le))return function Ae(le){return new de.y(ge=>{for(let ve=0;ve<le.length&&!ge.closed;ve++)ge.next(le[ve]);ge.complete()})}(le);if((0,k.t)(le))return function Ne(le){return new de.y(ge=>{le.then(ve=>{ge.closed||(ge.next(ve),ge.complete())},ve=>ge.error(ve)).then(null,V.h)})}(le);if((0,pe.D)(le))return ue(le);if((0,te.T)(le))return function W(le){return new de.y(ge=>{for(const ve of le)if(ge.next(ve),ge.closed)return;ge.complete()})}(le);if((0,ne.L)(le))return function Te(le){return ue((0,ne.Q)(le))}(le)}throw(0,se.z)(le)}function ue(le){return new de.y(ge=>{(function xe(le,ge){var ve,Be,je,re;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ve=(0,l.KL)(le);!(Be=yield ve.next()).done;)if(ge.next(Be.value),ge.closed)return}catch(K){je={error:K}}finally{try{Be&&!Be.done&&(re=ve.return)&&(yield re.call(ve))}finally{if(je)throw je.error}}ge.complete()})})(le,ge).catch(ve=>ge.error(ve))})}},6451:(Ye,we,P)=>{"use strict";P.d(we,{T:()=>pe});var l=P(8189),Q=P(8421),k=P(515),de=P(7669),X=P(8996);function pe(...se){const te=(0,de.yG)(se),ne=(0,de._6)(se,1/0),B=se;return B.length?1===B.length?(0,Q.Xf)(B[0]):(0,l.J)(ne)((0,X.D)(B,te)):k.E}},5403:(Ye,we,P)=>{"use strict";P.d(we,{x:()=>Q,Q:()=>k});var l=P(930);function Q(de,X,pe,se,te){return new k(de,X,pe,se,te)}class k extends l.Lv{constructor(X,pe,se,te,ne,B){super(X),this.onFinalize=ne,this.shouldUnsubscribe=B,this._next=pe?function(V){try{pe(V)}catch(J){X.error(J)}}:super._next,this._error=te?function(V){try{te(V)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(V){X.error(V)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(Ye,we,P)=>{"use strict";P.d(we,{U:()=>k});var l=P(4482),Q=P(5403);function k(de,X){return(0,l.e)((pe,se)=>{let te=0;pe.subscribe((0,Q.x)(se,ne=>{se.next(de.call(X,ne,te++))}))})}},8189:(Ye,we,P)=>{"use strict";P.d(we,{J:()=>k});var l=P(5577),Q=P(4671);function k(de=1/0){return(0,l.z)(Q.y,de)}},5577:(Ye,we,P)=>{"use strict";P.d(we,{z:()=>te});var l=P(4004),Q=P(8421),k=P(4482),de=P(9672),X=P(5403),se=P(576);function te(ne,B,V=1/0){return(0,se.m)(B)?te((J,Le)=>(0,l.U)((Ie,Ae)=>B(J,Ie,Le,Ae))((0,Q.Xf)(ne(J,Le))),V):("number"==typeof B&&(V=B),(0,k.e)((J,Le)=>function pe(ne,B,V,J,Le,Ie,Ae,Ne){const W=[];let ue=0,Te=0,xe=!1;const le=()=>{xe&&!W.length&&!ue&&B.complete()},ge=Be=>ue<J?ve(Be):W.push(Be),ve=Be=>{Ie&&B.next(Be),ue++;let je=!1;(0,Q.Xf)(V(Be,Te++)).subscribe((0,X.x)(B,re=>{null==Le||Le(re),Ie?ge(re):B.next(re)},()=>{je=!0},void 0,()=>{if(je)try{for(ue--;W.length&&ue<J;){const re=W.shift();Ae?(0,de.f)(B,Ae,()=>ve(re)):ve(re)}le()}catch(re){B.error(re)}}))};return ne.subscribe((0,X.x)(B,ge,()=>{xe=!0,le()})),()=>{null==Ne||Ne()}}(J,Le,ne,V)))}},5363:(Ye,we,P)=>{"use strict";P.d(we,{Q:()=>de});var l=P(9672),Q=P(4482),k=P(5403);function de(X,pe=0){return(0,Q.e)((se,te)=>{se.subscribe((0,k.x)(te,ne=>(0,l.f)(te,X,()=>te.next(ne),pe),()=>(0,l.f)(te,X,()=>te.complete(),pe),ne=>(0,l.f)(te,X,()=>te.error(ne),pe)))})}},3099:(Ye,we,P)=>{"use strict";P.d(we,{B:()=>pe});var l=P(8996),Q=P(5698),k=P(7579),de=P(930),X=P(4482);function pe(te={}){const{connector:ne=(()=>new k.x),resetOnError:B=!0,resetOnComplete:V=!0,resetOnRefCountZero:J=!0}=te;return Le=>{let Ie=null,Ae=null,Ne=null,W=0,ue=!1,Te=!1;const xe=()=>{null==Ae||Ae.unsubscribe(),Ae=null},le=()=>{xe(),Ie=Ne=null,ue=Te=!1},ge=()=>{const ve=Ie;le(),null==ve||ve.unsubscribe()};return(0,X.e)((ve,Be)=>{W++,!Te&&!ue&&xe();const je=Ne=null!=Ne?Ne:ne();Be.add(()=>{W--,0===W&&!Te&&!ue&&(Ae=se(ge,J))}),je.subscribe(Be),Ie||(Ie=new de.Hp({next:re=>je.next(re),error:re=>{Te=!0,xe(),Ae=se(le,B,re),je.error(re)},complete:()=>{ue=!0,xe(),Ae=se(le,V),je.complete()}}),(0,l.D)(ve).subscribe(Ie))})(Le)}}function se(te,ne,...B){return!0===ne?(te(),null):!1===ne?null:ne(...B).pipe((0,Q.q)(1)).subscribe(()=>te())}},9468:(Ye,we,P)=>{"use strict";P.d(we,{R:()=>Q});var l=P(4482);function Q(k,de=0){return(0,l.e)((X,pe)=>{pe.add(k.schedule(()=>X.subscribe(pe),de))})}},5698:(Ye,we,P)=>{"use strict";P.d(we,{q:()=>de});var l=P(515),Q=P(4482),k=P(5403);function de(X){return X<=0?()=>l.E:(0,Q.e)((pe,se)=>{let te=0;pe.subscribe((0,k.x)(se,ne=>{++te<=X&&(se.next(ne),X<=te&&se.complete())}))})}},8505:(Ye,we,P)=>{"use strict";P.d(we,{b:()=>X});var l=P(576),Q=P(4482),k=P(5403),de=P(4671);function X(pe,se,te){const ne=(0,l.m)(pe)||se||te?{next:pe,error:se,complete:te}:pe;return ne?(0,Q.e)((B,V)=>{var J;null===(J=ne.subscribe)||void 0===J||J.call(ne);let Le=!0;B.subscribe((0,k.x)(V,Ie=>{var Ae;null===(Ae=ne.next)||void 0===Ae||Ae.call(ne,Ie),V.next(Ie)},()=>{var Ie;Le=!1,null===(Ie=ne.complete)||void 0===Ie||Ie.call(ne),V.complete()},Ie=>{var Ae;Le=!1,null===(Ae=ne.error)||void 0===Ae||Ae.call(ne,Ie),V.error(Ie)},()=>{var Ie,Ae;Le&&(null===(Ie=ne.unsubscribe)||void 0===Ie||Ie.call(ne)),null===(Ae=ne.finalize)||void 0===Ae||Ae.call(ne)}))}):de.y}},4408:(Ye,we,P)=>{"use strict";P.d(we,{o:()=>X});var l=P(727);class Q extends l.w0{constructor(se,te){super()}schedule(se,te=0){return this}}const k={setInterval(...pe){const{delegate:se}=k;return((null==se?void 0:se.setInterval)||setInterval)(...pe)},clearInterval(pe){const{delegate:se}=k;return((null==se?void 0:se.clearInterval)||clearInterval)(pe)},delegate:void 0};var de=P(8737);class X extends Q{constructor(se,te){super(se,te),this.scheduler=se,this.work=te,this.pending=!1}schedule(se,te=0){if(this.closed)return this;this.state=se;const ne=this.id,B=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(B,ne,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(B,this.id,te),this}requestAsyncId(se,te,ne=0){return k.setInterval(se.flush.bind(se,this),ne)}recycleAsyncId(se,te,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return te;k.clearInterval(te)}execute(se,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(se,te);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,te){let B,ne=!1;try{this.work(se)}catch(V){ne=!0,B=V||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:se,scheduler:te}=this,{actions:ne}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ne,this),null!=se&&(this.id=this.recycleAsyncId(te,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ye,we,P)=>{"use strict";P.d(we,{v:()=>k});var l=P(6063);class Q{constructor(X,pe=Q.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,se){return new this.schedulerActionCtor(this,X).schedule(se,pe)}}Q.now=l.l.now;class k extends Q{constructor(X,pe=Q.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let se;this._active=!0;do{if(se=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,se){for(;X=pe.shift();)X.unsubscribe();throw se}}}},4986:(Ye,we,P)=>{"use strict";P.d(we,{z:()=>k});var l=P(4408);const k=new(P(7565).v)(l.o)},6063:(Ye,we,P)=>{"use strict";P.d(we,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},233:(Ye,we,P)=>{"use strict";P.d(we,{N:()=>X});var l=P(4408),k=P(7565);const X=new class de extends k.v{}(class Q extends l.o{constructor(te,ne){super(te,ne),this.scheduler=te,this.work=ne}schedule(te,ne=0){return ne>0?super.schedule(te,ne):(this.delay=ne,this.state=te,this.scheduler.flush(this),this)}execute(te,ne){return ne>0||this.closed?super.execute(te,ne):this._execute(te,ne)}requestAsyncId(te,ne,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(te,ne,B):te.flush(this)}})},3410:(Ye,we,P)=>{"use strict";P.d(we,{z:()=>l});const l={setTimeout(...Q){const{delegate:k}=l;return((null==k?void 0:k.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:k}=l;return((null==k?void 0:k.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(Ye,we,P)=>{"use strict";P.d(we,{h:()=>Q});const Q=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ye,we,P)=>{"use strict";P.d(we,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ye,we,P)=>{"use strict";P.d(we,{_6:()=>pe,jO:()=>de,yG:()=>X});var l=P(576);function k(se){return se[se.length-1]}function de(se){return(0,l.m)(k(se))?se.pop():void 0}function X(se){return function Q(se){return se&&(0,l.m)(se.schedule)}(k(se))?se.pop():void 0}function pe(se,te){return"number"==typeof k(se)?se.pop():te}},8737:(Ye,we,P)=>{"use strict";function l(Q,k){if(Q){const de=Q.indexOf(k);0<=de&&Q.splice(de,1)}}P.d(we,{P:()=>l})},3888:(Ye,we,P)=>{"use strict";function l(Q){const de=Q(X=>{Error.call(X),X.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}P.d(we,{d:()=>l})},2806:(Ye,we,P)=>{"use strict";P.d(we,{x:()=>k,O:()=>de});var l=P(2416);let Q=null;function k(X){if(l.v.useDeprecatedSynchronousErrorHandling){const pe=!Q;if(pe&&(Q={errorThrown:!1,error:null}),X(),pe){const{errorThrown:se,error:te}=Q;if(Q=null,se)throw te}}else X()}function de(X){l.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=X)}},9672:(Ye,we,P)=>{"use strict";function l(Q,k,de,X=0,pe=!1){const se=k.schedule(function(){de(),pe?Q.add(this.schedule(null,X)):this.unsubscribe()},X);if(Q.add(se),!pe)return se}P.d(we,{f:()=>l})},4671:(Ye,we,P)=>{"use strict";function l(Q){return Q}P.d(we,{y:()=>l})},1144:(Ye,we,P)=>{"use strict";P.d(we,{z:()=>l});const l=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(Ye,we,P)=>{"use strict";P.d(we,{D:()=>Q});var l=P(576);function Q(k){return Symbol.asyncIterator&&(0,l.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(Ye,we,P)=>{"use strict";function l(Q){return"function"==typeof Q}P.d(we,{m:()=>l})},3670:(Ye,we,P)=>{"use strict";P.d(we,{c:()=>k});var l=P(8822),Q=P(576);function k(de){return(0,Q.m)(de[l.L])}},6495:(Ye,we,P)=>{"use strict";P.d(we,{T:()=>k});var l=P(2202),Q=P(576);function k(de){return(0,Q.m)(null==de?void 0:de[l.h])}},8239:(Ye,we,P)=>{"use strict";P.d(we,{t:()=>Q});var l=P(576);function Q(k){return(0,l.m)(null==k?void 0:k.then)}},3260:(Ye,we,P)=>{"use strict";P.d(we,{Q:()=>k,L:()=>de});var l=P(655),Q=P(576);function k(X){return(0,l.FC)(this,arguments,function*(){const se=X.getReader();try{for(;;){const{value:te,done:ne}=yield(0,l.qq)(se.read());if(ne)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(te)}}finally{se.releaseLock()}})}function de(X){return(0,Q.m)(null==X?void 0:X.getReader)}},4482:(Ye,we,P)=>{"use strict";P.d(we,{A:()=>Q,e:()=>k});var l=P(576);function Q(de){return(0,l.m)(null==de?void 0:de.lift)}function k(de){return X=>{if(Q(X))return X.lift(function(pe){try{return de(pe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ye,we,P)=>{"use strict";function l(){}P.d(we,{Z:()=>l})},7849:(Ye,we,P)=>{"use strict";P.d(we,{h:()=>k});var l=P(2416),Q=P(3410);function k(de){Q.z.setTimeout(()=>{const{onUnhandledError:X}=l.v;if(!X)throw de;X(de)})}},4532:(Ye,we,P)=>{"use strict";function l(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(we,{z:()=>l})},655:(Ye,we,P)=>{"use strict";function de(K,oe){var me={};for(var ae in K)Object.prototype.hasOwnProperty.call(K,ae)&&oe.indexOf(ae)<0&&(me[ae]=K[ae]);if(null!=K&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(ae=Object.getOwnPropertySymbols(K);Me<ae.length;Me++)oe.indexOf(ae[Me])<0&&Object.prototype.propertyIsEnumerable.call(K,ae[Me])&&(me[ae[Me]]=K[ae[Me]])}return me}function X(K,oe,me,ae){var ct,Me=arguments.length,he=Me<3?oe:null===ae?ae=Object.getOwnPropertyDescriptor(oe,me):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(K,oe,me,ae);else for(var Mt=K.length-1;Mt>=0;Mt--)(ct=K[Mt])&&(he=(Me<3?ct(he):Me>3?ct(oe,me,he):ct(oe,me))||he);return Me>3&&he&&Object.defineProperty(oe,me,he),he}function te(K,oe,me,ae){return new(me||(me=Promise))(function(he,ct){function Mt(lt){try{Ke(ae.next(lt))}catch(tn){ct(tn)}}function Rn(lt){try{Ke(ae.throw(lt))}catch(tn){ct(tn)}}function Ke(lt){lt.done?he(lt.value):function Me(he){return he instanceof me?he:new me(function(ct){ct(he)})}(lt.value).then(Mt,Rn)}Ke((ae=ae.apply(K,oe||[])).next())})}function W(K){return this instanceof W?(this.v=K,this):new W(K)}function ue(K,oe,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ae=me.apply(K,oe||[]),he=[];return Me={},ct("next"),ct("throw"),ct("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function ct(Rt){ae[Rt]&&(Me[Rt]=function(On){return new Promise(function(Bt,Ar){he.push([Rt,On,Bt,Ar])>1||Mt(Rt,On)})})}function Mt(Rt,On){try{!function Rn(Rt){Rt.value instanceof W?Promise.resolve(Rt.value.v).then(Ke,lt):tn(he[0][2],Rt)}(ae[Rt](On))}catch(Bt){tn(he[0][3],Bt)}}function Ke(Rt){Mt("next",Rt)}function lt(Rt){Mt("throw",Rt)}function tn(Rt,On){Rt(On),he.shift(),he.length&&Mt(he[0][0],he[0][1])}}function xe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,oe=K[Symbol.asyncIterator];return oe?oe.call(K):(K=function J(K){var oe="function"==typeof Symbol&&Symbol.iterator,me=oe&&K[oe],ae=0;if(me)return me.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&ae>=K.length&&(K=void 0),{value:K&&K[ae++],done:!K}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),me={},ae("next"),ae("throw"),ae("return"),me[Symbol.asyncIterator]=function(){return this},me);function ae(he){me[he]=K[he]&&function(ct){return new Promise(function(Mt,Rn){!function Me(he,ct,Mt,Rn){Promise.resolve(Rn).then(function(Ke){he({value:Ke,done:Mt})},ct)}(Mt,Rn,(ct=K[he](ct)).done,ct.value)})}}}P.d(we,{_T:()=>de,gn:()=>X,mG:()=>te,qq:()=>W,FC:()=>ue,KL:()=>xe})},5e3:(Ye,we,P)=>{"use strict";P.d(we,{deG:()=>$c,tb:()=>Y_,AFp:()=>Kh,ip1:()=>HC,CZH:()=>qh,hGG:()=>LI,z2F:()=>sy,sBO:()=>oE,Sil:()=>Q_,_Vd:()=>Xu,EJc:()=>qC,SBq:()=>_s,qLn:()=>zn,vpe:()=>Mo,tBr:()=>Bi,XFs:()=>it,OlP:()=>cn,zs3:()=>Ys,ZZ4:()=>hy,aQg:()=>fy,soG:()=>Yh,YKP:()=>dC,h0i:()=>Ta,PXZ:()=>eE,R0b:()=>ys,FiY:()=>Hs,Lbi:()=>WC,g9A:()=>zC,Qsj:()=>Qp,FYo:()=>v_,JOm:()=>fe,PiD:()=>Qc,tp0:()=>Co,Rgc:()=>Fh,dDg:()=>ny,q4F:()=>oC,GfV:()=>sC,s_b:()=>Uh,ifc:()=>Tt,eFA:()=>al,G48:()=>sE,Gpc:()=>V,X6Q:()=>iE,_c5:()=>FI,VLi:()=>XC,c2e:()=>ZC,zSh:()=>Av,wAp:()=>ot,vHH:()=>Ae,cg1:()=>Ia,kL8:()=>Bu,dqk:()=>_t,sIi:()=>ah,CqO:()=>Qs,QGY:()=>Xl,F4k:()=>xp,RDi:()=>dl,AaK:()=>te,qOj:()=>oh,TTD:()=>co,_Bn:()=>Yp,xp6:()=>rv,uIk:()=>Su,ekj:()=>yh,Suo:()=>U_,Xpm:()=>Pe,lG2:()=>Aa,Yz7:()=>Bt,cJS:()=>Ot,oAB:()=>qt,Yjl:()=>Fo,Y36:()=>Pu,_UZ:()=>Sp,qZA:()=>Ea,TgZ:()=>ku,EpF:()=>Xn,n5z:()=>oa,LFG:()=>Ft,$8M:()=>Fs,$Z:()=>Jv,NdJ:()=>Tr,CRH:()=>V_,kcU:()=>Pg,O4$:()=>Og,oxw:()=>el,Q6J:()=>Zm,s9C:()=>Rp,MGl:()=>Bn,DdM:()=>pC,VKq:()=>gC,iGM:()=>uc,MAs:()=>bp,CHM:()=>Wo,LSH:()=>su,Jzz:()=>l_,YNc:()=>Hv,_uU:()=>kp,Oqu:()=>a_,hij:()=>Np,Gf:()=>L_});var l=P(7579),Q=P(727),k=P(8306),de=P(6451),X=P(3099);function pe(i){for(let s in i)if(i[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function se(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function te(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(te).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ne(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=pe({__forward_ref__:pe});function V(i){return i.__forward_ref__=V,i.toString=function(){return te(this())},i}function J(i){return Le(i)?i():i}function Le(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===V}class Ae extends Error{constructor(s,o){super(function Ne(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,o)),this.code=s}}function W(i){return"string"==typeof i?i:null==i?"":String(i)}function ue(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():W(i)}function ge(i,s){const o=s?` in ${s}`:"";throw new Ae(-201,`No provider for ${ue(i)} found${o}`)}function Ke(i,s){null==i&&function lt(i,s,o,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${o} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Bt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Ot(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ct(i){return ti(i,ni)||ti(i,gr)}function ti(i,s){return i.hasOwnProperty(s)?i[s]:null}function nr(i){return i&&(i.hasOwnProperty(Zi)||i.hasOwnProperty(ri))?i[Zi]:null}const ni=pe({\u0275prov:pe}),Zi=pe({\u0275inj:pe}),gr=pe({ngInjectableDef:pe}),ri=pe({ngInjectorDef:pe});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let Mr;function pn(i){const s=Mr;return Mr=i,s}function qi(i,s,o){const c=Ct(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&it.Optional?null:void 0!==s?s:void ge(te(i),"Injector")}function Pn(i){return{toString:i}.toString()}var Qt=(()=>((Qt=Qt||{})[Qt.OnPush=0]="OnPush",Qt[Qt.Default=1]="Default",Qt))(),Tt=(()=>{return(i=Tt||(Tt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Tt;var i})();const Qe="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,Zn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_t=Qe||"undefined"!=typeof global&&global||st||Zn,rr={},U=[],$=pe({\u0275cmp:pe}),G=pe({\u0275dir:pe}),Ce=pe({\u0275pipe:pe}),ee=pe({\u0275mod:pe}),He=pe({\u0275fac:pe}),Ee=pe({__NG_ELEMENT_ID__:pe});let _e=0;function Pe(i){return Pn(()=>{const o={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||U,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Tt.Emulated,id:"c",styles:i.styles||U,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,p=i.features,_=i.pipes;return c.id+=_e++,c.inputs=No(i.inputs,o),c.outputs=No(i.outputs),p&&p.forEach(C=>C(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(ft):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(et):null,c})}function ft(i){return In(i)||function ir(i){return i[G]||null}(i)}function et(i){return function bi(i){return i[Ce]||null}(i)}const kt={};function qt(i){return Pn(()=>{const s={type:i.type,bootstrap:i.bootstrap||U,declarations:i.declarations||U,imports:i.imports||U,exports:i.exports||U,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(kt[i.id]=i.type),s})}function No(i,s){if(null==i)return rr;const o={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),o[d]=c,s&&(s[d]=p)}return o}const Aa=Pe;function Fo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function In(i){return i[$]||null}function Dn(i,s){const o=i[ee]||null;if(!o&&!0===s)throw new Error(`Type ${te(i)} does not have '\u0275mod' property.`);return o}function Wr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Or(i){return Array.isArray(i)&&!0===i[1]}function Cc(i){return 0!=(8&i.flags)}function xa(i){return 2==(2&i.flags)}function Ji(i){return 1==(1&i.flags)}function Pr(i){return null!==i.template}function hd(i){return 0!=(512&i[2])}function kr(i,s){return i.hasOwnProperty(He)?i[He]:null}class xs{constructor(s,o,c){this.previousValue=s,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function co(){return uo}function uo(i){return i.type.prototype.ngOnChanges&&(i.setInput=pf),Tc}function Tc(){const i=Sc(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===rr)i.previous=s;else for(let c in s)o[c]=s[c];i.current=null,this.ngOnChanges(s)}}function pf(i,s,o,c){const d=Sc(i)||function Ai(i,s){return i[Ms]=s}(i,{previous:rr,current:null}),p=d.current||(d.current={}),_=d.previous,C=this.declaredInputs[o],w=_[C];p[C]=new xs(w&&w.currentValue,s,_===rr),i[c]=s}co.ngInherit=!0;const Ms="__ngSimpleChanges__";function Sc(i){return i[Ms]||null}let Pa;function dl(i){Pa=i}function jt(i){return!!i.listen}const Bo={createRenderer:(i,s)=>function xi(){return void 0!==Pa?Pa:"undefined"!=typeof document?document:void 0}()};function Ut(i){for(;Array.isArray(i);)i=i[0];return i}function Rs(i,s){return Ut(s[i])}function kn(i,s){return Ut(s[i.index])}function on(i,s){return i.data[s]}function Nn(i,s){const o=s[i];return Wr(o)?o:o[0]}function ho(i){return 4==(4&i[2])}function ii(i){return 128==(128&i[2])}function vr(i,s){return null==s?null:i[s]}function ts(i){i[18]=0}function ns(i,s){i[5]+=s;let o=i,c=i[3];for(;null!==c&&(1===s&&1===o[5]||-1===s&&0===o[5]);)c[5]+=s,o=c,c=c[3]}const nt={lFrame:ks(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function pl(){return nt.bindingsEnabled}function be(){return nt.lFrame.lView}function yt(){return nt.lFrame.tView}function Wo(i){return nt.lFrame.contextLView=i,i[8]}function an(){let i=rs();for(;null!==i&&64===i.type;)i=i.parent;return i}function rs(){return nt.lFrame.currentTNode}function ar(i,s){const o=nt.lFrame;o.currentTNode=i,o.isParent=s}function gl(){return nt.lFrame.isParent}function qo(){return nt.isInCheckNoChangesMode}function fo(i){nt.isInCheckNoChangesMode=i}function Tn(){const i=nt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function si(){return nt.lFrame.bindingIndex++}function Ri(i){const s=nt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Yo(i,s){const o=nt.lFrame;o.bindingIndex=o.bindingRootIndex=i,Os(s)}function Os(i){nt.lFrame.currentDirectiveIndex=i}function Qo(){return nt.lFrame.currentQueryIndex}function vl(i){nt.lFrame.currentQueryIndex=i}function gf(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Fa(i,s,o){if(o&it.SkipSelf){let d=s,p=i;for(;!(d=d.parent,null!==d||o&it.Host||(d=gf(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;s=d,i=p}const c=nt.lFrame=Cl();return c.currentTNode=s,c.lView=i,!0}function Ps(i){const s=Cl(),o=i[1];nt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Cl(){const i=nt.lFrame,s=null===i?null:i.child;return null===s?ks(i):s}function ks(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Fc(){const i=nt.lFrame;return nt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const gd=Fc;function po(){const i=Fc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Fn(){return nt.lFrame.selectedIndex}function Oi(i){nt.lFrame.selectedIndex=i}function ln(){const i=nt.lFrame;return on(i.tView,i.selectedIndex)}function Og(){nt.lFrame.currentNamespace="svg"}function Pg(){!function kg(){nt.lFrame.currentNamespace=null}()}function Pi(i,s){for(let o=s.directiveStart,c=s.directiveEnd;o<c;o++){const p=i.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:w,ngAfterViewChecked:D,ngOnDestroy:A}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-o,_),C&&((i.contentHooks||(i.contentHooks=[])).push(o,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,C)),w&&(i.viewHooks||(i.viewHooks=[])).push(-o,w),D&&((i.viewHooks||(i.viewHooks=[])).push(o,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,D)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(o,A)}}function Jo(i,s,o){Ln(i,s,3,o)}function wl(i,s,o,c){(3&i[2])===o&&Ln(i,s,o,c)}function La(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function Ln(i,s,o,c){const p=null!=c?c:-1,_=s.length-1;let C=0;for(let w=void 0!==c?65535&i[18]:0;w<_;w++)if("number"==typeof s[w+1]){if(C=s[w],null!=c&&C>=c)break}else s[w]<0&&(i[18]+=65536),(C<p||-1==p)&&(yd(i,o,s,w),i[18]=(4294901760&i[18])+w+2),w++}function yd(i,s,o,c){const d=o[c]<0,p=o[c+1],C=i[d?-o[c]:o[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{p.call(C)}finally{}}}else try{p.call(C)}finally{}}class go{constructor(s,o,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Yn(i,s,o){const c=jt(i);let d=0;for(;d<o.length;){const p=o[d];if("number"==typeof p){if(0!==p)break;d++;const _=o[d++],C=o[d++],w=o[d++];c?i.setAttribute(s,C,w,_):s.setAttributeNS(_,C,w)}else{const _=p,C=o[++d];bl(_)?c&&i.setProperty(s,_,C):c?i.setAttribute(s,_,C):s.setAttribute(_,C),d++}}return d}function Ni(i){return 3===i||4===i||6===i}function bl(i){return 64===i.charCodeAt(0)}function Va(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?o=d:0===o||is(i,o,d,null,-1===o||2===o?s[++c]:null)}}return i}function is(i,s,o,c,d){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const C=i[p++];if("number"==typeof C){if(C===s){_=-1;break}if(C>s){_=p-1;break}}}for(;p<i.length;){const C=i[p];if("number"==typeof C)break;if(C===o){if(null===c)return void(null!==d&&(i[p+1]=d));if(c===i[p+1])return void(i[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,o),null!==c&&i.splice(p++,0,c),null!==d&&i.splice(p++,0,d)}function Uc(i){return-1!==i}function At(i){return 32767&i}function xt(i,s){let o=function Fi(i){return i>>16}(i),c=s;for(;o>0;)c=c[15],o--;return c}let Ze=!0;function Ns(i){const s=Ze;return Ze=i,s}let Cd=0;function lr(i,s){const o=ss(i,s);if(-1!==o)return o;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,$n(c.data,i),$n(s,null),$n(c.blueprint,null));const d=na(i,s),p=i.injectorIndex;if(Uc(d)){const _=At(d),C=xt(d,s),w=C[1].data;for(let D=0;D<8;D++)s[p+D]=C[_+D]|w[_+D]}return s[p+8]=d,p}function $n(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ss(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function na(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,c=null,d=s;for(;null!==d;){const p=d[1],_=p.type;if(c=2===_?p.declTNode:1===_?d[6]:null,null===c)return-1;if(o++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function cr(i,s,o){!function ta(i,s,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Ee)&&(c=o[Ee]),null==c&&(c=o[Ee]=Cd++);const d=255&c;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function ra(i,s,o){if(o&it.Optional)return i;ge(s,"NodeInjector")}function ai(i,s,o,c){if(o&it.Optional&&void 0===c&&(c=null),0==(o&(it.Self|it.Host))){const d=i[9],p=pn(void 0);try{return d?d.get(s,c,o&it.Optional):qi(s,c,o&it.Optional)}finally{pn(p)}}return ra(c,s,o)}function Fr(i,s,o,c=it.Default,d){if(null!==i){const p=function jc(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Ee)?i[Ee]:void 0;return"number"==typeof s?s>=0?255&s:_n:s}(o);if("function"==typeof p){if(!Fa(s,i,c))return c&it.Host?ra(d,o,c):ai(s,o,c,d);try{const _=p(c);if(null!=_||c&it.Optional)return _;ge(o)}finally{gd()}}else if("number"==typeof p){let _=null,C=ss(i,s),w=-1,D=c&it.Host?s[16][6]:null;for((-1===C||c&it.SkipSelf)&&(w=-1===C?na(i,s):s[C+8],-1!==w&&sa(c,!1)?(_=s[1],C=At(w),s=xt(w,s)):C=-1);-1!==C;){const A=s[1];if(Tl(p,C,A.data)){const N=li(C,s,o,_,c,D);if(N!==ia)return N}w=s[C+8],-1!==w&&sa(c,s[1].data[C+8]===D)&&Tl(p,C,s)?(_=A,C=At(w),s=xt(w,s)):C=-1}}}return ai(s,o,c,d)}const ia={};function _n(){return new Ui(an(),be())}function li(i,s,o,c,d,p){const _=s[1],C=_.data[i+8],A=Bc(C,_,o,null==c?xa(C)&&Ze:c!=_&&0!=(3&C.type),d&it.Host&&p===C);return null!==A?Li(s,_,A,C):ia}function Bc(i,s,o,c,d){const p=i.providerIndexes,_=s.data,C=1048575&p,w=i.directiveStart,A=p>>20,H=d?C+A:i.directiveEnd;for(let Y=c?C:C+A;Y<H;Y++){const ye=_[Y];if(Y<w&&o===ye||Y>=w&&ye.type===o)return Y}if(d){const Y=_[w];if(Y&&Pr(Y)&&Y.type===o)return w}return null}function Li(i,s,o,c){let d=i[o];const p=s.data;if(function mf(i){return i instanceof go}(d)){const _=d;_.resolving&&function Te(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${i}${o}`)}(ue(p[o]));const C=Ns(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?pn(_.injectImpl):null;Fa(i,c,it.Default);try{d=i[o]=_.factory(void 0,p,i,c),s.firstCreatePass&&o>=c.directiveStart&&function El(i,s,o){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const _=uo(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,_)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),p&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p))}(o,p[o],s)}finally{null!==w&&pn(w),Ns(C),_.resolving=!1,gd()}}return d}function Tl(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function sa(i,s){return!(i&it.Self||i&it.Host&&s)}class Ui{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,c){return Fr(this._tNode,this._lView,s,c,o)}}function oa(i){return Pn(()=>{const s=i.prototype.constructor,o=s[He]||aa(s),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const p=d[He]||aa(d);if(p&&p!==o)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function aa(i){return Le(i)?()=>{const s=aa(J(i));return s&&s()}:kr(i)}function Fs(i){return function Dl(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const c=o.length;let d=0;for(;d<c;){const p=o[d];if(Ni(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof o[d];)d++;else{if(p===s)return o[d+1];d+=2}}}return null}(an(),i)}const qr="__parameters__";function Us(i,s,o){return Pn(()=>{const c=function Sl(i){return function(...o){if(i){const c=i(...o);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const _=new d(...p);return C.annotation=_,C;function C(w,D,A){const N=w.hasOwnProperty(qr)?w[qr]:Object.defineProperty(w,qr,{value:[]})[qr];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(_),w}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class cn{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Bt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $c=new cn("AnalyzeForEntryComponents");function Gn(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let c=i[o];Array.isArray(c)?(s===i&&(s=i.slice(0,o)),Gn(c,s)):s!==i&&s.push(c)}return s}function Cr(i,s){i.forEach(o=>Array.isArray(o)?Cr(o,s):s(o))}function Vs(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Kr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function An(i,s,o){let c=ua(i,s);return c>=0?i[1|c]=o:(c=~c,function Kc(i,s,o,c){let d=i.length;if(d==s)i.push(o,c);else if(1===d)i.push(c,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=c}}(i,c,s,o)),c}function xl(i,s){const o=ua(i,s);if(o>=0)return i[1|o]}function ua(i,s){return function os(i,s,o){let c=0,d=i.length>>o;for(;d!==c;){const p=c+(d-c>>1),_=i[p<<o];if(s===_)return p<<o;_>s?d=p:c=p+1}return~(d<<o)}(i,s,1)}const I={},x="__NG_DI_FLAG__",L="ngTempTokenPath",ie=/\n/gm,$e="__source",Ge=pe({provide:String,useValue:pe});let wt;function Ht(i){const s=wt;return wt=i,s}function Un(i,s=it.Default){if(void 0===wt)throw new Ae(203,"");return null===wt?qi(i,void 0,s):wt.get(i,s&it.Optional?null:void 0,s)}function Ft(i,s=it.Default){return(function nn(){return Mr}()||Un)(J(i),s)}const as=Ft;function js(i){const s=[];for(let o=0;o<i.length;o++){const c=J(i[o]);if(Array.isArray(c)){if(0===c.length)throw new Ae(900,"");let d,p=it.Default;for(let _=0;_<c.length;_++){const C=c[_],w=Lr(C);"number"==typeof w?-1===w?d=C.token:p|=w:d=C}s.push(Ft(d,p))}else s.push(Ft(c))}return s}function di(i,s){return i[x]=s,i.prototype[x]=s,i}function Lr(i){return i[x]}const Bi=di(Us("Inject",i=>({token:i})),-1),Hs=di(Us("Optional"),8),Qc=di(Us("Self"),2),Co=di(Us("SkipSelf"),4);class wf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Yr(i){return i instanceof wf?i.changingThisBreaksApplicationSecurity:i}const Eo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Af=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function su(i){const s=function au(){const i=be();return i&&i[12]}();return s?s.sanitize(xn.URL,i)||"":function Fl(i,s){const o=function Rd(i){return i instanceof wf&&i.getTypeName()||null}(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}(i,"URL")?Yr(i):function qa(i){return(i=String(i)).match(Eo)||i.match(Af)?i:"unsafe:"+i}(W(i))}const Mn="__ngContext__";function Vn(i,s){i[Mn]=s}function yn(i){const s=function fi(i){return i[Mn]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function $d(i){return i.ngOriginalError}function Gd(i,...s){i.error(...s)}class zn{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),c=function Kg(i){return i&&i.ngErrorLogger||Gd}(s);c(this._console,"ERROR",s),o&&c(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&$d(s);for(;o&&$d(o);)o=$d(o);return o||null}}const Vf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_t))();function g(i){return i instanceof Function?i():i}var fe=(()=>((fe=fe||{})[fe.Important=1]="Important",fe[fe.DashCase=2]="DashCase",fe))();function qe(i,s){return undefined(i,s)}function Kt(i){const s=i[3];return Or(s)?s[3]:s}function Ya(i){return Bf(i[13])}function $l(i){return Bf(i[4])}function Bf(i){for(;null!==i&&!Or(i);)i=i[4];return i}function wo(i,s,o,c,d){if(null!=c){let p,_=!1;Or(c)?p=c:Wr(c)&&(_=!0,c=c[0]);const C=Ut(c);0===i&&null!==o?null==d?zf(s,o,C):ga(s,o,C,d||null,!0):1===i&&null!==o?ga(s,o,C,d||null,!0):2===i?function Gl(i,s,o){const c=Wf(i,s);c&&function jE(i,s,o,c){jt(i)?i.removeChild(s,o,c):s.removeChild(o)}(i,c,s,o)}(s,C,_):3===i&&s.destroyNode(C),null!=p&&function Vr(i,s,o,c,d){const p=o[7];p!==Ut(o)&&wo(s,i,c,p,d);for(let C=10;C<o.length;C++){const w=o[C];fu(w[1],w,i,s,c,p)}}(s,i,p,o,d)}}function Wn(i,s,o){if(jt(i))return i.createElement(s,o);{const c=null!==o?function Oa(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(o):null;return null===c?i.createElement(s):i.createElementNS(c,s)}}function cs(i,s){const o=i[9],c=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ns(d,-1)),o.splice(c,1)}function F(i,s){if(i.length<=10)return;const o=10+s,c=i[o];if(c){const d=c[17];null!==d&&d!==i&&cs(d,c),s>0&&(i[o-1][4]=c[4]);const p=Kr(i,10+s);!function $f(i,s){fu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const _=p[19];null!==_&&_.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function bo(i,s){if(!(256&s[2])){const o=s[11];jt(o)&&o.destroyNode&&fu(i,s,o,3,null,null),function hr(i){let s=i[13];if(!s)return Gf(i[1],i);for(;s;){let o=null;if(Wr(s))o=s[13];else{const c=s[10];c&&(o=c)}if(!o){for(;s&&!s[4]&&s!==i;)Wr(s)&&Gf(s[1],s),s=s[3];null===s&&(s=i),Wr(s)&&Gf(s[1],s),o=s&&s[4]}s=o}}(s)}}function Gf(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function BE(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let c=0;c<o.length;c+=2){const d=s[o[c]];if(!(d instanceof go)){const p=o[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const C=d[p[_]],w=p[_+1];try{w.call(C)}finally{}}else try{p.call(d)}finally{}}}}(i,s),function zy(i,s){const o=i.cleanup,c=s[7];let d=-1;if(null!==o)for(let p=0;p<o.length-1;p+=2)if("string"==typeof o[p]){const _=o[p+1],C="function"==typeof _?_(s):Ut(s[_]),w=c[d=o[p+2]],D=o[p+3];"boolean"==typeof D?C.removeEventListener(o[p],w,D):D>=0?c[d=D]():c[d=-D].unsubscribe(),p+=2}else{const _=c[d=o[p+1]];o[p].call(_)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();s[7]=null}}(i,s),1===s[1].type&&jt(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Or(s[3])){o!==s[3]&&cs(o,s);const c=s[19];null!==c&&c.detachView(i)}}}function Wy(i,s,o){return function En(i,s,o){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return o[0];if(2&c.flags){const d=i.data[c.directiveStart].encapsulation;if(d===Tt.None||d===Tt.Emulated)return null}return kn(c,o)}(i,s.parent,o)}function ga(i,s,o,c,d){jt(i)?i.insertBefore(s,o,c,d):s.insertBefore(o,c,d)}function zf(i,s,o){jt(i)?i.appendChild(s,o):s.appendChild(o)}function Zy(i,s,o,c,d){null!==c?ga(i,s,o,c,d):zf(i,s,o)}function Wf(i,s){return jt(i)?i.parentNode(s):s.parentNode}let Qg=function Ky(i,s,o){return 40&i.type?kn(i,o):null};function Zf(i,s,o,c){const d=Wy(i,c,s),p=s[11],C=function qy(i,s,o){return Qg(i,s,o)}(c.parent||s[6],c,s);if(null!=d)if(Array.isArray(o))for(let w=0;w<o.length;w++)Zy(p,d,o[w],C,!1);else Zy(p,d,o,C,!1)}function Kd(i,s){if(null!==s){const o=s.type;if(3&o)return kn(s,i);if(4&o)return Xg(-1,i[s.index]);if(8&o){const c=s.child;if(null!==c)return Kd(i,c);{const d=i[s.index];return Or(d)?Xg(-1,d):Ut(d)}}if(32&o)return qe(s,i)()||Ut(i[s.index]);{const c=Qy(i,s);return null!==c?Array.isArray(c)?c[0]:Kd(Kt(i[16]),c):Kd(i,s.next)}}return null}function Qy(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Xg(i,s){const o=10+i+1;if(o<s.length){const c=s[o],d=c[1].firstChild;if(null!==d)return Kd(c,d)}return s[7]}function qf(i,s,o,c,d,p,_){for(;null!=o;){const C=c[o.index],w=o.type;if(_&&0===s&&(C&&Vn(Ut(C),c),o.flags|=4),64!=(64&o.flags))if(8&w)qf(i,s,o.child,c,d,p,!1),wo(s,i,d,C,p);else if(32&w){const D=qe(o,c);let A;for(;A=D();)wo(s,i,d,A,p);wo(s,i,d,C,p)}else 16&w?pu(i,s,c,o,d,p):wo(s,i,d,C,p);o=_?o.projectionNext:o.next}}function fu(i,s,o,c,d,p){qf(o,c,i.firstChild,s,d,p,!1)}function pu(i,s,o,c,d,p){const _=o[16],w=_[6].projection[c.projection];if(Array.isArray(w))for(let D=0;D<w.length;D++)wo(s,i,d,w[D],p);else qf(i,s,w,_[3],d,p,!0)}function Jy(i,s,o){jt(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function em(i,s,o){jt(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Xy(i,s,o){let c=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||i.charCodeAt(d+p)<=32)return d}o=d+1}}const ev="ng-template";function Kf(i,s,o){let c=0;for(;c<i.length;){let d=i[c++];if(o&&"class"===d){if(d=i[c],-1!==Xy(d.toLowerCase(),s,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function tm(i){return 4===i.type&&i.value!==ev}function nm(i,s,o){return s===(4!==i.type||o?i.value:ev)}function rm(i,s,o){let c=4;const d=i.attrs||[],p=function Yf(i){for(let s=0;s<i.length;s++)if(Ni(i[s]))return s;return i.length}(d);let _=!1;for(let C=0;C<s.length;C++){const w=s[C];if("number"!=typeof w){if(!_)if(4&c){if(c=2|1&c,""!==w&&!nm(i,w,o)||""===w&&1===s.length){if(Qn(c))return!1;_=!0}}else{const D=8&c?w:s[++C];if(8&c&&null!==i.attrs){if(!Kf(i.attrs,D,o)){if(Qn(c))return!1;_=!0}continue}const N=tv(8&c?"class":w,d,tm(i),o);if(-1===N){if(Qn(c))return!1;_=!0;continue}if(""!==D){let H;H=N>p?"":d[N+1].toLowerCase();const Y=8&c?H:null;if(Y&&-1!==Xy(Y,D,0)||2&c&&D!==H){if(Qn(c))return!1;_=!0}}}}else{if(!_&&!Qn(c)&&!Qn(w))return!1;if(_&&Qn(w))continue;_=!1,c=w|1&c}}return Qn(c)||_}function Qn(i){return 0==(1&i)}function tv(i,s,o,c){if(null===s)return-1;let d=0;if(c||!o){let p=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function zE(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const c=i[o];if("number"==typeof c)return-1;if(c===s)return o;o++}return-1}(s,i)}function ma(i,s,o=!1){for(let c=0;c<s.length;c++)if(rm(i,s[c],o))return!0;return!1}function nv(i,s){return i?":not("+s.trim()+")":s}function ZE(i){let s=i[0],o=1,c=2,d="",p=!1;for(;o<i.length;){let _=i[o];if("string"==typeof _)if(2&c){const C=i[++o];d+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Qn(_)&&(s+=nv(p,d),d=""),c=_,p=p||!Qn(c);o++}return""!==d&&(s+=nv(p,d)),s}const pt={};function rv(i){iv(yt(),be(),Fn()+i,qo())}function iv(i,s,o,c){if(!c)if(3==(3&s[2])){const p=i.preOrderCheckHooks;null!==p&&Jo(s,p,o)}else{const p=i.preOrderHooks;null!==p&&wl(s,p,0,o)}Oi(o)}function gu(i,s){return i<<17|s<<2}function Hi(i){return i>>17&32767}function Qf(i){return 2|i}function Io(i){return(131068&i)>>2}function sm(i,s){return-131069&i|s<<2}function om(i){return 1|i}function pv(i,s){const o=i.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const d=o[c],p=o[c+1];if(-1!==p){const _=i.data[p];vl(d),_.contentQueries(2,s[p],p)}}}function eh(i,s,o,c,d,p,_,C,w,D){const A=s.blueprint.slice();return A[0]=d,A[2]=140|c,ts(A),A[3]=A[15]=i,A[8]=o,A[10]=_||i&&i[10],A[11]=C||i&&i[11],A[12]=w||i&&i[12]||null,A[9]=D||i&&i[9]||null,A[6]=p,A[16]=2==s.type?i[16]:A,A}function vu(i,s,o,c,d){let p=i.data[s];if(null===p)p=function $i(i,s,o,c,d){const p=rs(),_=gl(),w=i.data[s]=function aw(i,s,o,c,d,p){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,o,s,c,d);return null===i.firstChild&&(i.firstChild=w),null!==p&&(_?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w)),w}(i,s,o,c,d),function Ko(){return nt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=o,p.value=c,p.attrs=d;const _=function Zo(){const i=nt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return ar(p,!0),p}function Cu(i,s,o,c){if(0===o)return-1;const d=s.length;for(let p=0;p<o;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return d}function th(i,s,o){Ps(s);try{const c=i.viewQuery;null!==c&&wu(1,c,o);const d=i.template;null!==d&&fm(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&pv(i,s),i.staticViewQueries&&wu(2,i.viewQuery,o);const p=i.components;null!==p&&function gv(i,s){for(let o=0;o<s.length;o++)wv(i,s[o])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,po()}}function Eu(i,s,o,c){const d=s[2];if(256==(256&d))return;Ps(s);const p=qo();try{ts(s),function _l(i){return nt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&fm(i,s,o,2,c);const _=3==(3&d);if(!p)if(_){const D=i.preOrderCheckHooks;null!==D&&Jo(s,D,null)}else{const D=i.preOrderHooks;null!==D&&wl(s,D,0,null),La(s,0)}if(function Ew(i){for(let s=Ya(i);null!==s;s=$l(s)){if(!s[2])continue;const o=s[9];for(let c=0;c<o.length;c++){const d=o[c],p=d[3];0==(1024&d[2])&&ns(p,1),d[2]|=1024}}}(s),function Cw(i){for(let s=Ya(i);null!==s;s=$l(s))for(let o=10;o<s.length;o++){const c=s[o],d=c[1];ii(c)&&Eu(d,c,d.template,c[8])}}(s),null!==i.contentQueries&&pv(i,s),!p)if(_){const D=i.contentCheckHooks;null!==D&&Jo(s,D)}else{const D=i.contentHooks;null!==D&&wl(s,D,1),La(s,1)}!function hm(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const d=o[c];if(d<0)Oi(~d);else{const p=d,_=o[++c],C=o[++c];Yo(_,p),C(2,s[p])}}}finally{Oi(-1)}}(i,s);const C=i.components;null!==C&&function yu(i,s){for(let o=0;o<s.length;o++)sp(i,s[o])}(s,C);const w=i.viewQuery;if(null!==w&&wu(2,w,c),!p)if(_){const D=i.viewCheckHooks;null!==D&&Jo(s,D)}else{const D=i.viewHooks;null!==D&&wl(s,D,2),La(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ns(s[3],-1))}finally{po()}}function iw(i,s,o,c){const d=s[10],p=!qo(),_=ho(s);try{p&&!_&&d.begin&&d.begin(),_&&th(i,s,c),Eu(i,s,o,c)}finally{p&&!_&&d.end&&d.end()}}function fm(i,s,o,c,d){const p=Fn(),_=2&c;try{Oi(-1),_&&s.length>20&&iv(i,s,20,qo()),o(c,d)}finally{Oi(p)}}function pm(i,s,o){!pl()||(function cT(i,s,o,c){const d=o.directiveStart,p=o.directiveEnd;i.firstCreatePass||lr(o,s),Vn(c,s);const _=o.initialInputs;for(let C=d;C<p;C++){const w=i.data[C],D=Pr(w);D&&_w(s,o,w);const A=Li(s,i,C,o);Vn(A,s),null!==_&&dT(0,C-d,A,w,0,_),D&&(Nn(o.index,s)[8]=A)}}(i,s,o,kn(o,s)),128==(128&o.flags)&&function uT(i,s,o){const c=o.directiveStart,d=o.directiveEnd,_=o.index,C=function Nc(){return nt.lFrame.currentDirectiveIndex}();try{Oi(_);for(let w=c;w<d;w++){const D=i.data[w],A=s[w];Os(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&fw(D,A)}}finally{Oi(-1),Os(C)}}(i,s,o))}function gm(i,s,o=kn){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],C=-1===_?o(s,i):i[_];i[d++]=C}}}function mm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=np(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function np(i,s,o,c,d,p,_,C,w,D){const A=20+c,N=A+d,H=function sw(i,s){const o=[];for(let c=0;c<s;c++)o.push(c<i?null:pt);return o}(A,N),Y="function"==typeof D?D():D;return H[1]={type:i,blueprint:H,template:o,queries:null,viewQuery:C,declTNode:s,data:H.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:Y,incompleteFirstPass:!1}}function _m(i,s,o,c){const d=Dv(s);null===o?d.push(c):(d.push(o),i.firstCreatePass&&lp(i).push(c,d.length-1))}function _v(i,s,o){for(let c in i)if(i.hasOwnProperty(c)){const d=i[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(s,d):o[c]=[s,d]}return o}function gi(i,s,o,c,d,p,_,C){const w=kn(s,o);let A,D=s.inputs;!C&&null!=D&&(A=D[c])?(Tv(i,o,A,c,d),xa(s)&&function uw(i,s){const o=Nn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(c=function cw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=_?_(d,s.value||"",c):d,jt(p)?p.setProperty(w,c,d):bl(c)||(w.setProperty?w.setProperty(c,d):w[c]=d))}function ip(i,s,o,c){let d=!1;if(pl()){const p=function pw(i,s,o){const c=i.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const _=c[p];ma(o,_.selectors,!1)&&(d||(d=[]),cr(lr(o,s),i,_.type),Pr(_)?(vv(i,o),d.unshift(_)):d.push(_))}return d}(i,s,o),_=null===c?null:{"":-1};if(null!==p){d=!0,Cv(o,i.data.length,p.length);for(let A=0;A<p.length;A++){const N=p[A];N.providersResolver&&N.providersResolver(N)}let C=!1,w=!1,D=Cu(i,s,p.length,null);for(let A=0;A<p.length;A++){const N=p[A];o.mergedAttrs=Va(o.mergedAttrs,N.hostAttrs),Ev(i,o,s,D,N),mw(D,N,_),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const H=N.type.prototype;!C&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),C=!0),!w&&(H.ngOnChanges||H.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),w=!0),D++}!function lw(i,s){const c=s.directiveEnd,d=i.data,p=s.attrs,_=[];let C=null,w=null;for(let D=s.directiveStart;D<c;D++){const A=d[D],N=A.inputs,H=null===p||tm(s)?null:yw(N,p);_.push(H),C=_v(N,D,C),w=_v(A.outputs,D,w)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=C,s.outputs=w}(i,o)}_&&function gw(i,s,o){if(s){const c=i.localNames=[];for(let d=0;d<s.length;d+=2){const p=o[s[d+1]];if(null==p)throw new Ae(-301,!1);c.push(s[d],p)}}}(o,c,_)}return o.mergedAttrs=Va(o.mergedAttrs,o.attrs),d}function Cm(i,s,o,c,d,p){const _=p.hostBindings;if(_){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const w=~s.index;(function yv(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(C)!=w&&C.push(w),C.push(c,d,_)}}function fw(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function vv(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function mw(i,s,o){if(o){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)o[s.exportAs[c]]=i;Pr(s)&&(o[""]=i)}}function Cv(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Ev(i,s,o,c,d){i.data[c]=d;const p=d.factory||(d.factory=kr(d.type)),_=new go(p,Pr(d),null);i.blueprint[c]=_,o[c]=_,Cm(i,s,0,c,Cu(i,o,d.hostVars,pt),d)}function _w(i,s,o){const c=kn(s,i),d=mm(o),p=i[10],_=nh(i,eh(i,d,null,o.onPush?64:16,c,s,p,p.createRenderer(c,o),null,null));i[s.index]=_}function qs(i,s,o,c,d,p){const _=kn(i,s);!function Em(i,s,o,c,d,p,_){if(null==p)jt(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const C=null==_?W(p):_(p,c||"",d);jt(i)?i.setAttribute(s,d,C,o):o?s.setAttributeNS(o,d,C):s.setAttribute(d,C)}}(s[11],_,p,i.value,o,c,d)}function dT(i,s,o,c,d,p){const _=p[s];if(null!==_){const C=c.setInput;for(let w=0;w<_.length;){const D=_[w++],A=_[w++],N=_[w++];null!==C?c.setInput(o,N,D,A):o[A]=N}}}function yw(i,s){let o=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[c+1])),c+=2}else c+=2;else c+=4}return o}function vw(i,s,o,c){return new Array(i,!0,!1,s,null,0,c,o,null,null)}function sp(i,s){const o=Nn(s,i);if(ii(o)){const c=o[1];80&o[2]?Eu(c,o,c.template,o[8]):o[5]>0&&op(o)}}function op(i){for(let c=Ya(i);null!==c;c=$l(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const _=p[1];Eu(_,p,_.template,p[8])}else p[5]>0&&op(p)}const o=i[1].components;if(null!==o)for(let c=0;c<o.length;c++){const d=Nn(o[c],i);ii(d)&&d[5]>0&&op(d)}}function wv(i,s){const o=Nn(s,i),c=o[1];(function va(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(c,o),th(c,o,o[8])}function nh(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function ap(i){for(;i;){i[2]|=64;const s=Kt(i);if(hd(i)&&!s)return i;i=s}return null}function bm(i,s,o){const c=s[10];c.begin&&c.begin();try{Eu(i,s,i.template,o)}catch(d){throw Dw(s,d),d}finally{c.end&&c.end()}}function bv(i){!function wm(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],c=yn(o),d=c[1];iw(d,c,d.template,o)}}(i[8])}function wu(i,s,o){vl(0),s(i,o)}const fT=(()=>Promise.resolve(null))();function Dv(i){return i[7]||(i[7]=[])}function lp(i){return i.cleanup||(i.cleanup=[])}function Dw(i,s){const o=i[9],c=o?o.get(zn,null):null;c&&c.handleError(s)}function Tv(i,s,o,c,d){for(let p=0;p<o.length;){const _=o[p++],C=o[p++],w=s[_],D=i.data[_];null!==D.setInput?D.setInput(w,d,c,C):w[C]=d}}function Ca(i,s,o){const c=Rs(s,i);!function jf(i,s,o){jt(i)?i.setValue(s,o):s.textContent=o}(i[11],c,o)}function Im(i,s,o){let c=o?i.styles:null,d=o?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const C=s[_];"number"==typeof C?p=C:1==p?d=ne(d,C):2==p&&(c=ne(c,C+": "+s[++_]+";"))}o?i.styles=c:i.stylesWithoutHost=c,o?i.classes=d:i.classesWithoutHost=d}const Sv=new cn("INJECTOR",-1);class Tw{get(s,o=I){if(o===I){const c=new Error(`NullInjectorError: No provider for ${te(s)}!`);throw c.name="NullInjectorError",c}return o}}const Av=new cn("Set Injector scope."),cp={},up={};let dp;function xv(){return void 0===dp&&(dp=new Tw),dp}function Mv(i,s=null,o=null,c){const d=Jn(i,s,o,c);return d._resolveInjectorDefTypes(),d}function Jn(i,s=null,o=null,c){return new Ks(i,o,s||xv(),c)}class Ks{constructor(s,o,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];o&&Cr(o,C=>this.processProvider(C,s,o)),Cr([s],C=>this.processInjectorType(C,[],p)),this.records.set(Sv,Iu(void 0,this));const _=this.records.get(Av);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:te(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=I,c=it.Default){this.assertNotDestroyed();const d=Ht(this),p=pn(void 0);try{if(!(c&it.SkipSelf)){let C=this.records.get(s);if(void 0===C){const w=function Ov(i){return"function"==typeof i||"object"==typeof i&&i instanceof cn}(s)&&Ct(s);C=w&&this.injectableDefInScope(w)?Iu(bu(s),cp):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(c&it.Self?xv():this.parent).get(s,o=c&it.Optional&&o===I?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[L]=_[L]||[]).unshift(te(s)),d)throw _;return function Ur(i,s,o,c){const d=i[L];throw s[$e]&&d.unshift(s[$e]),i.message=function vo(i,s,o,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=te(s);if(Array.isArray(s))d=s.map(te).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let C=s[_];p.push(_+":"+("string"==typeof C?JSON.stringify(C):te(C)))}d=`{${p.join(", ")}}`}return`${o}${c?"("+c+")":""}[${d}]: ${i.replace(ie,"\n  ")}`}("\n"+i.message,d,o,c),i.ngTokenPath=d,i[L]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{pn(p),Ht(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,d)=>s.push(te(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,!1)}processInjectorType(s,o,c){if(!(s=J(s)))return!1;let d=nr(s);const p=null==d&&s.ngModule||void 0,_=void 0===p?s:p,C=-1!==c.indexOf(_);if(void 0!==p&&(d=nr(p)),null==d)return!1;if(null!=d.imports&&!C){let A;c.push(_);try{Cr(d.imports,N=>{this.processInjectorType(N,o,c)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:H,providers:Y}=A[N];Cr(Y,ye=>this.processProvider(ye,H,Y||U))}}this.injectorDefTypes.add(_);const w=kr(_)||(()=>new _);this.records.set(_,Iu(w,cp));const D=d.providers;if(null!=D&&!C){const A=s;Cr(D,N=>this.processProvider(N,A,D))}return void 0!==p&&void 0!==s.providers}processProvider(s,o,c){let d=Du(s=J(s))?s:J(s&&s.provide);const p=function Sw(i,s,o){return Tm(i)?Iu(void 0,i.useValue):Iu(Rv(i),cp)}(s);if(Du(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Iu(void 0,cp,!0),_.factory=()=>js(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,p)}hydrate(s,o){return o.value===cp&&(o.value=up,o.value=o.factory()),"object"==typeof o.value&&o.value&&function hp(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=J(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function bu(i){const s=Ct(i),o=null!==s?s.factory:kr(i);if(null!==o)return o;if(i instanceof cn)throw new Ae(204,!1);if(i instanceof Function)return function Dm(i){const s=i.length;if(s>0)throw function Er(i,s){const o=[];for(let c=0;c<i;c++)o.push(s);return o}(s,"?"),new Ae(204,!1);const o=function xr(i){const s=i&&(i[ni]||i[gr]);if(s){const o=function jn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Ae(204,!1)}function Rv(i,s,o){let c;if(Du(i)){const d=J(i);return kr(d)||bu(d)}if(Tm(i))c=()=>J(i.useValue);else if(function xw(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...js(i.deps||[]));else if(function Aw(i){return!(!i||!i.useExisting)}(i))c=()=>Ft(J(i.useExisting));else{const d=J(i&&(i.useClass||i.provide));if(!function Jr(i){return!!i.deps}(i))return kr(d)||bu(d);c=()=>new d(...js(i.deps))}return c}function Iu(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Tm(i){return null!==i&&"object"==typeof i&&Ge in i}function Du(i){return"function"==typeof i}let Ys=(()=>{class i{static create(o,c){var d;if(Array.isArray(o))return Mv({name:""},c,o,"");{const p=null!==(d=o.name)&&void 0!==d?d:"";return Mv({name:p},o.parent,o.providers,p)}}}return i.THROW_IF_NOT_FOUND=I,i.NULL=new Tw,i.\u0275prov=Bt({token:i,providedIn:"any",factory:()=>Ft(Sv)}),i.__NG_ELEMENT_ID__=-1,i})();function Mm(i,s){Pi(yn(i)[1],an())}function oh(i){let s=function Rm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const c=[i];for(;s;){let d;if(Pr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ae(903,"");d=s.\u0275dir}if(d){if(o){c.push(d);const _=i;_.inputs=Om(i.inputs),_.declaredInputs=Om(i.declaredInputs),_.outputs=Om(i.outputs);const C=d.hostBindings;C&&Pm(i,C);const w=d.viewQuery,D=d.contentQueries;if(w&&Vw(i,w),D&&yp(i,D),se(i.inputs,d.inputs),se(i.declaredInputs,d.declaredInputs),se(i.outputs,d.outputs),Pr(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const C=p[_];C&&C.ngInherit&&C(i),C===oh&&(o=!1)}}s=Object.getPrototypeOf(s)}!function Uw(i){let s=0,o=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=s+=d.hostVars,d.hostAttrs=Va(d.hostAttrs,o=Va(o,d.hostAttrs))}}(c)}function Om(i){return i===rr?{}:i===U?[]:i}function Vw(i,s){const o=i.viewQuery;i.viewQuery=o?(c,d)=>{s(c,d),o(c,d)}:s}function yp(i,s){const o=i.contentQueries;i.contentQueries=o?(c,d,p)=>{s(c,d,p),o(c,d,p)}:s}function Pm(i,s){const o=i.hostBindings;i.hostBindings=o?(c,d)=>{s(c,d),o(c,d)}:s}let vp=null;function zl(){if(!vp){const i=_t.Symbol;if(i&&i.iterator)vp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const c=s[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(vp=c)}}}return vp}function ah(i){return!!Fm(i)&&(Array.isArray(i)||!(i instanceof Map)&&zl()in i)}function Fm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function To(i,s,o){return i[s]=o}function Br(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Su(i,s,o,c){const d=be();return Br(d,si(),s)&&(yt(),qs(ln(),d,i,s,o,c)),Su}function ql(i,s,o,c){return Br(i,si(),o)?s+W(o)+c:pt}function Hv(i,s,o,c,d,p,_,C){const w=be(),D=yt(),A=i+20,N=D.firstCreatePass?function jv(i,s,o,c,d,p,_,C,w){const D=s.consts,A=vu(s,i,4,_||null,vr(D,C));ip(s,o,A,vr(D,w)),Pi(s,A);const N=A.tViews=np(2,A,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,A),N.queries=s.queries.embeddedTView(A)),A}(A,D,w,s,o,c,d,p,_):D.data[A];ar(N,!1);const H=w[11].createComment("");Zf(D,w,H,N),Vn(H,w),nh(w,w[A]=vw(H,w,H,N)),Ji(N)&&pm(D,w,N),null!=_&&gm(w,N,C)}function bp(i){return function Mi(i,s){return i[s]}(function Pc(){return nt.lFrame.contextLView}(),20+i)}function Pu(i,s=it.Default){const o=be();return null===o?Ft(i,s):Fr(an(),o,J(i),s)}function Jv(){throw new Error("invalid")}function Zm(i,s,o){const c=be();return Br(c,si(),s)&&gi(yt(),ln(),c,i,s,c[11],o,!1),Zm}function Tp(i,s,o,c,d){const _=d?"class":"style";Tv(i,o,s.inputs[_],_,c)}function ku(i,s,o,c){const d=be(),p=yt(),_=20+i,C=d[11],w=d[_]=Wn(C,s,function Lc(){return nt.lFrame.currentNamespace}()),D=p.firstCreatePass?function Jl(i,s,o,c,d,p,_){const C=s.consts,D=vu(s,i,2,d,vr(C,p));return ip(s,o,D,vr(C,_)),null!==D.attrs&&Im(D,D.attrs,!1),null!==D.mergedAttrs&&Im(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(_,p,d,0,s,o,c):p.data[_];ar(D,!0);const A=D.mergedAttrs;null!==A&&Yn(C,w,A);const N=D.classes;null!==N&&em(C,w,N);const H=D.styles;return null!==H&&Jy(C,w,H),64!=(64&D.flags)&&Zf(p,d,w,D),0===function $o(){return nt.lFrame.elementDepthCount}()&&Vn(w,d),function Rc(){nt.lFrame.elementDepthCount++}(),Ji(D)&&(pm(p,d,D),function Ja(i,s,o){if(Cc(s)){const d=s.directiveEnd;for(let p=s.directiveStart;p<d;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,o[p],p)}}}(p,D,d)),null!==c&&gm(d,D),ku}function Ea(){let i=an();gl()?function ml(){nt.lFrame.isParent=!1}():(i=i.parent,ar(i,!1));const s=i;!function Go(){nt.lFrame.elementDepthCount--}();const o=yt();return o.firstCreatePass&&(Pi(o,i),Cc(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function vd(i){return 0!=(16&i.flags)}(s)&&Tp(o,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function _f(i){return 0!=(32&i.flags)}(s)&&Tp(o,s,be(),s.stylesWithoutHost,!1),Ea}function Sp(i,s,o,c){return ku(i,s,o,c),Ea(),Sp}function Xn(){return be()}function Xl(i){return!!i&&"function"==typeof i.then}function xp(i){return!!i&&"function"==typeof i.subscribe}const Qs=xp;function Tr(i,s,o,c){const d=be(),p=yt(),_=an();return function e0(i,s,o,c,d,p,_,C){const w=Ji(c),A=i.firstCreatePass&&lp(i),N=s[8],H=Dv(s);let Y=!0;if(3&c.type||C){const Ve=kn(c,s),ze=C?C(Ve):Ve,De=H.length,rt=C?It=>C(Ut(It[c.index])):c.index;if(jt(o)){let It=null;if(!C&&w&&(It=function Mp(i,s,o,c){const d=i.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===o&&d[p+1]===c){const C=s[7],w=d[p+2];return C.length>w?C[w]:null}"string"==typeof _&&(p+=2)}return null}(i,s,d,c.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=p,It.__ngLastListenerFn__=p,Y=!1;else{p=fs(c,s,N,p,!1);const $t=o.listen(ze,d,p);H.push(p,$t),A&&A.push(d,rt,De,De+1)}}else p=fs(c,s,N,p,!0),ze.addEventListener(d,p,_),H.push(p),A&&A.push(d,rt,De,_)}else p=fs(c,s,N,p,!1);const ye=c.outputs;let Re;if(Y&&null!==ye&&(Re=ye[d])){const Ve=Re.length;if(Ve)for(let ze=0;ze<Ve;ze+=2){const _i=s[Re[ze]][Re[ze+1]].subscribe(p),ll=H.length;H.push(p,_i),A&&A.push(d,c.index,ll,-(ll+1))}}}(p,d,d[11],_,i,s,!!o,c),Tr}function So(i,s,o,c){try{return!1!==o(c)}catch(d){return Dw(i,d),!1}}function fs(i,s,o,c,d){return function p(_){if(_===Function)return c;const C=2&i.flags?Nn(i.index,s):s;0==(32&s[2])&&ap(C);let w=So(s,0,c,_),D=p.__ngNextListenerFn__;for(;D;)w=So(s,0,D,_)&&w,D=D.__ngNextListenerFn__;return d&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function el(i=1){return function oi(i){return(nt.lFrame.contextLView=function md(i,s){for(;i>0;)s=s[15],i--;return s}(i,nt.lFrame.contextLView))[8]}(i)}function Rp(i,s,o){return Bn(i,"",s,"",o),Rp}function Bn(i,s,o,c,d){const p=be(),_=ql(p,s,o,c);return _!==pt&&gi(yt(),ln(),p,i,_,p[11],d,!1),Bn}function o0(i,s,o,c,d){const p=i[o+1],_=null===s;let C=c?Hi(p):Io(p),w=!1;for(;0!==C&&(!1===w||_);){const A=i[C+1];ob(i[C],s)&&(w=!0,i[C+1]=c?om(A):Qf(A)),C=c?Hi(A):Io(A)}w&&(i[o+1]=c?Qf(p):om(p))}function ob(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ua(i,s)>=0}const wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _h(i){return i.substring(wn.key,wn.keyEnd)}function a0(i){return i.substring(wn.value,wn.valueEnd)}function Xm(i,s){const o=wn.textEnd;let c=wn.key=Nu(i,s,o);return o===c?-1:(c=wn.keyEnd=function u0(i,s,o){let c;for(;s<o&&(45===(c=i.charCodeAt(s))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)s++;return s}(i,c,o),c=n_(i,c,o),c=wn.value=Nu(i,c,o),c=wn.valueEnd=function r_(i,s,o){let c=-1,d=-1,p=-1,_=s,C=_;for(;_<o;){const w=i.charCodeAt(_++);if(59===w)return C;34===w||39===w?C=_=d0(i,w,_,o):s===_-4&&85===p&&82===d&&76===c&&40===w?C=_=d0(i,41,_,o):w>32&&(C=_),p=d,d=c,c=-33&w}return C}(i,c,o),n_(i,c,o))}function Nu(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function n_(i,s,o,c){return(s=Nu(i,s,o))<o&&s++,s}function d0(i,s,o,c){let d=-1,p=o;for(;p<c;){const _=i.charCodeAt(p++);if(_==s&&92!==d)return p;d=92==_&&92===d?0:_}throw new Error}function yh(i,s){return function gs(i,s,o,c){const d=be(),p=yt(),_=Ri(2);p.firstUpdatePass&&p0(p,i,_,c),s!==pt&&Br(d,_,s)&&o_(p,p.data[Fn()],d,d[11],i,d[_+1]=function db(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=te(Yr(i)))),i}(s,o),c,_)}(i,s,null,!0),yh}function ps(i){!function Js(i,s,o,c){const d=yt(),p=Ri(2);d.firstUpdatePass&&p0(d,null,p,c);const _=be();if(o!==pt&&Br(_,p,o)){const C=d.data[Fn()];if(ec(C,c)&&!f0(d,p)){let w=c?C.classesWithoutHost:C.stylesWithoutHost;null!==w&&(o=ne(w,o||"")),Tp(d,C,_,o,c)}else!function v0(i,s,o,c,d,p,_,C){d===pt&&(d=U);let w=0,D=0,A=0<d.length?d[0]:null,N=0<p.length?p[0]:null;for(;null!==A||null!==N;){const H=w<d.length?d[w+1]:void 0,Y=D<p.length?p[D+1]:void 0;let Re,ye=null;A===N?(w+=2,D+=2,H!==Y&&(ye=N,Re=Y)):null===N||null!==A&&A<N?(w+=2,ye=A):(D+=2,ye=N,Re=Y),null!==ye&&o_(i,s,o,c,ye,Re,_,C),A=w<d.length?d[w]:null,N=D<p.length?p[D]:null}}(d,C,_,_[11],_[p+1],_[p+1]=function ub(i,s,o){if(null==o||""===o)return U;const c=[],d=Yr(o);if(Array.isArray(d))for(let p=0;p<d.length;p++)i(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&i(c,p,d[p]);else"string"==typeof d&&s(c,d);return c}(i,s,o),c,p)}}(y0,i_,i,!1)}function i_(i,s){for(let o=function c0(i){return function e_(i){wn.key=0,wn.keyEnd=0,wn.value=0,wn.valueEnd=0,wn.textEnd=i.length}(i),Xm(i,Nu(i,0,wn.textEnd))}(s);o>=0;o=Xm(s,o))y0(i,_h(s),a0(s))}function f0(i,s){return s>=i.expandoStartIndex}function p0(i,s,o,c){const d=i.data;if(null===d[o+1]){const p=d[Fn()],_=f0(i,o);ec(p,c)&&null===s&&!_&&(s=!1),s=function g0(i,s,o,c){const d=function yl(i){const s=nt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(o=vh(o=s_(null,i,s,o,c),s.attrs,c),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(o=s_(d,i,s,o,c),null===p){let w=function m0(i,s,o){const c=o?s.classBindings:s.styleBindings;if(0!==Io(c))return i[Hi(c)]}(i,s,c);void 0!==w&&Array.isArray(w)&&(w=s_(null,i,s,w[1],c),w=vh(w,s.attrs,c),function _0(i,s,o,c){i[Hi(o?s.classBindings:s.styleBindings)]=c}(i,s,c,w))}else p=function cb(i,s,o){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=vh(c,i[p].hostAttrs,o);return vh(c,s.attrs,o)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),o}(d,p,s,c),function sb(i,s,o,c,d,p){let _=p?s.classBindings:s.styleBindings,C=Hi(_),w=Io(_);i[c]=o;let A,D=!1;if(Array.isArray(o)){const N=o;A=N[1],(null===A||ua(N,A)>0)&&(D=!0)}else A=o;if(d)if(0!==w){const H=Hi(i[C+1]);i[c+1]=gu(H,C),0!==H&&(i[H+1]=sm(i[H+1],c)),i[C+1]=function YE(i,s){return 131071&i|s<<17}(i[C+1],c)}else i[c+1]=gu(C,0),0!==C&&(i[C+1]=sm(i[C+1],c)),C=c;else i[c+1]=gu(w,0),0===C?C=c:i[w+1]=sm(i[w+1],c),w=c;D&&(i[c+1]=Qf(i[c+1])),o0(i,A,c,!0),o0(i,A,c,!1),function mh(i,s,o,c,d){const p=d?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&ua(p,s)>=0&&(o[c+1]=om(o[c+1]))}(s,A,i,c,p),_=gu(C,w),p?s.classBindings=_:s.styleBindings=_}(d,p,s,o,_,c)}}function s_(i,s,o,c,d){let p=null;const _=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<_&&(p=s[C],c=vh(c,p.hostAttrs,d),p!==i);)C++;return null!==i&&(o.directiveStylingLast=C),c}function vh(i,s,o){const c=o?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?d=_:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),An(i,_,!!o||s[++p]))}return void 0===i?null:i}function y0(i,s,o){An(i,s,Yr(o))}function o_(i,s,o,c,d,p,_,C){if(!(3&s.type))return;const w=i.data,D=w[C+1];Pp(function sv(i){return 1==(1&i)}(D)?C0(w,s,o,d,Io(D),_):void 0)||(Pp(p)||function im(i){return 2==(2&i)}(D)&&(p=C0(w,null,o,d,C,_)),function $E(i,s,o,c,d){const p=jt(i);if(s)d?p?i.addClass(o,c):o.classList.add(c):p?i.removeClass(o,c):o.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:fe.DashCase;if(null==d)p?i.removeStyle(o,c,_):o.style.removeProperty(c);else{const C="string"==typeof d&&d.endsWith("!important");C&&(d=d.slice(0,-10),_|=fe.Important),p?i.setStyle(o,c,d,_):o.style.setProperty(c,d,C?"important":"")}}}(c,_,Rs(Fn(),o),d,p))}function C0(i,s,o,c,d,p){const _=null===s;let C;for(;d>0;){const w=i[d],D=Array.isArray(w),A=D?w[1]:w,N=null===A;let H=o[d+1];H===pt&&(H=N?U:void 0);let Y=N?xl(H,c):A===c?H:void 0;if(D&&!Pp(Y)&&(Y=xl(w,c)),Pp(Y)&&(C=Y,_))return C;const ye=i[d+1];d=_?Hi(ye):Io(ye)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(C=xl(w,c))}return C}function Pp(i){return void 0!==i}function ec(i,s){return 0!=(i.flags&(s?16:32))}function kp(i,s=""){const o=be(),c=yt(),d=i+20,p=c.firstCreatePass?vu(c,d,1,s,null):c.data[d],_=o[d]=function hu(i,s){return jt(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Zf(c,o,_,p),ar(p,!1)}function a_(i){return Np("",i,""),a_}function Np(i,s,o){const c=be(),d=ql(c,i,s,o);return d!==pt&&Ca(c,Fn(),d),Np}function l_(i,s,o){ps(ql(be(),i,s,o))}const fr=void 0;var mb=["en",[["a","p"],["AM","PM"],fr],[["AM","PM"],fr,fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fr,"{1} 'at' {0}",fr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gb(i){const o=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Vu={};function Ia(i){const s=function yb(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=U0(s);if(o)return o;const c=s.split("-")[0];if(o=U0(c),o)return o;if("en"===c)return mb;throw new Error(`Missing locale data for the locale "${i}".`)}function Bu(i){return Ia(i)[ot.PluralCase]}function U0(i){return i in Vu||(Vu[i]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[i]),Vu[i]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const Ch="en-US";let Xs=Ch;function sc(i,s,o,c,d){if(i=J(i),Array.isArray(i))for(let p=0;p<i.length;p++)sc(i[p],s,o,c,d);else{const p=yt(),_=be();let C=Du(i)?i:J(i.provide),w=Rv(i);const D=an(),A=1048575&D.providerIndexes,N=D.directiveStart,H=D.providerIndexes>>20;if(Du(i)||!i.multi){const Y=new go(w,d,Pu),ye=Yu(C,s,d?A:A+H,N);-1===ye?(cr(lr(D,_),p,C),__(p,i,s.length),s.push(C),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),o.push(Y),_.push(Y)):(o[ye]=Y,_[ye]=Y)}else{const Y=Yu(C,s,A+H,N),ye=Yu(C,s,A,A+H),Re=Y>=0&&o[Y],Ve=ye>=0&&o[ye];if(d&&!Ve||!d&&!Re){cr(lr(D,_),p,C);const ze=function oc(i,s,o,c,d){const p=new go(i,o,Pu);return p.multi=[],p.index=s,p.componentProviders=0,tC(p,d,c&&!o),p}(d?nC:Ph,o.length,d,c,w);!d&&Ve&&(o[ye].providerFactory=ze),__(p,i,s.length,0),s.push(C),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),o.push(ze),_.push(ze)}else __(p,i,Y>-1?Y:ye,tC(o[d?ye:Y],w,!d&&c));!d&&c&&Ve&&o[ye].componentProviders++}}}function __(i,s,o,c){const d=Du(s),p=function Mw(i){return!!i.useClass}(s);if(d||p){const w=(p?J(s.useClass):s).prototype.ngOnDestroy;if(w){const D=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const A=D.indexOf(o);-1===A?D.push(o,[c,w]):D[A+1].push(c,w)}else D.push(o,w)}}}function tC(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Yu(i,s,o,c){for(let d=o;d<c;d++)if(s[d]===i)return d;return-1}function Ph(i,s,o,c){return Qu(this.multi,[])}function nC(i,s,o,c){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=Li(o,o[1],this.providerFactory.index,c);p=C.slice(0,_),Qu(d,p);for(let w=_;w<C.length;w++)p.push(C[w])}else p=[],Qu(d,p);return p}function Qu(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Yp(i,s=[]){return o=>{o.providersResolver=(c,d)=>function Ub(i,s,o){const c=yt();if(c.firstCreatePass){const d=Pr(i);sc(o,c.data,c.blueprint,d,!0),sc(s,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,s)}}class Yt{}class iC{resolveComponentFactory(s){throw function to(i){const s=Error(`No component factory found for ${te(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Xu=(()=>{class i{}return i.NULL=new iC,i})();function ac(){return lc(an(),be())}function lc(i,s){return new _s(kn(i,s))}let _s=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=ac,i})();function y_(i){return i instanceof _s?i.nativeElement:i}class v_{}let Qp=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function jb(){const i=be(),o=Nn(an().index,i);return function Bb(i){return i[11]}(Wr(o)?o:i)}(),i})(),Hb=(()=>{class i{}return i.\u0275prov=Bt({token:i,providedIn:"root",factory:()=>null}),i})();class sC{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const oC=new sC("13.2.5"),C_={};function Jp(i,s,o,c,d=!1){for(;null!==o;){const p=s[o.index];if(null!==p&&c.push(Ut(p)),Or(p))for(let C=10;C<p.length;C++){const w=p[C],D=w[1].firstChild;null!==D&&Jp(w[1],w,D,c)}const _=o.type;if(8&_)Jp(i,s,o.child,c);else if(32&_){const C=qe(o,s);let w;for(;w=C();)c.push(w)}else if(16&_){const C=Qy(s,o);if(Array.isArray(C))c.push(...C);else{const w=Kt(s[16]);Jp(w[1],w,C,c,!0)}}o=d?o.projectionNext:o.next}return c}class ed{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Jp(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Or(s)){const o=s[8],c=o?o.indexOf(this):-1;c>-1&&(F(s,c),Kr(o,c))}this._attachedToViewContainer=!1}bo(this._lView[1],this._lView)}onDestroy(s){_m(this._lView[1],this._lView,null,s)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function bw(i,s,o){fo(!0);try{bm(i,s,o)}finally{fo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dn(i,s){fu(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=s}}class aC extends ed{constructor(s){super(s),this._view=s}detectChanges(){bv(this._view)}checkNoChanges(){!function Iv(i){fo(!0);try{bv(i)}finally{fo(!1)}}(this._view)}get context(){return null}}class lC extends Xu{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=In(s);return new E_(o,this.ngModule)}}function cC(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class E_ extends Yt{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function qE(i){return i.map(ZE).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return cC(this.componentDef.inputs)}get outputs(){return cC(this.componentDef.outputs)}create(s,o,c,d){const p=(d=d||this.ngModule)?function Gb(i,s){return{get:(o,c,d)=>{const p=i.get(o,C_,d);return p!==C_||c===C_?p:s.get(o,c,d)}}}(s,d.injector):s,_=p.get(v_,Bo),C=p.get(Hb,null),w=_.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",A=c?function rp(i,s,o){if(jt(i))return i.selectRootElement(s,o===Tt.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(w,c,this.componentDef.encapsulation):Wn(_.createRenderer(null,this.componentDef),D,function $b(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(D)),N=this.componentDef.onPush?576:528,H=function Lv(i,s){return{components:[],scheduler:i||Vf,clean:fT,playerHandler:s||null,flags:0}}(),Y=np(0,null,null,1,0,null,null,null,null,null),ye=eh(null,Y,H,N,null,null,_,w,C,p);let Re,Ve;Ps(ye);try{const ze=function _p(i,s,o,c,d,p){const _=o[1];o[20]=i;const w=vu(_,20,2,"#host",null),D=w.mergedAttrs=s.hostAttrs;null!==D&&(Im(w,D,!0),null!==i&&(Yn(d,i,D),null!==w.classes&&em(d,i,w.classes),null!==w.styles&&Jy(d,i,w.styles)));const A=c.createRenderer(i,s),N=eh(o,mm(s),null,s.onPush?64:16,o[20],w,c,A,p||null,null);return _.firstCreatePass&&(cr(lr(w,o),_,s.type),vv(_,w),Cv(w,o.length,1)),nh(o,N),o[20]=N}(A,this.componentDef,ye,_,w);if(A)if(c)Yn(w,A,["ng-version",oC.full]);else{const{attrs:De,classes:rt}=function KE(i){const s=[],o=[];let c=1,d=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===d?""!==p&&s.push(p,i[++c]):8===d&&o.push(p);else{if(!Qn(d))break;d=p}c++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);De&&Yn(w,A,De),rt&&rt.length>0&&em(w,A,rt.join(" "))}if(Ve=on(Y,20),void 0!==o){const De=Ve.projection=[];for(let rt=0;rt<this.ngContentSelectors.length;rt++){const It=o[rt];De.push(null!=It?Array.from(It):null)}}Re=function xm(i,s,o,c,d){const p=o[1],_=function vm(i,s,o){const c=an();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Ev(i,c,s,Cu(i,s,1,null),o));const d=Li(s,i,c.directiveStart,c);Vn(d,s);const p=kn(c,s);return p&&Vn(p,s),d}(p,o,s);if(c.components.push(_),i[8]=_,d&&d.forEach(w=>w(_,s)),s.contentQueries){const w=an();s.contentQueries(1,_,w.directiveStart)}const C=an();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Oi(C.index),Cm(o[1],C,0,C.directiveStart,C.directiveEnd,s),fw(s,_)),_}(ze,this.componentDef,ye,H,[Mm]),th(Y,ye,null)}finally{po()}return new b_(this.componentType,Re,lc(Ve,ye),ye,Ve)}}class b_ extends class Vb{}{constructor(s,o,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=o,this.hostView=this.changeDetectorRef=new aC(d),this.componentType=s}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ta{}class dC{}const nl=new Map;class fC extends Ta{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new lC(this);const c=Dn(s);this._bootstrapComponents=g(c.bootstrap),this._r3Injector=Jn(s,o,[{provide:Ta,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],te(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Ys.THROW_IF_NOT_FOUND,c=it.Default){return s===Ys||s===Ta||s===Sv?this:this._r3Injector.get(s,o,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class T_ extends dC{constructor(s){super(),this.moduleType=s,null!==Dn(s)&&function Zb(i){const s=new Set;!function o(c){const d=Dn(c,!0),p=d.id;null!==p&&(function I_(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${te(s)} vs ${te(s.name)}`)}(p,nl.get(p),c),nl.set(p,c));const _=g(d.imports);for(const C of _)s.has(C)||(s.add(C),o(C))}(i)}(s)}create(s){return new fC(this.moduleType,s)}}function pC(i,s,o){const c=Tn()+i,d=be();return d[c]===pt?To(d,c,o?s.call(o):s()):function lh(i,s){return i[s]}(d,c)}function gC(i,s,o,c){return function vC(i,s,o,c,d,p){const _=s+o;return Br(i,_,d)?To(i,_+1,p?c.call(p,d):c(d)):function Nh(i,s){const o=i[s];return o===pt?void 0:o}(i,_+1)}(be(),Tn(),i,s,o,c)}function x_(i){return s=>{setTimeout(i,void 0,s)}}const Mo=class Jb extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,c){var d,p,_;let C=s,w=o||(()=>null),D=c;if(s&&"object"==typeof s){const N=s;C=null===(d=N.next)||void 0===d?void 0:d.bind(N),w=null===(p=N.error)||void 0===p?void 0:p.bind(N),D=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(w=x_(w),C&&(C=x_(C)),D&&(D=x_(D)));const A=super.subscribe({next:C,error:w,complete:D});return s instanceof Q.w0&&s.add(A),A}};function M_(){return this._results[zl()]()}class tg{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=zl(),c=tg.prototype;c[o]||(c[o]=M_)}get changes(){return this._changes||(this._changes=new Mo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const c=this;c.dirty=!1;const d=Gn(s);(this._changesDetected=!function mo(i,s,o){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],p=s[c];if(o&&(d=o(d),p=o(p)),p!==d)return!1}return!0}(c._results,d,o))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Fh=(()=>{class i{}return i.__NG_ELEMENT_ID__=rl,i})();const Xb=Fh,AC=class extends Xb{constructor(s,o,c){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(s){const o=this._declarationTContainer.tViews,c=eh(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(o)),th(o,c,s),new ed(c)}};function rl(){return Lh(an(),be())}function Lh(i,s){return 4&i.type?new AC(s,i,lc(i,s)):null}let Uh=(()=>{class i{}return i.__NG_ELEMENT_ID__=il,i})();function il(){return MC(an(),be())}const ng=Uh,Vh=class extends ng{constructor(s,o,c){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=c}get element(){return lc(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const s=na(this._hostTNode,this._hostLView);if(Uc(s)){const o=xt(s,this._hostLView),c=At(s);return new Ui(o[1].data[c+8],o)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=xC(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,c){const d=s.createEmbeddedView(o||{});return this.insert(d,c),d}createComponent(s,o,c,d,p){const _=s&&!function ur(i){return"function"==typeof i}(s);let C;if(_)C=o;else{const N=o||{};C=N.index,c=N.injector,d=N.projectableNodes,p=N.ngModuleRef}const w=_?s:new E_(In(s)),D=c||this.parentInjector;if(!p&&null==w.ngModule){const H=(_?D:this.parentInjector).get(Ta,null);H&&(p=H)}const A=w.create(D,d,void 0,p);return this.insert(A.hostView,C),A}insert(s,o){const c=s._lView,d=c[1];if(function fl(i){return Or(i[3])}(c)){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const N=c[3],H=new Vh(N,N[6],N[3]);H.detach(H.indexOf(s))}}const p=this._adjustIndex(o),_=this._lContainer;!function Gy(i,s,o,c){const d=10+c,p=o.length;c>0&&(o[d-1][4]=s),c<p-10?(s[4]=o[d],Vs(o,10+c,s)):(o.push(s),s[4]=null),s[3]=o;const _=s[17];null!==_&&o!==_&&function Zs(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(_,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=128}(d,c,_,p);const C=Xg(p,_),w=c[11],D=Wf(w,_[7]);return null!==D&&function qd(i,s,o,c,d,p){c[0]=d,c[6]=s,fu(i,c,o,1,d,p)}(d,_[6],w,c,D,C),s.attachToViewContainerRef(),Vs(R_(_),p,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=xC(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),c=F(this._lContainer,o);c&&(Kr(R_(this._lContainer),o),bo(c[1],c))}detach(s){const o=this._adjustIndex(s,-1),c=F(this._lContainer,o);return c&&null!=Kr(R_(this._lContainer),o)?new ed(c):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function xC(i){return i[8]}function R_(i){return i[8]||(i[8]=[])}function MC(i,s){let o;const c=s[i.index];if(Or(c))o=c;else{let d;if(8&i.type)d=Ut(c);else{const p=s[11];d=p.createComment("");const _=kn(i,s);ga(p,Wf(p,_),d,function HE(i,s){return jt(i)?i.nextSibling(s):s.nextSibling}(p,_),!1)}s[i.index]=o=vw(c,s,d,i),nh(s,o)}return new Vh(o,i,s)}class Ro{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ro(this.queryList)}setDirty(){this.queryList.setDirty()}}class cc{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const c=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let p=0;p<c;p++){const _=o.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new cc(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==sg(s,o).matches&&this.queries[o].setDirty()}}class OC{constructor(s,o,c=null){this.predicate=s,this.flags=o,this.read=c}}class P_{constructor(s=[]){this.queries=s}elementStart(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let c=0;c<this.length;c++){const d=null!==o?o.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==o?o.push(p):o=[p])}return null!==o?new P_(o):null}template(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class k_{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new k_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,o,N_(o,p)),this.matchTNodeWithReadOption(s,o,Bc(o,s,p,!1,!1))}else c===Fh?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Bc(o,s,c,!1,!1))}matchTNodeWithReadOption(s,o,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===_s||d===Uh||d===Fh&&4&o.type)this.addMatch(o.index,-2);else{const p=Bc(o,s,d,!1,!1);null!==p&&this.addMatch(o.index,p)}else this.addMatch(o.index,c)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function N_(i,s){const o=i.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===s)return o[c+1];return null}function tI(i,s,o,c){return-1===o?function eI(i,s){return 11&i.type?lc(i,s):4&i.type?Lh(i,s):null}(s,i):-2===o?function PC(i,s,o){return o===_s?lc(s,i):o===Fh?Lh(s,i):o===Uh?MC(s,i):void 0}(i,s,c):Li(i,i[1],o,s)}function Bh(i,s,o,c){const d=s[19].queries[c];if(null===d.matches){const p=i.data,_=o.matches,C=[];for(let w=0;w<_.length;w+=2){const D=_[w];C.push(D<0?null:tI(s,p[D],_[w+1],o.metadata.read))}d.matches=C}return d.matches}function F_(i,s,o,c){const d=i.queries.getByIndex(o),p=d.matches;if(null!==p){const _=Bh(i,s,d,o);for(let C=0;C<p.length;C+=2){const w=p[C];if(w>0)c.push(_[C/2]);else{const D=p[C+1],A=s[-w];for(let N=10;N<A.length;N++){const H=A[N];H[17]===H[3]&&F_(H[1],H,D,c)}if(null!==A[9]){const N=A[9];for(let H=0;H<N.length;H++){const Y=N[H];F_(Y[1],Y,D,c)}}}}}return c}function uc(i){const s=be(),o=yt(),c=Qo();vl(c+1);const d=sg(o,c);if(i.dirty&&ho(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const p=d.crossesNgTemplate?F_(o,s,c,[]):Bh(o,s,d,c);i.reset(p,y_),i.notifyOnChanges()}return!0}return!1}function L_(i,s,o){const c=yt();c.firstCreatePass&&(ig(c,new OC(i,s,o),-1),2==(2&s)&&(c.staticViewQueries=!0)),jh(c,be(),s)}function U_(i,s,o,c){const d=yt();if(d.firstCreatePass){const p=an();ig(d,new OC(s,o,c),p.index),function B_(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}jh(d,be(),o)}function V_(){return function rg(i,s){return i[19].queries[s].queryList}(be(),Qo())}function jh(i,s,o){const c=new tg(4==(4&o));_m(i,s,c,c.destroy),null===s[19]&&(s[19]=new cc),s[19].queries.push(new Ro(c))}function ig(i,s,o){null===i.queries&&(i.queries=new P_),i.queries.track(new k_(s,o))}function sg(i,s){return i.queries.getByIndex(s)}function Zh(...i){}const HC=new cn("Application Initializer");let qh=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Zh,this.reject=Zh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(Xl(p))o.push(p);else if(Qs(p)){const _=new Promise((C,w)=>{p.subscribe({complete:C,error:w})});o.push(_)}}Promise.all(o).then(()=>{c()}).catch(d=>{this.reject(d)}),0===o.length&&c(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Ft(HC,8))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Kh=new cn("AppId",{providedIn:"root",factory:function $C(){return`${K_()}${K_()}${K_()}`}});function K_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zC=new cn("Platform Initializer"),WC=new cn("Platform ID"),Y_=new cn("appBootstrapListener");let ZC=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Bt({token:i,factory:i.\u0275fac}),i})();const Yh=new cn("LocaleId",{providedIn:"root",factory:()=>as(Yh,it.Optional|it.SkipSelf)||function pI(){return"undefined"!=typeof $localize&&$localize.locale||Ch}()}),qC=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gI{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Q_=(()=>{class i{compileModuleSync(o){return new T_(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),p=g(Dn(o).declarations).reduce((_,C)=>{const w=In(C);return w&&_.push(new E_(w)),_},[]);return new gI(c,p)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const od=(()=>Promise.resolve(0))();function J_(i){"undefined"==typeof Zone?od.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ys{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mo(!1),this.onMicrotaskEmpty=new Mo(!1),this.onStable=new Mo(!1),this.onError=new Mo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&o,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function KC(){let i=_t.requestAnimationFrame,s=_t.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function ey(i){const s=()=>{!function X_(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(_t,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,ty(i),i.isCheckStableRunning=!0,ad(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),ty(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,d,p,_,C)=>{try{return QC(i),o.invokeTask(d,p,_,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),gg(i)}},onInvoke:(o,c,d,p,_,C,w)=>{try{return QC(i),o.invoke(d,p,_,C,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),gg(i)}},onHasTask:(o,c,d,p)=>{o.hasTask(d,p),c===d&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,ty(i),ad(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(o,c,d,p)=>(o.handleError(d,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ys.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ys.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,c){return this._inner.run(s,o,c)}runTask(s,o,c,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,s,YC,Zh,Zh);try{return p.runTask(_,o,c)}finally{p.cancelTask(_)}}runGuarded(s,o,c){return this._inner.runGuarded(s,o,c)}runOutsideAngular(s){return this._outer.run(s)}}const YC={};function ad(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function ty(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function QC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gg(i){i._nesting--,ad(i)}class mI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mo,this.onMicrotaskEmpty=new Mo,this.onStable=new Mo,this.onError=new Mo}run(s,o,c){return s.apply(o,c)}runGuarded(s,o,c){return s.apply(o,c)}runOutsideAngular(s){return s()}runTask(s,o,c,d){return s.apply(o,c)}}let ny=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ys.assertNotInAngularZone(),J_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())J_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:p,updateCb:d})}whenStable(o,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,c,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(Ft(ys))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac}),i})(),ry=(()=>{class i{constructor(){this._applications=new Map,Hr.addToWindow(this)}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return Hr.findTestabilityInTree(this,o,c)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Bt({token:i,factory:i.\u0275fac}),i})();class JC{addToWindow(s){}findTestabilityInTree(s,o,c){return null}}function XC(i){Hr=i}let mi,Hr=new JC;const ol=new cn("AllowMultipleToken");class eE{constructor(s,o){this.name=s,this.token=o}}function al(i,s,o=[]){const c=`Platform: ${s}`,d=new cn(c);return(p=[])=>{let _=nE();if(!_||_.injector.get(ol,!1))if(i)i(o.concat(p).concat({provide:d,useValue:!0}));else{const C=o.concat(p).concat({provide:d,useValue:!0},{provide:Av,useValue:"platform"});!function tE(i){if(mi&&!mi.destroyed&&!mi.injector.get(ol,!1))throw new Ae(400,"");mi=i.get(mg);const s=i.get(zC,null);s&&s.forEach(o=>o())}(Ys.create({providers:C,name:c}))}return function kT(i){const s=nE();if(!s)throw new Ae(401,"");return s}()}}function nE(){return mi&&!mi.destroyed?mi:null}let mg=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const C=function _I(i,s){let o;return o="noop"===i?new mI:("zone.js"===i?void 0:i)||new ys({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),w=[{provide:ys,useValue:C}];return C.run(()=>{const D=Ys.create({providers:w,parent:this.injector,name:o.moduleType.name}),A=o.create(D),N=A.injector.get(zn,null);if(!N)throw new Ae(402,"");return C.runOutsideAngular(()=>{const H=C.onError.subscribe({next:Y=>{N.handleError(Y)}});A.onDestroy(()=>{ld(this._modules,A),H.unsubscribe()})}),function yI(i,s,o){try{const c=o();return Xl(c)?c.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(N,C,()=>{const H=A.injector.get(qh);return H.runInitializers(),H.donePromise.then(()=>(function jp(i){Ke(i,"Expected localeId to be defined"),"string"==typeof i&&(Xs=i.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Yh,Ch)||Ch),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,c=[]){const d=rE({},c);return function sl(i,s,o){const c=new T_(o);return Promise.resolve(c)}(0,0,o).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(o){const c=o.injector.get(sy);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Ae(403,"");o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Ft(Ys))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac}),i})();function rE(i,s){return Array.isArray(s)?s.reduce(rE,i):Object.assign(Object.assign({},i),s)}let sy=(()=>{class i{constructor(o,c,d,p,_){this._zone=o,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new k.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new k.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ys.assertNotInAngularZone(),J_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{ys.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,de.T)(C,w.pipe((0,X.B)()))}bootstrap(o,c){if(!this._initStatus.done)throw new Ae(405,"");let d;d=o instanceof Yt?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const p=function vs(i){return i.isBoundToModule}(d)?void 0:this._injector.get(Ta),C=d.create(Ys.NULL,[],c||d.selector,p),w=C.location.nativeElement,D=C.injector.get(ny,null),A=D&&C.injector.get(ry);return D&&A&&A.registerApplication(w,D),C.onDestroy(()=>{this.detachView(C.hostView),ld(this.components,C),A&&A.unregisterApplication(w)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;ld(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Y_,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Ft(ys),Ft(Ys),Ft(zn),Ft(Xu),Ft(qh))},i.\u0275prov=Bt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ld(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}let _g=!0,oy=!1;function iE(){return oy=!0,_g}function sE(){if(oy)throw new Error("Cannot enable prod mode after platform setup.");_g=!1}let oE=(()=>{class i{}return i.__NG_ELEMENT_ID__=EI,i})();function EI(i){return function wI(i,s,o){if(xa(i)&&!o){const c=Nn(i.index,s);return new ed(c,c)}return 47&i.type?new ed(s[16],s):null}(an(),be(),16==(16&i))}class dy{constructor(){}supports(s){return ah(s)}create(s){return new uE(s)}}const AI=(i,s)=>s;class uE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||AI}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,c=this._removalsHead,d=0,p=null;for(;o||c;){const _=!c||o&&o.currentIndex<hE(c,d,p)?o:c,C=hE(_,d,p),w=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(o=o._next,null==_.previousIndex)d++;else{p||(p=[]);const D=C-d,A=w-d;if(D!=A){for(let H=0;H<D;H++){const Y=H<p.length?p[H]:p[H]=0,ye=Y+H;A<=ye&&ye<D&&(p[H]=Y+1)}p[_.previousIndex]=A-D}}C!==w&&s(_,C,w)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!ah(s))throw new Ae(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,_,o=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)p=s[C],_=this._trackByFn(C,p),null!==o&&Object.is(o.trackById,_)?(c&&(o=this._verifyReinsertion(o,p,_,C)),Object.is(o.item,p)||this._addIdentityChange(o,p)):(o=this._mismatch(o,p,_,C),c=!0),o=o._next}else d=0,function jw(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[zl()]();let c;for(;!(c=o.next()).done;)s(c.value)}}(s,C=>{_=this._trackByFn(d,C),null!==o&&Object.is(o.trackById,_)?(c&&(o=this._verifyReinsertion(o,C,_,d)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,_,d),c=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,p,d)):s=this._addAfter(new xI(o,c),p,d),s}_verifyReinsertion(s,o,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,o,c),this._addToMoves(s,c),s}_moveAfter(s,o,c){return this._unlink(s),this._insertAfter(s,o,c),this._addToMoves(s,c),s}_addAfter(s,o,c){return this._insertAfter(s,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,c){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new dE),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,c=s._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class xI{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const o=s._prevDup,c=s._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class dE{constructor(){this.map=new Map}put(s){const o=s.trackById;let c=this.map.get(o);c||(c=new MI,this.map.set(o,c)),c.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hE(i,s,o){const c=i.previousIndex;if(null===c)return c;let d=0;return o&&c<o.length&&(d=o[c]),c+s+d}class RI{constructor(){}supports(s){return s instanceof Map||Fm(s)}create(){return new OI}}class OI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Fm(s)))throw new Ae(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const p=this._getOrCreateRecordForKey(d,c);o=this._insertBeforeOrAppend(o,p)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const c=s._prev;return o._next=s,o._prev=c,s._prev=o,c&&(c._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const c=new PI(s);return this._records.set(s,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(c=>o(s[c],c))}}class PI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fE(){return new hy([new dy])}let hy=(()=>{class i{constructor(o){this.factories=o}static create(o,c){if(null!=c){const d=c.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:c=>i.create(o,c||fE()),deps:[[i,new Co,new Hs]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(null!=c)return c;throw new Ae(901,"")}}return i.\u0275prov=Bt({token:i,providedIn:"root",factory:fE}),i})();function pE(){return new fy([new RI])}let fy=(()=>{class i{constructor(o){this.factories=o}static create(o,c){if(c){const d=c.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:c=>i.create(o,c||pE()),deps:[[i,new Co,new Hs]]}}find(o){const c=this.factories.find(p=>p.supports(o));if(c)return c;throw new Ae(901,"")}}return i.\u0275prov=Bt({token:i,providedIn:"root",factory:pE}),i})();const FI=al(null,"core",[{provide:WC,useValue:"unknown"},{provide:mg,deps:[Ys]},{provide:ry,deps:[]},{provide:ZC,deps:[]}]);let LI=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Ft(sy))},i.\u0275mod=qt({type:i}),i.\u0275inj=Ot({}),i})()},3942:(Ye,we,P)=>{"use strict";P.d(we,{Z:()=>Ae});var l=P(2090),Q=P(4859),k=P(9681),de=P(1877);class X{constructor(W,ue){this._delegate=W,this.firebase=ue,(0,k._addComponent)(W,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=W.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this._delegate.automaticDataCollectionEnabled=W}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(W=>{this._delegate.checkDestroyed(),W()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(W,ue=k._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(W);return!xe.isInitialized()&&"EXPLICIT"===(null===(Te=xe.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:ue})}_removeServiceInstance(W,ue=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(W).clearInstance(ue)}_addComponent(W){(0,k._addComponent)(this._delegate,W)}_addOrOverwriteComponent(W){(0,k._addOrOverwriteComponent)(this._delegate,W)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ne(){const Ne=function te(Ne){const W={},ue={__esModule:!0,initializeApp:function le(je,re={}){const K=k.initializeApp(je,re);if((0,l.r3)(W,K.name))return W[K.name];const oe=new Ne(K,ue);return W[K.name]=oe,oe},app:xe,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function ve(je){const re=je.name,K=re.replace("-compat","");if(k._registerComponent(je)&&"PUBLIC"===je.type){const oe=(me=xe())=>{if("function"!=typeof me[K])throw se.create("invalid-app-argument",{appName:re});return me[K]()};void 0!==je.serviceProps&&(0,l.ZB)(oe,je.serviceProps),ue[K]=oe,Ne.prototype[K]=function(...me){return this._getService.bind(this,re).apply(this,je.multipleInstances?me:[])}}return"PUBLIC"===je.type?ue[K]:null},removeApp:function Te(je){delete W[je]},useAsService:function Be(je,re){return"serverAuth"===re?null:re},modularAPIs:k}};function xe(je){if(!(0,l.r3)(W,je=je||k._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:je});return W[je]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function ge(){return Object.keys(W).map(je=>W[je])}}),xe.App=Ne,ue}(X);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function W(ue){(0,l.ZB)(Ne,ue)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ne}(),V=new de.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=B;!function Ie(Ne){(0,k.registerVersion)("@firebase/app-compat","0.1.19",Ne)}()},9681:(Ye,we,P)=>{"use strict";P.r(we),P.d(we,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>ni,_DEFAULT_ENTRY_NAME:()=>Ke,_addComponent:()=>On,_addOrOverwriteComponent:()=>Bt,_apps:()=>tn,_clearComponents:()=>ti,_components:()=>Rt,_getProvider:()=>Ot,_registerComponent:()=>Ar,_removeServiceInstance:()=>Ct,deleteApp:()=>it,getApp:()=>gr,getApps:()=>ri,initializeApp:()=>Zi,onLog:()=>pn,registerVersion:()=>nn,setLogLevel:()=>qi});var l=P(5861),Q=P(4859),k=P(1877),de=P(2090),X=P(2940);class pe{constructor(_e){this.container=_e}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function se(Ee){const _e=Ee.getComponent();return"VERSION"===(null==_e?void 0:_e.type)}(Pe)){const We=Pe.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Pe=>Pe).join(" ")}}const te="@firebase/app",B=new k.Yd("@firebase/app"),Ke="[DEFAULT]",lt={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,Rt=new Map;function On(Ee,_e){try{Ee.container.addComponent(_e)}catch(Pe){B.debug(`Component ${_e.name} failed to register with FirebaseApp ${Ee.name}`,Pe)}}function Bt(Ee,_e){Ee.container.addOrOverwriteComponent(_e)}function Ar(Ee){const _e=Ee.name;if(Rt.has(_e))return B.debug(`There were multiple attempts to register component ${_e}.`),!1;Rt.set(_e,Ee);for(const Pe of tn.values())On(Pe,Ee);return!0}function Ot(Ee,_e){const Pe=Ee.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),Ee.container.getProvider(_e)}function Ct(Ee,_e,Pe=Ke){Ot(Ee,_e).clearInstance(Pe)}function ti(){Rt.clear()}const jn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class nr{constructor(_e,Pe,We){this._isDeleted=!1,this._options=Object.assign({},_e),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this.checkDestroyed(),this._automaticDataCollectionEnabled=_e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_e){this._isDeleted=_e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const ni="9.6.8";function Zi(Ee,_e={}){"object"!=typeof _e&&(_e={name:_e});const Pe=Object.assign({name:Ke,automaticDataCollectionEnabled:!1},_e),We=Pe.name;if("string"!=typeof We||!We)throw jn.create("bad-app-name",{appName:String(We)});const ft=tn.get(We);if(ft){if((0,de.vZ)(Ee,ft.options)&&(0,de.vZ)(Pe,ft.config))return ft;throw jn.create("duplicate-app",{appName:We})}const et=new Q.H0(We);for(const qt of Rt.values())et.addComponent(qt);const kt=new nr(Ee,Pe,et);return tn.set(We,kt),kt}function gr(Ee=Ke){const _e=tn.get(Ee);if(!_e)throw jn.create("no-app",{appName:Ee});return _e}function ri(){return Array.from(tn.values())}function it(Ee){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(Ee){const _e=Ee.name;tn.has(_e)&&(tn.delete(_e),yield Promise.all(Ee.container.getProviders().map(Pe=>Pe.delete())),Ee.isDeleted=!0)})).apply(this,arguments)}function nn(Ee,_e,Pe){var We;let ft=null!==(We=lt[Ee])&&void 0!==We?We:Ee;Pe&&(ft+=`-${Pe}`);const et=ft.match(/\s|\//),kt=_e.match(/\s|\//);if(et||kt){const qt=[`Unable to register library "${ft}" with version "${_e}":`];return et&&qt.push(`library name "${ft}" contains illegal characters (whitespace or "/")`),et&&kt&&qt.push("and"),kt&&qt.push(`version name "${_e}" contains illegal characters (whitespace or "/")`),void B.warn(qt.join(" "))}Ar(new Q.wA(`${ft}-version`,()=>({library:ft,version:_e}),"VERSION"))}function pn(Ee,_e){if(null!==Ee&&"function"!=typeof Ee)throw jn.create("invalid-log-argument");(0,k.Am)(Ee,_e)}function qi(Ee){(0,k.Ub)(Ee)}const Qt="firebase-heartbeat-store";let Rr=null;function Ki(){return Rr||(Rr=(0,X.openDb)("firebase-heartbeat-database",1,Ee=>{0===Ee.oldVersion&&Ee.createObjectStore(Qt)}).catch(Ee=>{throw jn.create("storage-open",{originalErrorMessage:Ee.message})})),Rr}function Qe(){return(Qe=(0,l.Z)(function*(Ee){try{return(yield Ki()).transaction(Qt).objectStore(Qt).get(wi(Ee))}catch(_e){throw jn.create("storage-get",{originalErrorMessage:_e.message})}})).apply(this,arguments)}function st(Ee,_e){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(Ee,_e){try{const We=(yield Ki()).transaction(Qt,"readwrite");return yield We.objectStore(Qt).put(_e,wi(Ee)),We.complete}catch(Pe){throw jn.create("storage-set",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(Ee){try{const Pe=(yield Ki()).transaction(Qt,"readwrite");return yield Pe.objectStore(Qt).delete(wi(Ee)),Pe.complete}catch(_e){throw jn.create("storage-delete",{originalErrorMessage:_e.message})}})).apply(this,arguments)}function wi(Ee){return`${Ee.name}!${Ee.options.appId}`}class U{constructor(_e){this.container=_e,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Ce(Pe),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var _e=this;return(0,l.Z)(function*(){const We=_e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ft=function $(){return(new Date).toISOString().substring(0,10)}();if(null===_e._heartbeatsCache&&(_e._heartbeatsCache=yield _e._heartbeatsCachePromise),!_e._heartbeatsCache.some(et=>et.date===ft))return _e._heartbeatsCache.push({date:ft,userAgent:We}),_e._heartbeatsCache=_e._heartbeatsCache.filter(et=>{const kt=new Date(et.date).valueOf();return Date.now()-kt<=2592e6}),_e._storage.overwrite(_e._heartbeatsCache)})()}getHeartbeatsHeader(){var _e=this;return(0,l.Z)(function*(){if(null===_e._heartbeatsCache&&(yield _e._heartbeatsCachePromise),null===_e._heartbeatsCache)return"";const{heartbeatsToSend:Pe,unsentEntries:We}=function G(Ee,_e=1024){const Pe=[];let We=Ee.slice();for(const ft of Ee){const et=Pe.find(kt=>kt.userAgent===ft.userAgent);if(et){if(et.dates.push(ft.date),ee(Pe)>_e){et.dates.pop();break}}else if(Pe.push({userAgent:ft.userAgent,dates:[ft.date]}),ee(Pe)>_e){Pe.pop();break}We=We.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:We}}(_e._heartbeatsCache),ft=(0,de.h$)(JSON.stringify({version:2,heartbeats:Pe}));return We.length>0?(_e._heartbeatsCache=We,yield _e._storage.overwrite(_e._heartbeatsCache)):(_e._heartbeatsCache=null,_e._storage.deleteAll()),ft})()}}class Ce{constructor(_e){this.app=_e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var _e=this;return(0,l.Z)(function*(){if(yield _e._canUseIndexedDBPromise){const We=yield function Tt(Ee){return Qe.apply(this,arguments)}(_e.app);return(null==We?void 0:We.heartbeats)||[]}return[]})()}overwrite(_e){var Pe=this;return(0,l.Z)(function*(){if(yield Pe._canUseIndexedDBPromise)return st(Pe.app,{heartbeats:_e})})()}add(_e){var Pe=this;return(0,l.Z)(function*(){if(yield Pe._canUseIndexedDBPromise){const ft=yield Pe.read();return st(Pe.app,{heartbeats:[...ft,..._e]})}})()}delete(_e){var Pe=this;return(0,l.Z)(function*(){if(yield Pe._canUseIndexedDBPromise){const ft=yield Pe.read();return st(Pe.app,{heartbeats:ft.filter(et=>!_e.includes(et))})}})()}deleteAll(){var _e=this;return(0,l.Z)(function*(){if(yield _e._canUseIndexedDBPromise)return function zr(Ee){return _t.apply(this,arguments)}(_e.app)})()}}function ee(Ee){return(0,de.h$)(JSON.stringify({version:2,heartbeats:Ee})).length}!function He(Ee){Ar(new Q.wA("platform-logger",_e=>new pe(_e),"PRIVATE")),Ar(new Q.wA("heartbeat",_e=>new U(_e),"PRIVATE")),nn(te,"0.7.18",Ee),nn(te,"0.7.18","esm2017"),nn("fire-js","")}("")},4859:(Ye,we,P)=>{"use strict";P.d(we,{wA:()=>k,H0:()=>te,zt:()=>X});var l=P(5861),Q=P(2090);class k{constructor(B,V,J){this.name=B,this.instanceFactory=V,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const de="[DEFAULT]";class X{constructor(B,V){this.name=B,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const V=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(V)){const J=new Q.BH;if(this.instancesDeferred.set(V,J),this.isInitialized(V)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:V});Le&&J.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(V).promise}getImmediate(B){var V;const J=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),Le=null!==(V=null==B?void 0:B.optional)&&void 0!==V&&V;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ie){if(Le)return null;throw Ie}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function se(ne){return"EAGER"===ne.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:de})}catch(V){}for(const[V,J]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(V);try{const Ie=this.getOrInitializeService({instanceIdentifier:Le});J.resolve(Ie)}catch(Ie){}}}}clearInstance(B=de){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,l.Z)(function*(){const V=Array.from(B.instances.values());yield Promise.all([...V.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...V.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=de){return this.instances.has(B)}getOptions(B=de){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:V={}}=B,J=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:J,options:V});for(const[Ie,Ae]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ie)&&Ae.resolve(Le);return Le}onInit(B,V){var J;const Le=this.normalizeInstanceIdentifier(V),Ie=null!==(J=this.onInitCallbacks.get(Le))&&void 0!==J?J:new Set;Ie.add(B),this.onInitCallbacks.set(Le,Ie);const Ae=this.instances.get(Le);return Ae&&B(Ae,Le),()=>{Ie.delete(B)}}invokeOnInitCallbacks(B,V){const J=this.onInitCallbacks.get(V);if(J)for(const Le of J)try{Le(B,V)}catch(Ie){}}getOrInitializeService({instanceIdentifier:B,options:V={}}){let J=this.instances.get(B);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=B,ne===de?void 0:ne),options:V}),this.instances.set(B,J),this.instancesOptions.set(B,V),this.invokeOnInitCallbacks(J,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,J)}catch(Le){}var ne;return J||null}normalizeInstanceIdentifier(B=de){return this.component?this.component.multipleInstances?B:de:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const V=this.getProvider(B.name);if(V.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);V.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const V=new X(B,this);return this.providers.set(B,V),V}getProviders(){return Array.from(this.providers.values())}}},1877:(Ye,we,P)=>{"use strict";P.d(we,{in:()=>Q,Yd:()=>se,Ub:()=>te,Am:()=>ne});const l=[];var Q=(()=>{return(B=Q||(Q={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",Q;var B})();const k={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},de=Q.INFO,X={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},pe=(B,V,...J)=>{if(V<B.logLevel)return;const Le=(new Date).toISOString(),Ie=X[V];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[Ie](`[${Le}]  ${B.name}:`,...J)};class se{constructor(V){this.name=V,this._logLevel=de,this._logHandler=pe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in Q))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?k[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...V),this._logHandler(this,Q.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...V),this._logHandler(this,Q.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...V),this._logHandler(this,Q.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...V),this._logHandler(this,Q.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...V),this._logHandler(this,Q.ERROR,...V)}}function te(B){l.forEach(V=>{V.setLogLevel(B)})}function ne(B,V){for(const J of l){let Le=null;V&&V.level&&(Le=k[V.level]),J.userLogHandler=null===B?null:(Ie,Ae,...Ne)=>{const W=Ne.map(ue=>{if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch(Te){return null}}).filter(ue=>ue).join(" ");Ae>=(null!=Le?Le:Ie.logLevel)&&B({level:Q[Ae].toLowerCase(),message:W,args:Ne,type:Ie.name})}}}},5861:(Ye,we,P)=>{"use strict";function l(k,de,X,pe,se,te,ne){try{var B=k[te](ne),V=B.value}catch(J){return void X(J)}B.done?de(V):Promise.resolve(V).then(pe,se)}function Q(k){return function(){var de=this,X=arguments;return new Promise(function(pe,se){var te=k.apply(de,X);function ne(V){l(te,pe,se,ne,B,"next",V)}function B(V){l(te,pe,se,ne,B,"throw",V)}ne(void 0)})}}P.d(we,{Z:()=>Q})}},Ye=>{Ye(Ye.s=9582)}]);